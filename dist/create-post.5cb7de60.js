// modules are defined as an array
// [ module function, map of requires ]
//
// map of requires is short require name -> numeric require
//
// anything defined in a previous bundle is accessed via the
// orig method which is the require for previous bundles

(function(modules, entry, mainEntry, parcelRequireName, globalName) {
  /* eslint-disable no-undef */
  var globalObject =
    typeof globalThis !== 'undefined'
      ? globalThis
      : typeof self !== 'undefined'
      ? self
      : typeof window !== 'undefined'
      ? window
      : typeof global !== 'undefined'
      ? global
      : {};
  /* eslint-enable no-undef */

  // Save the require from previous bundle to this closure if any
  var previousRequire =
    typeof globalObject[parcelRequireName] === 'function' &&
    globalObject[parcelRequireName];

  var cache = previousRequire.cache || {};
  // Do not use `require` to prevent Webpack from trying to bundle this call
  var nodeRequire =
    typeof module !== 'undefined' &&
    typeof module.require === 'function' &&
    module.require.bind(module);

  function newRequire(name, jumped) {
    if (!cache[name]) {
      if (!modules[name]) {
        // if we cannot find the module within our internal map or
        // cache jump to the current global require ie. the last bundle
        // that was added to the page.
        var currentRequire =
          typeof globalObject[parcelRequireName] === 'function' &&
          globalObject[parcelRequireName];
        if (!jumped && currentRequire) {
          return currentRequire(name, true);
        }

        // If there are other bundles on this page the require from the
        // previous one is saved to 'previousRequire'. Repeat this as
        // many times as there are bundles until the module is found or
        // we exhaust the require chain.
        if (previousRequire) {
          return previousRequire(name, true);
        }

        // Try the node require function if it exists.
        if (nodeRequire && typeof name === 'string') {
          return nodeRequire(name);
        }

        var err = new Error("Cannot find module '" + name + "'");
        err.code = 'MODULE_NOT_FOUND';
        throw err;
      }

      localRequire.resolve = resolve;
      localRequire.cache = {};

      var module = (cache[name] = new newRequire.Module(name));

      modules[name][0].call(
        module.exports,
        localRequire,
        module,
        module.exports,
        this
      );
    }

    return cache[name].exports;

    function localRequire(x) {
      return newRequire(localRequire.resolve(x));
    }

    function resolve(x) {
      return modules[name][1][x] || x;
    }
  }

  function Module(moduleName) {
    this.id = moduleName;
    this.bundle = newRequire;
    this.exports = {};
  }

  newRequire.isParcelRequire = true;
  newRequire.Module = Module;
  newRequire.modules = modules;
  newRequire.cache = cache;
  newRequire.parent = previousRequire;
  newRequire.register = function(id, exports) {
    modules[id] = [
      function(require, module) {
        module.exports = exports;
      },
      {},
    ];
  };

  Object.defineProperty(newRequire, 'root', {
    get: function() {
      return globalObject[parcelRequireName];
    },
  });

  globalObject[parcelRequireName] = newRequire;

  for (var i = 0; i < entry.length; i++) {
    newRequire(entry[i]);
  }

  if (mainEntry) {
    // Expose entry point to Node, AMD or browser globals
    // Based on https://github.com/ForbesLindesay/umd/blob/master/template.js
    var mainExports = newRequire(mainEntry);

    // CommonJS
    if (typeof exports === 'object' && typeof module !== 'undefined') {
      module.exports = mainExports;

      // RequireJS
    } else if (typeof define === 'function' && define.amd) {
      define(function() {
        return mainExports;
      });

      // <script>
    } else if (globalName) {
      this[globalName] = mainExports;
    }
  }
})({"8Ye98":[function(require,module,exports) {
var HMR_HOST = null;
var HMR_PORT = null;
var HMR_SECURE = false;
var HMR_ENV_HASH = "69f74e7f31319ffd";
module.bundle.HMR_BUNDLE_ID = "92d425515cb7de60";
"use strict";
function _createForOfIteratorHelper(o, allowArrayLike) {
    var it;
    if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) {
        if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") {
            if (it) o = it;
            var i = 0;
            var F = function F1() {
            };
            return {
                s: F,
                n: function n() {
                    if (i >= o.length) return {
                        done: true
                    };
                    return {
                        done: false,
                        value: o[i++]
                    };
                },
                e: function e(_e) {
                    throw _e;
                },
                f: F
            };
        }
        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    var normalCompletion = true, didErr = false, err;
    return {
        s: function s() {
            it = o[Symbol.iterator]();
        },
        n: function n() {
            var step = it.next();
            normalCompletion = step.done;
            return step;
        },
        e: function e(_e2) {
            didErr = true;
            err = _e2;
        },
        f: function f() {
            try {
                if (!normalCompletion && it.return != null) it.return();
            } finally{
                if (didErr) throw err;
            }
        }
    };
}
function _unsupportedIterableToArray(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(o);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}
function _arrayLikeToArray(arr, len) {
    if (len == null || len > arr.length) len = arr.length;
    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];
    return arr2;
}
/* global HMR_HOST, HMR_PORT, HMR_ENV_HASH, HMR_SECURE */ /*::
import type {
  HMRAsset,
  HMRMessage,
} from '@parcel/reporter-dev-server/src/HMRServer.js';
interface ParcelRequire {
  (string): mixed;
  cache: {|[string]: ParcelModule|};
  hotData: mixed;
  Module: any;
  parent: ?ParcelRequire;
  isParcelRequire: true;
  modules: {|[string]: [Function, {|[string]: string|}]|};
  HMR_BUNDLE_ID: string;
  root: ParcelRequire;
}
interface ParcelModule {
  hot: {|
    data: mixed,
    accept(cb: (Function) => void): void,
    dispose(cb: (mixed) => void): void,
    // accept(deps: Array<string> | string, cb: (Function) => void): void,
    // decline(): void,
    _acceptCallbacks: Array<(Function) => void>,
    _disposeCallbacks: Array<(mixed) => void>,
  |};
}
declare var module: {bundle: ParcelRequire, ...};
declare var HMR_HOST: string;
declare var HMR_PORT: string;
declare var HMR_ENV_HASH: string;
declare var HMR_SECURE: boolean;
*/ var OVERLAY_ID = '__parcel__error__overlay__';
var OldModule = module.bundle.Module;
function Module(moduleName) {
    OldModule.call(this, moduleName);
    this.hot = {
        data: module.bundle.hotData,
        _acceptCallbacks: [],
        _disposeCallbacks: [],
        accept: function accept(fn) {
            this._acceptCallbacks.push(fn || function() {
            });
        },
        dispose: function dispose(fn) {
            this._disposeCallbacks.push(fn);
        }
    };
    module.bundle.hotData = undefined;
}
module.bundle.Module = Module;
var checkedAssets, acceptedAssets, assetsToAccept;
function getHostname() {
    return HMR_HOST || (location.protocol.indexOf('http') === 0 ? location.hostname : 'localhost');
}
function getPort() {
    return HMR_PORT || location.port;
} // eslint-disable-next-line no-redeclare
var parent = module.bundle.parent;
if ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {
    var hostname = getHostname();
    var port = getPort();
    var protocol = HMR_SECURE || location.protocol == 'https:' && !/localhost|127.0.0.1|0.0.0.0/.test(hostname) ? 'wss' : 'ws';
    var ws = new WebSocket(protocol + '://' + hostname + (port ? ':' + port : '') + '/'); // $FlowFixMe
    ws.onmessage = function(event) {
        checkedAssets = {
        };
        acceptedAssets = {
        };
        assetsToAccept = [];
        var data = JSON.parse(event.data);
        if (data.type === 'update') {
            // Remove error overlay if there is one
            removeErrorOverlay();
            var assets = data.assets.filter(function(asset) {
                return asset.envHash === HMR_ENV_HASH;
            }); // Handle HMR Update
            var handled = assets.every(function(asset) {
                return asset.type === 'css' || asset.type === 'js' && hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle);
            });
            if (handled) {
                console.clear();
                assets.forEach(function(asset) {
                    hmrApply(module.bundle.root, asset);
                });
                for(var i = 0; i < assetsToAccept.length; i++){
                    var id = assetsToAccept[i][1];
                    if (!acceptedAssets[id]) hmrAcceptRun(assetsToAccept[i][0], id);
                }
            } else window.location.reload();
        }
        if (data.type === 'error') {
            // Log parcel errors to console
            var _iterator = _createForOfIteratorHelper(data.diagnostics.ansi), _step;
            try {
                for(_iterator.s(); !(_step = _iterator.n()).done;){
                    var ansiDiagnostic = _step.value;
                    var stack = ansiDiagnostic.codeframe ? ansiDiagnostic.codeframe : ansiDiagnostic.stack;
                    console.error('🚨 [parcel]: ' + ansiDiagnostic.message + '\n' + stack + '\n\n' + ansiDiagnostic.hints.join('\n'));
                } // Render the fancy html overlay
            } catch (err) {
                _iterator.e(err);
            } finally{
                _iterator.f();
            }
            removeErrorOverlay();
            var overlay = createErrorOverlay(data.diagnostics.html); // $FlowFixMe
            document.body.appendChild(overlay);
        }
    };
    ws.onerror = function(e) {
        console.error(e.message);
    };
    ws.onclose = function() {
        console.warn('[parcel] 🚨 Connection to the HMR server was lost');
    };
}
function removeErrorOverlay() {
    var overlay = document.getElementById(OVERLAY_ID);
    if (overlay) {
        overlay.remove();
        console.log('[parcel] ✨ Error resolved');
    }
}
function createErrorOverlay(diagnostics) {
    var overlay = document.createElement('div');
    overlay.id = OVERLAY_ID;
    var errorHTML = '<div style="background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;">';
    var _iterator2 = _createForOfIteratorHelper(diagnostics), _step2;
    try {
        for(_iterator2.s(); !(_step2 = _iterator2.n()).done;){
            var diagnostic = _step2.value;
            var stack = diagnostic.codeframe ? diagnostic.codeframe : diagnostic.stack;
            errorHTML += "\n      <div>\n        <div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">\n          \uD83D\uDEA8 ".concat(diagnostic.message, "\n        </div>\n        <pre>\n          ").concat(stack, "\n        </pre>\n        <div>\n          ").concat(diagnostic.hints.map(function(hint) {
                return '<div>' + hint + '</div>';
            }).join(''), "\n        </div>\n      </div>\n    ");
        }
    } catch (err) {
        _iterator2.e(err);
    } finally{
        _iterator2.f();
    }
    errorHTML += '</div>';
    overlay.innerHTML = errorHTML;
    return overlay;
}
function getParents(bundle, id) /*: Array<[ParcelRequire, string]> */ {
    var modules = bundle.modules;
    if (!modules) return [];
    var parents = [];
    var k, d, dep;
    for(k in modules)for(d in modules[k][1]){
        dep = modules[k][1][d];
        if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) parents.push([
            bundle,
            k
        ]);
    }
    if (bundle.parent) parents = parents.concat(getParents(bundle.parent, id));
    return parents;
}
function updateLink(link) {
    var newLink = link.cloneNode();
    newLink.onload = function() {
        if (link.parentNode !== null) // $FlowFixMe
        link.parentNode.removeChild(link);
    };
    newLink.setAttribute('href', link.getAttribute('href').split('?')[0] + '?' + Date.now()); // $FlowFixMe
    link.parentNode.insertBefore(newLink, link.nextSibling);
}
var cssTimeout = null;
function reloadCSS() {
    if (cssTimeout) return;
    cssTimeout = setTimeout(function() {
        var links = document.querySelectorAll('link[rel="stylesheet"]');
        for(var i = 0; i < links.length; i++){
            // $FlowFixMe[incompatible-type]
            var href = links[i].getAttribute('href');
            var hostname = getHostname();
            var servedFromHMRServer = hostname === 'localhost' ? new RegExp('^(https?:\\/\\/(0.0.0.0|127.0.0.1)|localhost):' + getPort()).test(href) : href.indexOf(hostname + ':' + getPort());
            var absolute = /^https?:\/\//i.test(href) && href.indexOf(window.location.origin) !== 0 && !servedFromHMRServer;
            if (!absolute) updateLink(links[i]);
        }
        cssTimeout = null;
    }, 50);
}
function hmrApply(bundle, asset) {
    var modules = bundle.modules;
    if (!modules) return;
    if (asset.type === 'css') {
        reloadCSS();
        return;
    }
    var deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];
    if (deps) {
        var fn = new Function('require', 'module', 'exports', asset.output);
        modules[asset.id] = [
            fn,
            deps
        ];
    } else if (bundle.parent) hmrApply(bundle.parent, asset);
}
function hmrAcceptCheck(bundle, id, depsByBundle) {
    var modules = bundle.modules;
    if (!modules) return;
    if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {
        // If we reached the root bundle without finding where the asset should go,
        // there's nothing to do. Mark as "accepted" so we don't reload the page.
        if (!bundle.parent) return true;
        return hmrAcceptCheck(bundle.parent, id, depsByBundle);
    }
    if (checkedAssets[id]) return;
    checkedAssets[id] = true;
    var cached = bundle.cache[id];
    assetsToAccept.push([
        bundle,
        id
    ]);
    if (cached && cached.hot && cached.hot._acceptCallbacks.length) return true;
    return getParents(module.bundle.root, id).some(function(v) {
        return hmrAcceptCheck(v[0], v[1], null);
    });
}
function hmrAcceptRun(bundle, id) {
    var cached = bundle.cache[id];
    bundle.hotData = {
    };
    if (cached && cached.hot) cached.hot.data = bundle.hotData;
    if (cached && cached.hot && cached.hot._disposeCallbacks.length) cached.hot._disposeCallbacks.forEach(function(cb) {
        cb(bundle.hotData);
    });
    delete bundle.cache[id];
    bundle(id);
    cached = bundle.cache[id];
    if (cached && cached.hot && cached.hot._acceptCallbacks.length) cached.hot._acceptCallbacks.forEach(function(cb) {
        var assetsToAlsoAccept = cb(function() {
            return getParents(module.bundle.root, id);
        });
        if (assetsToAlsoAccept && assetsToAccept.length) // $FlowFixMe[method-unbinding]
        assetsToAccept.push.apply(assetsToAccept, assetsToAlsoAccept);
    });
    acceptedAssets[id] = true;
}

},{}],"6cF5V":[function(require,module,exports) {
var parcelHelpers = require("@parcel/transformer-js/src/esmodule-helpers.js");
var _ckeditor5BuildClassic = require("@ckeditor/ckeditor5-build-classic");
var _ckeditor5BuildClassicDefault = parcelHelpers.interopDefault(_ckeditor5BuildClassic);
_ckeditor5BuildClassicDefault.default.create(document.querySelector("#editor"), {
    // toolbar: [ 'heading', '|', 'bold', 'italic', 'link' ]
    // toolbar: "standard",
    allowedContent: "p b i ul li; img[!src]"
}).then((editor)=>{
    window.editor = editor;
}).catch((err)=>{
    console.error(err.stack);
});

},{"@ckeditor/ckeditor5-build-classic":"foT9W","@parcel/transformer-js/src/esmodule-helpers.js":"JacNc"}],"foT9W":[function(require,module,exports) {
/*!
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */ !function(e) {
    const t = e.en = e.en || {
    };
    t.dictionary = Object.assign(t.dictionary || {
    }, {
        "%0 of %1": "%0 of %1",
        Aquamarine: "Aquamarine",
        Black: "Black",
        "Block quote": "Block quote",
        Blue: "Blue",
        Bold: "Bold",
        "Break text": "Break text",
        "Bulleted List": "Bulleted List",
        Cancel: "Cancel",
        "Cannot upload file:": "Cannot upload file:",
        "Centered image": "Centered image",
        "Change image text alternative": "Change image text alternative",
        "Choose heading": "Choose heading",
        Column: "Column",
        "Could not insert image at the current position.": "Could not insert image at the current position.",
        "Could not obtain resized image URL.": "Could not obtain resized image URL.",
        "Decrease indent": "Decrease indent",
        "Delete column": "Delete column",
        "Delete row": "Delete row",
        "Dim grey": "Dim grey",
        Downloadable: "Downloadable",
        "Dropdown toolbar": "Dropdown toolbar",
        "Edit block": "Edit block",
        "Edit link": "Edit link",
        "Editor toolbar": "Editor toolbar",
        "Enter image caption": "Enter image caption",
        "Full size image": "Full size image",
        Green: "Green",
        Grey: "Grey",
        "Header column": "Header column",
        "Header row": "Header row",
        Heading: "Heading",
        "Heading 1": "Heading 1",
        "Heading 2": "Heading 2",
        "Heading 3": "Heading 3",
        "Heading 4": "Heading 4",
        "Heading 5": "Heading 5",
        "Heading 6": "Heading 6",
        "Image toolbar": "Image toolbar",
        "image widget": "image widget",
        "In line": "In line",
        "Increase indent": "Increase indent",
        "Insert column left": "Insert column left",
        "Insert column right": "Insert column right",
        "Insert image": "Insert image",
        "Insert image or file": "Insert image or file",
        "Insert media": "Insert media",
        "Insert paragraph after block": "Insert paragraph after block",
        "Insert paragraph before block": "Insert paragraph before block",
        "Insert row above": "Insert row above",
        "Insert row below": "Insert row below",
        "Insert table": "Insert table",
        "Inserting image failed": "Inserting image failed",
        Italic: "Italic",
        "Left aligned image": "Left aligned image",
        "Light blue": "Light blue",
        "Light green": "Light green",
        "Light grey": "Light grey",
        Link: "Link",
        "Link URL": "Link URL",
        "Media URL": "Media URL",
        "media widget": "media widget",
        "Merge cell down": "Merge cell down",
        "Merge cell left": "Merge cell left",
        "Merge cell right": "Merge cell right",
        "Merge cell up": "Merge cell up",
        "Merge cells": "Merge cells",
        Next: "Next",
        "Numbered List": "Numbered List",
        "Open in a new tab": "Open in a new tab",
        "Open link in new tab": "Open link in new tab",
        Orange: "Orange",
        Paragraph: "Paragraph",
        "Paste the media URL in the input.": "Paste the media URL in the input.",
        Previous: "Previous",
        Purple: "Purple",
        Red: "Red",
        Redo: "Redo",
        "Rich Text Editor": "Rich Text Editor",
        "Rich Text Editor, %0": "Rich Text Editor, %0",
        "Right aligned image": "Right aligned image",
        Row: "Row",
        Save: "Save",
        "Select all": "Select all",
        "Select column": "Select column",
        "Select row": "Select row",
        "Selecting resized image failed": "Selecting resized image failed",
        "Show more items": "Show more items",
        "Side image": "Side image",
        "Split cell horizontally": "Split cell horizontally",
        "Split cell vertically": "Split cell vertically",
        "Table toolbar": "Table toolbar",
        "Text alternative": "Text alternative",
        "The URL must not be empty.": "The URL must not be empty.",
        "This link has no URL": "This link has no URL",
        "This media URL is not supported.": "This media URL is not supported.",
        "Tip: Paste the URL into the content to embed faster.": "Tip: Paste the URL into the content to embed faster.",
        "Toggle caption off": "Toggle caption off",
        "Toggle caption on": "Toggle caption on",
        Turquoise: "Turquoise",
        Undo: "Undo",
        Unlink: "Unlink",
        "Upload failed": "Upload failed",
        "Upload in progress": "Upload in progress",
        White: "White",
        "Widget toolbar": "Widget toolbar",
        "Wrap text": "Wrap text",
        Yellow: "Yellow"
    });
}(window.CKEDITOR_TRANSLATIONS || (window.CKEDITOR_TRANSLATIONS = {
})), (function(e, t) {
    "object" == typeof exports && "object" == typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define([], t) : "object" == typeof exports ? exports.ClassicEditor = t() : e.ClassicEditor = t();
})(window, function() {
    return (function(e) {
        var t = {
        };
        function i(n) {
            if (t[n]) return t[n].exports;
            var o = t[n] = {
                i: n,
                l: !1,
                exports: {
                }
            };
            return e[n].call(o.exports, o, o.exports, i), o.l = !0, o.exports;
        }
        return i.m = e, i.c = t, i.d = function(e1, t1, n) {
            i.o(e1, t1) || Object.defineProperty(e1, t1, {
                enumerable: !0,
                get: n
            });
        }, i.r = function(e1) {
            "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e1, Symbol.toStringTag, {
                value: "Module"
            }), Object.defineProperty(e1, "__esModule", {
                value: !0
            });
        }, i.t = function(e1, t1) {
            if (1 & t1 && (e1 = i(e1)), 8 & t1) return e1;
            if (4 & t1 && "object" == typeof e1 && e1 && e1.__esModule) return e1;
            var n = Object.create(null);
            if (i.r(n), Object.defineProperty(n, "default", {
                enumerable: !0,
                value: e1
            }), 2 & t1 && "string" != typeof e1) for(var o in e1)i.d(n, o, (function(t2) {
                return e1[t2];
            }).bind(null, o));
            return n;
        }, i.n = function(e1) {
            var t1 = e1 && e1.__esModule ? function() {
                return e1.default;
            } : function() {
                return e1;
            };
            return i.d(t1, "a", t1), t1;
        }, i.o = function(e1, t1) {
            return Object.prototype.hasOwnProperty.call(e1, t1);
        }, i.p = "", i(i.s = 108);
    })([
        function(e2, t2, i) {
            "use strict";
            i.d(t2, "a", function() {
                return n;
            }), i.d(t2, "b", function() {
                return o;
            });
            class n extends Error {
                constructor(e1, t1, i1){
                    super(`${e1}${i1 ? " " + JSON.stringify(i1) : ""}${r(e1)}`), this.name = "CKEditorError", this.context = t1, this.data = i1;
                }
                is(e) {
                    return "CKEditorError" === e;
                }
                static rethrowUnexpectedError(e, t) {
                    if (e.is && e.is("CKEditorError")) throw e;
                    const i2 = new n(e.message, t);
                    throw i2.stack = e.stack, i2;
                }
            }
            function o(e3, t3) {
                console.warn(...s(e3, t3));
            }
            function r(e3) {
                return "\nRead more: https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html#error-" + e3;
            }
            function s(e3, t3) {
                const i2 = r(e3);
                return t3 ? [
                    e3,
                    t3,
                    i2
                ] : [
                    e3,
                    i2
                ];
            }
        },
        function(e, t, i) {
            "use strict";
            var n, o = function() {
                return (void 0) === n && (n = Boolean(window && document && document.all && !window.atob)), n;
            }, r = function() {
                var e1 = {
                };
                return function(t1) {
                    if ((void 0) === e1[t1]) {
                        var i1 = document.querySelector(t1);
                        if (window.HTMLIFrameElement && i1 instanceof window.HTMLIFrameElement) try {
                            i1 = i1.contentDocument.head;
                        } catch (e2) {
                            i1 = null;
                        }
                        e1[t1] = i1;
                    }
                    return e1[t1];
                };
            }(), s = [];
            function a(e1) {
                for(var t1 = -1, i2 = 0; i2 < s.length; i2++)if (s[i2].identifier === e1) {
                    t1 = i2;
                    break;
                }
                return t1;
            }
            function c(e1, t1) {
                for(var i2 = {
                }, n1 = [], o1 = 0; o1 < e1.length; o1++){
                    var r1 = e1[o1], c1 = t1.base ? r1[0] + t1.base : r1[0], l = i2[c1] || 0, d = "".concat(c1, " ").concat(l);
                    i2[c1] = l + 1;
                    var h = a(d), u = {
                        css: r1[1],
                        media: r1[2],
                        sourceMap: r1[3]
                    };
                    -1 !== h ? (s[h].references++, s[h].updater(u)) : s.push({
                        identifier: d,
                        updater: p(u, t1),
                        references: 1
                    }), n1.push(d);
                }
                return n1;
            }
            function l(e1) {
                var t1 = document.createElement("style"), n1 = e1.attributes || {
                };
                if ((void 0) === n1.nonce) {
                    var o1 = i.nc;
                    o1 && (n1.nonce = o1);
                }
                if (Object.keys(n1).forEach(function(e2) {
                    t1.setAttribute(e2, n1[e2]);
                }), "function" == typeof e1.insert) e1.insert(t1);
                else {
                    var s1 = r(e1.insert || "head");
                    if (!s1) throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
                    s1.appendChild(t1);
                }
                return t1;
            }
            var d, h = (d = [], function(e1, t1) {
                return d[e1] = t1, d.filter(Boolean).join("\n");
            });
            function u(e1, t1, i2, n1) {
                var o2 = i2 ? "" : n1.media ? "@media ".concat(n1.media, " {").concat(n1.css, "}") : n1.css;
                if (e1.styleSheet) e1.styleSheet.cssText = h(t1, o2);
                else {
                    var r2 = document.createTextNode(o2), s2 = e1.childNodes;
                    s2[t1] && e1.removeChild(s2[t1]), s2.length ? e1.insertBefore(r2, s2[t1]) : e1.appendChild(r2);
                }
            }
            function g(e1, t1, i2) {
                var n1 = i2.css, o2 = i2.media, r3 = i2.sourceMap;
                if (o2 ? e1.setAttribute("media", o2) : e1.removeAttribute("media"), r3 && "undefined" != typeof btoa && (n1 += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r3)))), " */")), e1.styleSheet) e1.styleSheet.cssText = n1;
                else {
                    for(; e1.firstChild;)e1.removeChild(e1.firstChild);
                    e1.appendChild(document.createTextNode(n1));
                }
            }
            var m = null, f = 0;
            function p(e1, t1) {
                var i2, n1, o2;
                if (t1.singleton) {
                    var r3 = f++;
                    i2 = m || (m = l(t1)), n1 = u.bind(null, i2, r3, !1), o2 = u.bind(null, i2, r3, !0);
                } else i2 = l(t1), n1 = g.bind(null, i2, t1), o2 = function() {
                    !function(e2) {
                        if (null === e2.parentNode) return !1;
                        e2.parentNode.removeChild(e2);
                    }(i2);
                };
                return n1(e1), function(t2) {
                    if (t2) {
                        if (t2.css === e1.css && t2.media === e1.media && t2.sourceMap === e1.sourceMap) return;
                        n1(e1 = t2);
                    } else o2();
                };
            }
            e.exports = function(e1, t1) {
                (t1 = t1 || {
                }).singleton || "boolean" == typeof t1.singleton || (t1.singleton = o());
                var i2 = c(e1 = e1 || [], t1);
                return function(e2) {
                    if (e2 = e2 || [], "[object Array]" === Object.prototype.toString.call(e2)) {
                        for(var n1 = 0; n1 < i2.length; n1++){
                            var o2 = a(i2[n1]);
                            s[o2].references--;
                        }
                        for(var r4 = c(e2, t1), l1 = 0; l1 < i2.length; l1++){
                            var d1 = a(i2[l1]);
                            0 === s[d1].references && (s[d1].updater(), s.splice(d1, 1));
                        }
                        i2 = r4;
                    }
                };
            };
        },
        ,
        function(e, t, i2) {
            "use strict";
            var n2 = i2(8), o3 = "object" == typeof self && self && self.Object === Object && self, r5 = n2.a || o3 || Function("return this")();
            t.a = r5;
        },
        function(e, t, i2) {
            "use strict";
            (function(e1) {
                var n2 = i2(3), o3 = i2(14), r5 = "object" == typeof exports && exports && !exports.nodeType && exports, s3 = r5 && "object" == typeof e1 && e1 && !e1.nodeType && e1, a = s3 && s3.exports === r5 ? n2.a.Buffer : void 0, c2 = (a ? a.isBuffer : void 0) || o3.a;
                t.a = c2;
            }).call(this, i2(10)(e));
        },
        function(e, t, i2) {
            "use strict";
            (function(e1) {
                var n2 = i2(8), o3 = "object" == typeof exports && exports && !exports.nodeType && exports, r5 = o3 && "object" == typeof e1 && e1 && !e1.nodeType && e1, s3 = r5 && r5.exports === o3 && n2.a.process, a = function() {
                    try {
                        var e2 = r5 && r5.require && r5.require("util").types;
                        return e2 || s3 && s3.binding && s3.binding("util");
                    } catch (e3) {
                    }
                }();
                t.a = a;
            }).call(this, i2(10)(e));
        },
        function(e, t, i2) {
            "use strict";
            (function(e1) {
                var t1 = i2(0);
                const n2 = "object" == typeof window ? window : e1;
                if (n2.CKEDITOR_VERSION) throw new t1.a("ckeditor-duplicated-modules", null);
                n2.CKEDITOR_VERSION = "29.1.0";
            }).call(this, i2(12));
        },
        function(e, t, i2) {
            var n2 = i2(1), o3 = i2(76);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t, i2) {
            "use strict";
            (function(e1) {
                var i3 = "object" == typeof e1 && e1 && e1.Object === Object && e1;
                t.a = i3;
            }).call(this, i2(12));
        },
        function(e, t, i2) {
            "use strict";
            (function(e1) {
                var n2 = i2(3), o3 = "object" == typeof exports && exports && !exports.nodeType && exports, r5 = o3 && "object" == typeof e1 && e1 && !e1.nodeType && e1, s3 = r5 && r5.exports === o3 ? n2.a.Buffer : void 0, a = s3 ? s3.allocUnsafe : void 0;
                t.a = function(e2, t1) {
                    if (t1) return e2.slice();
                    var i3 = e2.length, n3 = a ? a(i3) : new e2.constructor(i3);
                    return e2.copy(n3), n3;
                };
            }).call(this, i2(10)(e));
        },
        function(e, t) {
            e.exports = function(e1) {
                if (!e1.webpackPolyfill) {
                    var t1 = Object.create(e1);
                    t1.children || (t1.children = []), Object.defineProperty(t1, "loaded", {
                        enumerable: !0,
                        get: function() {
                            return t1.l;
                        }
                    }), Object.defineProperty(t1, "id", {
                        enumerable: !0,
                        get: function() {
                            return t1.i;
                        }
                    }), Object.defineProperty(t1, "exports", {
                        enumerable: !0
                    }), t1.webpackPolyfill = 1;
                }
                return t1;
            };
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(77);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            var i2;
            i2 = (function() {
                return this;
            })();
            try {
                i2 = i2 || new Function("return this")();
            } catch (e1) {
                "object" == typeof window && (i2 = window);
            }
            e.exports = i2;
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(71);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2, i2) {
            "use strict";
            t2.a = function() {
                return !1;
            };
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(16);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:208,79%,51%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-color-link-fake-selection:rgba(31,177,255,0.3);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(18);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(20);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = '.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s,.ck.ck-tooltip.ck-tooltip_se,.ck.ck-tooltip.ck-tooltip_sw{bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{top:calc(var(--ck-tooltip-arrow-size)*-1 + 1px);transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_sw{right:50%;left:auto}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text{left:auto;right:calc(var(--ck-tooltip-arrow-size)*-2)}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{left:auto;right:0}.ck.ck-tooltip.ck-tooltip_se{left:50%;right:auto}.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text{right:auto;left:calc(var(--ck-tooltip-arrow-size)*-2)}.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text:after{right:auto;left:0;transform:translateX(50%)}.ck.ck-tooltip.ck-tooltip_n{top:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}.ck.ck-tooltip.ck-tooltip_e{left:calc(100% + var(--ck-tooltip-arrow-size));top:50%}.ck.ck-tooltip.ck-tooltip_e .ck-tooltip__text{left:0;transform:translateY(-50%)}.ck.ck-tooltip.ck-tooltip_e .ck-tooltip__text:after{left:calc(var(--ck-tooltip-arrow-size)*-1);top:calc(50% - var(--ck-tooltip-arrow-size)*1);border-left-color:transparent;border-bottom-color:transparent;border-right-color:var(--ck-color-tooltip-background);border-top-color:transparent;border-left-width:0;border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}.ck.ck-tooltip.ck-tooltip_w{right:calc(100% + var(--ck-tooltip-arrow-size));left:auto;top:50%}.ck.ck-tooltip.ck-tooltip_w .ck-tooltip__text{left:0;transform:translateY(-50%)}.ck.ck-tooltip.ck-tooltip_w .ck-tooltip__text:after{left:100%;top:calc(50% - var(--ck-tooltip-arrow-size)*1);border-left-color:var(--ck-color-tooltip-background);border-bottom-color:transparent;border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:0;border-top-width:var(--ck-tooltip-arrow-size)}';
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(22);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(var(--ck-spacing-small)*-1);margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(24);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - var(--ck-switch-button-toggle-spacing)*2)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*0.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var(--ck-switch-button-translation)*-1))}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(26);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#000}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{width:var(--ck-color-grid-tile-size);height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;border:0}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{display:none;color:var(--ck-color-color-grid-check-icon)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(28);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = '.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{content:"";position:absolute;width:1px;height:100%;background-color:var(--ck-color-split-button-hover-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}';
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(30);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);max-width:var(--ck-dropdown-max-width);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(32);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;background:var(--ck-color-toolbar-border);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(34);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(var(--ck-line-height-base)*0.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(36);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{width:max-content;max-width:var(--ck-toolbar-dropdown-max-width)}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(38);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(40);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(42);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(44);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck.ck-form__header{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{padding:var(--ck-spacing-small) var(--ck-spacing-large);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-form__header .ck-form__header__label{font-weight:700}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(46);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(48);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{pointer-events:none;transform-origin:0 0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);background:var(--ck-color-labeled-field-label-background);padding:0 calc(var(--ck-font-size-tiny)*0.5);line-height:normal;font-weight:400;text-overflow:ellipsis;overflow:hidden;max-width:100%;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-spacing-medium),calc(var(--ck-font-size-base)*0.6)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-spacing-medium)*-1),calc(var(--ck-font-size-base)*0.6)) scale(1)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));background:transparent;padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(50);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border);filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}';
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(52);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(54);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(56);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(58);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(60);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck.ck-placeholder,.ck .ck-placeholder{position:relative}.ck.ck-placeholder:before,.ck .ck-placeholder:before{position:absolute;left:0;right:0;content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(62);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(64);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = '.ck .ck-widget .ck-widget__type-around__button{display:block;position:absolute;overflow:hidden;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{position:absolute;top:50%;left:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{top:calc(var(--ck-widget-outline-thickness)*-0.5);left:min(10%,30px);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-0.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;position:absolute;top:1px;left:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;position:absolute;left:0;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{top:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{width:var(--ck-widget-type-around-button-size);height:var(--ck-widget-type-around-button-size);background:var(--ck-color-widget-type-around-button);border-radius:100px;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);opacity:0;pointer-events:none}.ck .ck-widget .ck-widget__type-around__button svg{width:10px;height:8px;transform:translate(-50%,-50%);transition:transform .5s ease;margin-top:1px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{width:calc(var(--ck-widget-type-around-button-size) - 2px);height:calc(var(--ck-widget-type-around-button-size) - 2px);border-radius:100px;background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3))}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{pointer-events:none;height:1px;animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;outline:1px solid hsla(0,0%,100%,.5);background:var(--ck-color-base-text)}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}';
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(66);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:0 var(--ck-spacing-small);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{top:calc(var(--ck-resizer-tooltip-height)*-1);left:50%;transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness));top:0}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(68);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = '.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;position:relative;pointer-events:none}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);top:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);border:1px solid var(--ck-clipboard-drop-target-color);background:var(--ck-clipboard-drop-target-color);margin-left:-1px}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{content:"";width:0;height:0;display:block;position:absolute;left:50%;top:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);transform:translateX(-50%);border-left:calc(var(--ck-clipboard-drop-target-dot-width)*0.5) solid transparent;border-bottom:0 solid transparent;border-right:calc(var(--ck-clipboard-drop-target-dot-width)*0.5) solid transparent;border-top:calc(var(--ck-clipboard-drop-target-dot-height)) solid var(--ck-clipboard-drop-target-color)}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}';
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(70);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}";
        },
        function(e, t2) {
            e.exports = ".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(73);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;position:absolute;pointer-events:none;left:0;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{position:absolute;pointer-events:all}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{width:var(--ck-resizer-size);height:var(--ck-resizer-size);background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{top:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{top:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(75);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}";
        },
        function(e, t2) {
            e.exports = '.ck-vertical-form .ck-button:after{content:"";width:0;position:absolute;right:-1px;top:var(--ck-spacing-small);bottom:var(--ck-spacing-small);z-index:1}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{content:"";width:0;position:absolute;right:-1px;top:var(--ck-spacing-small);bottom:var(--ck-spacing-small);z-index:1}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-text-width)*0.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-large);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after,[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}';
        },
        function(e, t2) {
            e.exports = ".ck-content .image{display:table;clear:both;text-align:center;margin:.9em auto;min-width:50px}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{display:inline-flex;max-width:100%;align-items:flex-start}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{padding-left:inherit;padding-right:inherit;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(79);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:var(--ck-color-image-caption-text);background-color:var(--ck-color-image-caption-background);padding:.6em;font-size:.75em;outline-offset:-1px}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(81);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-right:0;margin-left:auto}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-top:var(--ck-inline-image-style-spacing);margin-bottom:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(83);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image-inline .ck-progress-bar,.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image-inline .ck-progress-bar,.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(85);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = '.ck-image-upload-complete-icon{display:block;position:absolute;top:min(var(--ck-spacing-medium),6%);right:min(var(--ck-spacing-medium),6%);border-radius:50%;z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:calc(1px*var(--ck-image-upload-icon-size));animation-delay:0ms,3s;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}';
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(87);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = '.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}';
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(89);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{height:100%;border-right:1px solid var(--ck-color-base-text);margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(91);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(93);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(95);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = '.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(var(--ck-spacing-standard)*3);background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMDAzLjc4IDEuNjFoNDkuNjIxYzEuNjk0IDAgMy4xOS0uNzk4IDQuMTQ2LTIuMDM3eiIgZmlsbD0iIzVjODhjNSIvPjxwYXRoIGQ9Ik0yMjYuNzQyIDIyMi45ODhjLTkuMjY2IDAtMTYuNzc3IDcuMTctMTYuNzc3IDE2LjAxNC4wMDcgMi43NjIuNjYzIDUuNDc0IDIuMDkzIDcuODc1LjQzLjcwMy44MyAxLjQwOCAxLjE5IDIuMTA3LjMzMy41MDIuNjUgMS4wMDUuOTUgMS41MDguMzQzLjQ3Ny42NzMuOTU3Ljk4OCAxLjQ0IDEuMzEgMS43NjkgMi41IDMuNTAyIDMuNjM3IDUuMTY4Ljc5MyAxLjI3NSAxLjY4MyAyLjY0IDIuNDY2IDMuOTkgMi4zNjMgNC4wOTQgNC4wMDcgOC4wOTIgNC42IDEzLjkxNHYuMDEyYy4xODIuNDEyLjUxNi42NjYuODc5LjY2Ny40MDMtLjAwMS43NjgtLjMxNC45My0uNzk5LjYwMy01Ljc1NiAyLjIzOC05LjcyOSA0LjU4NS0xMy43OTQuNzgyLTEuMzUgMS42NzMtMi43MTUgMi40NjUtMy45OSAxLjEzNy0xLjY2NiAyLjMyOC0zLjQgMy42MzgtNS4xNjkuMzE1LS40ODIuNjQ1LS45NjIuOTg4LTEuNDM5LjMtLjUwMy42MTctMS4wMDYuOTUtMS41MDguMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0eiIgZmlsbD0iI2RkNGIzZSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48ZWxsaXBzZSByeT0iNS41NjQiIHJ4PSI1LjgyOCIgY3k9IjIzOS4wMDIiIGN4PSIyMjYuNzQyIiBmaWxsPSIjODAyZDI3IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0xOTAuMzAxIDIzNy4yODNjLTQuNjcgMC04LjQ1NyAzLjg1My04LjQ1NyA4LjYwNnMzLjc4NiA4LjYwNyA4LjQ1NyA4LjYwN2MzLjA0MyAwIDQuODA2LS45NTggNi4zMzctMi41MTYgMS41My0xLjU1NyAyLjA4Ny0zLjkxMyAyLjA4Ny02LjI5IDAtLjM2Mi0uMDIzLS43MjItLjA2NC0xLjA3OWgtOC4yNTd2My4wNDNoNC44NWMtLjE5Ny43NTktLjUzMSAxLjQ1LTEuMDU4IDEuOTg2LS45NDIuOTU4LTIuMDI4IDEuNTQ4LTMuOTAxIDEuNTQ4LTIuODc2IDAtNS4yMDgtMi4zNzItNS4yMDgtNS4yOTkgMC0yLjkyNiAyLjMzMi01LjI5OSA1LjIwOC01LjI5OSAxLjM5OSAwIDIuNjE4LjQwNyAzLjU4NCAxLjI5M2wyLjM4MS0yLjM4YzAtLjAwMi0uMDAzLS4wMDQtLjAwNC0uMDA1LTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTV6bTQuNDMgNS42NmwuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxNS4xODQgMjUxLjkyOWwtNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMjMzIDUuMjMzIDAgMDAuNDQ5LTIuMTIzdi0zMS4xNjVjLS40NjkuNjc1LS45MzQgMS4zNDktMS4zODIgMi4wMDUtLjc5MiAxLjI3NS0xLjY4MiAyLjY0LTIuNDY1IDMuOTktMi4zNDcgNC4wNjUtMy45ODIgOC4wMzgtNC41ODUgMTMuNzk0LS4xNjIuNDg1LS41MjcuNzk4LS45My43OTktLjM2My0uMDAxLS42OTctLjI1NS0uODc5LS42Njd2LS4wMTJjLS41OTMtNS44MjItMi4yMzctOS44Mi00LjYtMTMuOTE0LS43ODMtMS4zNS0xLjY3My0yLjcxNS0yLjQ2Ni0zLjk5LTEuMTM3LTEuNjY2LTIuMzI3LTMuNC0zLjYzNy01LjE2OWwtLjAwMi0uMDAzeiIgZmlsbD0iI2MzYzNjMyIvPjxwYXRoIGQ9Ik0yMTIuOTgzIDI0OC40OTVsLTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAwNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAwLS45ODktMS40NCAzNS4xMjcgMzUuMTI3IDAgMDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMDA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}';
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(97);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(99);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck-content .media{clear:both;margin:.9em 0;display:block;min-width:15em}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(101);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(103);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}";
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(105);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ':root{--ck-table-selected-cell-background:rgba(158,207,250,0.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{position:relative;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{content:"";pointer-events:none;background-color:var(--ck-table-selected-cell-background);position:absolute;top:0;left:0;right:0;bottom:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget_selected{outline:unset}';
        },
        function(e, t2, i2) {
            var n2 = i2(1), o3 = i2(107);
            "string" == typeof (o3 = o3.__esModule ? o3.default : o3) && (o3 = [
                [
                    e.i,
                    o3,
                    ""
                ]
            ]);
            var r5 = {
                injectType: "singletonStyleTag",
                attributes: {
                    "data-cke": !0
                },
                insert: "head",
                singleton: !0
            };
            n2(o3, r5);
            e.exports = o3.locals || {
            };
        },
        function(e, t2) {
            e.exports = ".ck-content .table{margin:.9em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border:1px solid #bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}";
        },
        function(e2, t2, i2) {
            "use strict";
            i2.r(t2), i2.d(t2, "default", function() {
                return Ew;
            });
            var n2 = function() {
                return function e1() {
                    e1.called = !0;
                };
            };
            class o3 {
                constructor(e1, t3){
                    this.source = e1, this.name = t3, this.path = [], this.stop = n2(), this.off = n2();
                }
            }
            const r5 = new Array(256).fill().map((e2, t4)=>("0" + t4.toString(16)).slice(-2)
            );
            function s3() {
                const e2 = 4294967296 * Math.random() >>> 0, t4 = 4294967296 * Math.random() >>> 0, i3 = 4294967296 * Math.random() >>> 0, n3 = 4294967296 * Math.random() >>> 0;
                return "e" + r5[e2 >> 0 & 255] + r5[e2 >> 8 & 255] + r5[e2 >> 16 & 255] + r5[e2 >> 24 & 255] + r5[t4 >> 0 & 255] + r5[t4 >> 8 & 255] + r5[t4 >> 16 & 255] + r5[t4 >> 24 & 255] + r5[i3 >> 0 & 255] + r5[i3 >> 8 & 255] + r5[i3 >> 16 & 255] + r5[i3 >> 24 & 255] + r5[n3 >> 0 & 255] + r5[n3 >> 8 & 255] + r5[n3 >> 16 & 255] + r5[n3 >> 24 & 255];
            }
            var a3 = {
                get (e) {
                    return "number" != typeof e ? this[e] || this.normal : e;
                },
                highest: 100000,
                high: 1000,
                normal: 0,
                low: -1000,
                lowest: -100000
            }, c2 = (i2(6), i2(0));
            const l2 = Symbol("listeningTo"), d2 = Symbol("emitterId");
            var h1 = {
                on (e, t, i = {
                }) {
                    this.listenTo(this, e, t, i);
                },
                once (e, t, i) {
                    let n3 = !1;
                    this.listenTo(this, e, function(e3, ...i3) {
                        n3 || (n3 = !0, e3.off(), t.call(this, e3, ...i3));
                    }, i);
                },
                off (e, t) {
                    this.stopListening(this, e, t);
                },
                listenTo (e, t, i, n = {
                }) {
                    let o4, r6;
                    this[l2] || (this[l2] = {
                    });
                    const s4 = this[l2];
                    g(e) || u2(e);
                    const a1 = g(e);
                    (o4 = s4[a1]) || (o4 = s4[a1] = {
                        emitter: e,
                        callbacks: {
                        }
                    }), (r6 = o4.callbacks[t]) || (r6 = o4.callbacks[t] = []), r6.push(i), (function(e3, t4, i3, n3, o5) {
                        t4._addEventListener ? t4._addEventListener(i3, n3, o5) : e3._addEventListener.call(t4, i3, n3, o5);
                    })(this, e, t, i, n);
                },
                stopListening (e, t, i) {
                    const n3 = this[l2];
                    let o4 = e && g(e);
                    const r6 = n3 && o4 && n3[o4], s4 = r6 && t && r6.callbacks[t];
                    if (!(!n3 || e && !r6 || t && !s4)) {
                        if (i) {
                            b2(this, e, t, i);
                            -1 !== s4.indexOf(i) && (1 === s4.length ? delete r6.callbacks[t] : b2(this, e, t, i));
                        } else if (s4) {
                            for(; i = s4.pop();)b2(this, e, t, i);
                            delete r6.callbacks[t];
                        } else if (r6) {
                            for(t in r6.callbacks)this.stopListening(e, t);
                            delete n3[o4];
                        } else {
                            for(o4 in n3)this.stopListening(n3[o4].emitter);
                            delete this[l2];
                        }
                    }
                },
                fire (e, ...t) {
                    try {
                        const i3 = e instanceof o3 ? e : new o3(this, e), n3 = i3.name;
                        let r6 = function e3(t4, i4) {
                            let n4;
                            if (!t4._events || !(n4 = t4._events[i4]) || !n4.callbacks.length) return i4.indexOf(":") > -1 ? e3(t4, i4.substr(0, i4.lastIndexOf(":"))) : null;
                            return n4.callbacks;
                        }(this, n3);
                        if (i3.path.push(this), r6) {
                            const e4 = [
                                i3,
                                ...t
                            ];
                            r6 = Array.from(r6);
                            for(let t4 = 0; t4 < r6.length && (r6[t4].callback.apply(this, e4), i3.off.called && (delete i3.off.called, this._removeEventListener(n3, r6[t4].callback)), !i3.stop.called); t4++);
                        }
                        if (this._delegations) {
                            const e4 = this._delegations.get(n3), o4 = this._delegations.get("*");
                            e4 && p4(e4, i3, t), o4 && p4(o4, i3, t);
                        }
                        return i3.return;
                    } catch (e4) {
                        c2.a.rethrowUnexpectedError(e4, this);
                    }
                },
                delegate (...e) {
                    return {
                        to: (t4, i3)=>{
                            this._delegations || (this._delegations = new Map), e.forEach((e3)=>{
                                const n3 = this._delegations.get(e3);
                                n3 ? n3.set(t4, i3) : this._delegations.set(e3, new Map([
                                    [
                                        t4,
                                        i3
                                    ]
                                ]));
                            });
                        }
                    };
                },
                stopDelegating (e, t) {
                    if (this._delegations) {
                        if (e) {
                            if (t) {
                                const i3 = this._delegations.get(e);
                                i3 && i3.delete(t);
                            } else this._delegations.delete(e);
                        } else this._delegations.clear();
                    }
                },
                _addEventListener (e, t, i) {
                    !function(e3, t4) {
                        const i3 = m(e3);
                        if (i3[t4]) return;
                        let n3 = t4, o4 = null;
                        const r6 = [];
                        for(; "" !== n3 && !i3[n3];)i3[n3] = {
                            callbacks: [],
                            childEvents: []
                        }, r6.push(i3[n3]), o4 && i3[n3].childEvents.push(o4), o4 = n3, n3 = n3.substr(0, n3.lastIndexOf(":"));
                        if ("" !== n3) {
                            for (const e4 of r6)e4.callbacks = i3[n3].callbacks.slice();
                            i3[n3].childEvents.push(o4);
                        }
                    }(this, e);
                    const n3 = f(this, e), o4 = a3.get(i.priority), r6 = {
                        callback: t,
                        priority: o4
                    };
                    for (const e3 of n3){
                        let t4 = !1;
                        for(let i3 = 0; i3 < e3.length; i3++)if (e3[i3].priority < o4) {
                            e3.splice(i3, 0, r6), t4 = !0;
                            break;
                        }
                        t4 || e3.push(r6);
                    }
                },
                _removeEventListener (e, t) {
                    const i3 = f(this, e);
                    for (const e3 of i3)for(let i4 = 0; i4 < e3.length; i4++)e3[i4].callback == t && (e3.splice(i4, 1), i4--);
                }
            };
            function u2(e3, t4) {
                e3[d2] || (e3[d2] = t4 || s3());
            }
            function g(e3) {
                return e3[d2];
            }
            function m(e3) {
                return e3._events || Object.defineProperty(e3, "_events", {
                    value: {
                    }
                }), e3._events;
            }
            function f(e3, t4) {
                const i3 = m(e3)[t4];
                if (!i3) return [];
                let n3 = [
                    i3.callbacks
                ];
                for(let t5 = 0; t5 < i3.childEvents.length; t5++){
                    const o4 = f(e3, i3.childEvents[t5]);
                    n3 = n3.concat(o4);
                }
                return n3;
            }
            function p4(e3, t4, i3) {
                for (let [n3, r6] of e3){
                    r6 ? "function" == typeof r6 && (r6 = r6(t4.name)) : r6 = t4.name;
                    const e4 = new o3(t4.source, r6);
                    e4.path = [
                        ...t4.path
                    ], n3.fire(e4, ...i3);
                }
            }
            function b2(e3, t4, i3, n3) {
                t4._removeEventListener ? t4._removeEventListener(i3, n3) : e3._removeEventListener.call(t4, i3, n3);
            }
            var w = function(e3) {
                var t4 = typeof e3;
                return null != e3 && ("object" == t4 || "function" == t4);
            }, k = i2(3), _ = k.a.Symbol, v = Object.prototype, y = v.hasOwnProperty, x = v.toString, A = _ ? _.toStringTag : void 0;
            var C = function(e3) {
                var t4 = y.call(e3, A), i3 = e3[A];
                try {
                    e3[A] = void 0;
                    var n3 = !0;
                } catch (e4) {
                }
                var o4 = x.call(e3);
                return n3 && (t4 ? e3[A] = i3 : delete e3[A]), o4;
            }, T = Object.prototype.toString;
            var E = function(e3) {
                return T.call(e3);
            }, I = _ ? _.toStringTag : void 0;
            var S = function(e3) {
                return null == e3 ? (void 0) === e3 ? "[object Undefined]" : "[object Null]" : I && I in Object(e3) ? C(e3) : E(e3);
            };
            var P, M = function(e3) {
                if (!w(e3)) return !1;
                var t4 = S(e3);
                return "[object Function]" == t4 || "[object GeneratorFunction]" == t4 || "[object AsyncFunction]" == t4 || "[object Proxy]" == t4;
            }, N = k.a["__core-js_shared__"], R = (P = /[^.]+$/.exec(N && N.keys && N.keys.IE_PROTO || "")) ? "Symbol(src)_1." + P : "";
            var O = function(e3) {
                return !!R && R in e3;
            }, z = Function.prototype.toString;
            var D = function(e3) {
                if (null != e3) {
                    try {
                        return z.call(e3);
                    } catch (e4) {
                    }
                    try {
                        return e3 + "";
                    } catch (e4) {
                    }
                }
                return "";
            }, L = /^\[object .+?Constructor\]$/, V = Function.prototype, j = Object.prototype, B = V.toString, F = j.hasOwnProperty, H = RegExp("^" + B.call(F).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
            var U = function(e3) {
                return !(!w(e3) || O(e3)) && (M(e3) ? H : L).test(D(e3));
            };
            var W = function(e3, t4) {
                return null == e3 ? void 0 : e3[t4];
            };
            var q = function(e3, t4) {
                var i3 = W(e3, t4);
                return U(i3) ? i3 : void 0;
            }, $ = function() {
                try {
                    var e3 = q(Object, "defineProperty");
                    return e3({
                    }, "", {
                    }), e3;
                } catch (e4) {
                }
            }();
            var Y = function(e3, t4, i3) {
                "__proto__" == t4 && $ ? $(e3, t4, {
                    configurable: !0,
                    enumerable: !0,
                    value: i3,
                    writable: !0
                }) : e3[t4] = i3;
            };
            var G = function(e3, t4) {
                return e3 === t4 || e3 != e3 && t4 != t4;
            }, K = Object.prototype.hasOwnProperty;
            var Q = function(e3, t4, i3) {
                var n3 = e3[t4];
                K.call(e3, t4) && G(n3, i3) && ((void 0) !== i3 || t4 in e3) || Y(e3, t4, i3);
            };
            var J = function(e3, t4, i3, n3) {
                var o4 = !i3;
                i3 || (i3 = {
                });
                for(var r6 = -1, s4 = t4.length; (++r6) < s4;){
                    var a1 = t4[r6], c3 = n3 ? n3(i3[a1], e3[a1], a1, i3, e3) : void 0;
                    (void 0) === c3 && (c3 = e3[a1]), o4 ? Y(i3, a1, c3) : Q(i3, a1, c3);
                }
                return i3;
            };
            var Z = function(e3) {
                return e3;
            };
            var X = function(e3, t4, i3) {
                switch(i3.length){
                    case 0:
                        return e3.call(t4);
                    case 1:
                        return e3.call(t4, i3[0]);
                    case 2:
                        return e3.call(t4, i3[0], i3[1]);
                    case 3:
                        return e3.call(t4, i3[0], i3[1], i3[2]);
                }
                return e3.apply(t4, i3);
            }, ee = Math.max;
            var te = function(e3, t4, i3) {
                return t4 = ee((void 0) === t4 ? e3.length - 1 : t4, 0), function() {
                    for(var n3 = arguments, o4 = -1, r6 = ee(n3.length - t4, 0), s4 = Array(r6); (++o4) < r6;)s4[o4] = n3[t4 + o4];
                    o4 = -1;
                    for(var a2 = Array(t4 + 1); (++o4) < t4;)a2[o4] = n3[o4];
                    return a2[t4] = i3(s4), X(e3, this, a2);
                };
            };
            var ie = function(e3) {
                return function() {
                    return e3;
                };
            }, ne = $ ? function(e3, t4) {
                return $(e3, "toString", {
                    configurable: !0,
                    enumerable: !1,
                    value: ie(t4),
                    writable: !0
                });
            } : Z, oe = Date.now;
            var re = function(e3) {
                var t4 = 0, i3 = 0;
                return function() {
                    var n3 = oe(), o4 = 16 - (n3 - i3);
                    if (i3 = n3, o4 > 0) {
                        if ((++t4) >= 800) return arguments[0];
                    } else t4 = 0;
                    return e3.apply(void 0, arguments);
                };
            }(ne);
            var se = function(e3, t4) {
                return re(te(e3, t4, Z), e3 + "");
            };
            var ae = function(e3) {
                return "number" == typeof e3 && e3 > -1 && e3 % 1 == 0 && e3 <= 9007199254740991;
            };
            var ce = function(e3) {
                return null != e3 && ae(e3.length) && !M(e3);
            }, le = /^(?:0|[1-9]\d*)$/;
            var de = function(e3, t4) {
                var i3 = typeof e3;
                return !!(t4 = null == t4 ? 9007199254740991 : t4) && ("number" == i3 || "symbol" != i3 && le.test(e3)) && e3 > -1 && e3 % 1 == 0 && e3 < t4;
            };
            var he = function(e3, t4, i3) {
                if (!w(i3)) return !1;
                var n3 = typeof t4;
                return !!("number" == n3 ? ce(i3) && de(t4, i3.length) : "string" == n3 && t4 in i3) && G(i3[t4], e3);
            };
            var ue = function(e3) {
                return se(function(t4, i3) {
                    var n3 = -1, o4 = i3.length, r6 = o4 > 1 ? i3[o4 - 1] : void 0, s4 = o4 > 2 ? i3[2] : void 0;
                    for(r6 = e3.length > 3 && "function" == typeof r6 ? (o4--, r6) : void 0, s4 && he(i3[0], i3[1], s4) && (r6 = o4 < 3 ? void 0 : r6, o4 = 1), t4 = Object(t4); (++n3) < o4;){
                        var a2 = i3[n3];
                        a2 && e3(t4, a2, n3, r6);
                    }
                    return t4;
                });
            };
            var ge = function(e3, t4) {
                for(var i3 = -1, n3 = Array(e3); (++i3) < e3;)n3[i3] = t4(i3);
                return n3;
            };
            var me = function(e3) {
                return null != e3 && "object" == typeof e3;
            };
            var fe = function(e3) {
                return me(e3) && "[object Arguments]" == S(e3);
            }, pe = Object.prototype, be = pe.hasOwnProperty, we = pe.propertyIsEnumerable, ke = fe(function() {
                return arguments;
            }()) ? fe : function(e3) {
                return me(e3) && be.call(e3, "callee") && !we.call(e3, "callee");
            }, _e = Array.isArray, ve = i2(4), ye = {
            };
            ye["[object Float32Array]"] = ye["[object Float64Array]"] = ye["[object Int8Array]"] = ye["[object Int16Array]"] = ye["[object Int32Array]"] = ye["[object Uint8Array]"] = ye["[object Uint8ClampedArray]"] = ye["[object Uint16Array]"] = ye["[object Uint32Array]"] = !0, ye["[object Arguments]"] = ye["[object Array]"] = ye["[object ArrayBuffer]"] = ye["[object Boolean]"] = ye["[object DataView]"] = ye["[object Date]"] = ye["[object Error]"] = ye["[object Function]"] = ye["[object Map]"] = ye["[object Number]"] = ye["[object Object]"] = ye["[object RegExp]"] = ye["[object Set]"] = ye["[object String]"] = ye["[object WeakMap]"] = !1;
            var xe = function(e3) {
                return me(e3) && ae(e3.length) && !!ye[S(e3)];
            };
            var Ae = function(e3) {
                return function(t4) {
                    return e3(t4);
                };
            }, Ce = i2(5), Te = Ce.a && Ce.a.isTypedArray, Ee = Te ? Ae(Te) : xe, Ie = Object.prototype.hasOwnProperty;
            var Se = function(e3, t4) {
                var i3 = _e(e3), n3 = !i3 && ke(e3), o4 = !i3 && !n3 && Object(ve.a)(e3), r6 = !i3 && !n3 && !o4 && Ee(e3), s4 = i3 || n3 || o4 || r6, a3 = s4 ? ge(e3.length, String) : [], c4 = a3.length;
                for(var l3 in e3)!t4 && !Ie.call(e3, l3) || s4 && ("length" == l3 || o4 && ("offset" == l3 || "parent" == l3) || r6 && ("buffer" == l3 || "byteLength" == l3 || "byteOffset" == l3) || de(l3, c4)) || a3.push(l3);
                return a3;
            }, Pe = Object.prototype;
            var Me = function(e3) {
                var t4 = e3 && e3.constructor;
                return e3 === ("function" == typeof t4 && t4.prototype || Pe);
            };
            var Ne = function(e3) {
                var t4 = [];
                if (null != e3) for(var i3 in Object(e3))t4.push(i3);
                return t4;
            }, Re = Object.prototype.hasOwnProperty;
            var Oe = function(e3) {
                if (!w(e3)) return Ne(e3);
                var t4 = Me(e3), i3 = [];
                for(var n3 in e3)("constructor" != n3 || !t4 && Re.call(e3, n3)) && i3.push(n3);
                return i3;
            };
            var ze = function(e3) {
                return ce(e3) ? Se(e3, !0) : Oe(e3);
            }, De = ue(function(e3, t4) {
                J(t4, ze(t4), e3);
            });
            const Le = Symbol("observableProperties"), Ve = Symbol("boundObservables"), je = Symbol("boundProperties"), Be = Symbol("decoratedMethods"), Fe = Symbol("decoratedOriginal"), He = {
                set (e, t) {
                    if (w(e)) return void Object.keys(e).forEach((t4)=>{
                        this.set(t4, e[t4]);
                    }, this);
                    We(this);
                    const i3 = this[Le];
                    if (e in this && !i3.has(e)) throw new c2.a("observable-set-cannot-override", this);
                    Object.defineProperty(this, e, {
                        enumerable: !0,
                        configurable: !0,
                        get: ()=>i3.get(e)
                        ,
                        set (t) {
                            const n3 = i3.get(e);
                            let o4 = this.fire("set:" + e, e, t, n3);
                            (void 0) === o4 && (o4 = t), n3 === o4 && i3.has(e) || (i3.set(e, o4), this.fire("change:" + e, e, o4, n3));
                        }
                    }), this[e] = t;
                },
                bind (...e) {
                    if (!e.length || !Ye(e)) throw new c2.a("observable-bind-wrong-properties", this);
                    if (new Set(e).size !== e.length) throw new c2.a("observable-bind-duplicate-properties", this);
                    We(this);
                    const t4 = this[je];
                    e.forEach((e3)=>{
                        if (t4.has(e3)) throw new c2.a("observable-bind-rebind", this);
                    });
                    const i3 = new Map;
                    return e.forEach((e3)=>{
                        const n3 = {
                            property: e3,
                            to: []
                        };
                        t4.set(e3, n3), i3.set(e3, n3);
                    }), {
                        to: qe,
                        toMany: $e,
                        _observable: this,
                        _bindProperties: e,
                        _to: [],
                        _bindings: i3
                    };
                },
                unbind (...e) {
                    if (!this[Le]) return;
                    const t4 = this[je], i3 = this[Ve];
                    if (e.length) {
                        if (!Ye(e)) throw new c2.a("observable-unbind-wrong-properties", this);
                        e.forEach((e3)=>{
                            const n3 = t4.get(e3);
                            if (!n3) return;
                            let o4, r6, s4, a3;
                            n3.to.forEach((e4)=>{
                                o4 = e4[0], r6 = e4[1], s4 = i3.get(o4), a3 = s4[r6], a3.delete(n3), a3.size || delete s4[r6], Object.keys(s4).length || (i3.delete(o4), this.stopListening(o4, "change"));
                            }), t4.delete(e3);
                        });
                    } else i3.forEach((e3, t5)=>{
                        this.stopListening(t5, "change");
                    }), i3.clear(), t4.clear();
                },
                decorate (e) {
                    const t4 = this[e];
                    if (!t4) throw new c2.a("observablemixin-cannot-decorate-undefined", this, {
                        object: this,
                        methodName: e
                    });
                    this.on(e, (e3, i3)=>{
                        e3.return = t4.apply(this, i3);
                    }), this[e] = function(...t5) {
                        return this.fire(e, t5);
                    }, this[e][Fe] = t4, this[Be] || (this[Be] = []), this[Be].push(e);
                }
            };
            De(He, h1), He.stopListening = function(e3, t4, i3) {
                if (!e3 && this[Be]) {
                    for (const e4 of this[Be])this[e4] = this[e4][Fe];
                    delete this[Be];
                }
                h1.stopListening.call(this, e3, t4, i3);
            };
            var Ue = He;
            function We(e3) {
                e3[Le] || (Object.defineProperty(e3, Le, {
                    value: new Map
                }), Object.defineProperty(e3, Ve, {
                    value: new Map
                }), Object.defineProperty(e3, je, {
                    value: new Map
                }));
            }
            function qe(...e3) {
                const t4 = function(...e4) {
                    if (!e4.length) throw new c2.a("observable-bind-to-parse-error", null);
                    const t5 = {
                        to: []
                    };
                    let i3;
                    "function" == typeof e4[e4.length - 1] && (t5.callback = e4.pop());
                    return e4.forEach((e5)=>{
                        if ("string" == typeof e5) i3.properties.push(e5);
                        else {
                            if ("object" != typeof e5) throw new c2.a("observable-bind-to-parse-error", null);
                            i3 = {
                                observable: e5,
                                properties: []
                            }, t5.to.push(i3);
                        }
                    }), t5;
                }(...e3), i3 = Array.from(this._bindings.keys()), n3 = i3.length;
                if (!t4.callback && t4.to.length > 1) throw new c2.a("observable-bind-to-no-callback", this);
                if (n3 > 1 && t4.callback) throw new c2.a("observable-bind-to-extra-callback", this);
                var o4;
                t4.to.forEach((e4)=>{
                    if (e4.properties.length && e4.properties.length !== n3) throw new c2.a("observable-bind-to-properties-length", this);
                    e4.properties.length || (e4.properties = this._bindProperties);
                }), this._to = t4.to, t4.callback && (this._bindings.get(i3[0]).callback = t4.callback), o4 = this._observable, this._to.forEach((e4)=>{
                    const t5 = o4[Ve];
                    let i4;
                    t5.get(e4.observable) || o4.listenTo(e4.observable, "change", (n4, r6)=>{
                        i4 = t5.get(e4.observable)[r6], i4 && i4.forEach((e5)=>{
                            Ge(o4, e5.property);
                        });
                    });
                }), (function(e4) {
                    let t5;
                    e4._bindings.forEach((i4, n4)=>{
                        e4._to.forEach((o5)=>{
                            t5 = o5.properties[i4.callback ? 0 : e4._bindProperties.indexOf(n4)], i4.to.push([
                                o5.observable,
                                t5
                            ]), (function(e5, t6, i5, n5) {
                                const o6 = e5[Ve], r6 = o6.get(i5), s4 = r6 || {
                                };
                                s4[n5] || (s4[n5] = new Set);
                                s4[n5].add(t6), r6 || o6.set(i5, s4);
                            })(e4._observable, i4, o5.observable, t5);
                        });
                    });
                })(this), this._bindProperties.forEach((e4)=>{
                    Ge(this._observable, e4);
                });
            }
            function $e(e3, t4, i3) {
                if (this._bindings.size > 1) throw new c2.a("observable-bind-to-many-not-one-binding", this);
                this.to(...function(e4, t5) {
                    const i4 = e4.map((e5)=>[
                            e5,
                            t5
                        ]
                    );
                    return Array.prototype.concat.apply([], i4);
                }(e3, t4), i3);
            }
            function Ye(e3) {
                return e3.every((e4)=>"string" == typeof e4
                );
            }
            function Ge(e3, t4) {
                const i3 = e3[je].get(t4);
                let n3;
                i3.callback ? n3 = i3.callback.apply(e3, i3.to.map((e4)=>e4[0][e4[1]]
                )) : (n3 = i3.to[0], n3 = n3[0][n3[1]]), Object.prototype.hasOwnProperty.call(e3, t4) ? e3[t4] = n3 : e3.set(t4, n3);
            }
            function Ke(e3, ...t4) {
                t4.forEach((t5)=>{
                    Object.getOwnPropertyNames(t5).concat(Object.getOwnPropertySymbols(t5)).forEach((i3)=>{
                        if (i3 in e3.prototype) return;
                        const n3 = Object.getOwnPropertyDescriptor(t5, i3);
                        n3.enumerable = !1, Object.defineProperty(e3.prototype, i3, n3);
                    });
                });
            }
            class Qe {
                constructor(e3){
                    this.editor = e3, this.set("isEnabled", !0), this._disableStack = new Set;
                }
                forceDisabled(e) {
                    this._disableStack.add(e), 1 == this._disableStack.size && (this.on("set:isEnabled", Je, {
                        priority: "highest"
                    }), this.isEnabled = !1);
                }
                clearForceDisabled(e) {
                    this._disableStack.delete(e), 0 == this._disableStack.size && (this.off("set:isEnabled", Je), this.isEnabled = !0);
                }
                destroy() {
                    this.stopListening();
                }
                static get isContextPlugin() {
                    return !1;
                }
            }
            function Je(e4) {
                e4.return = !1, e4.stop();
            }
            Ke(Qe, Ue);
            class Ze {
                constructor(e4){
                    this.editor = e4, this.set("value", void 0), this.set("isEnabled", !1), this._disableStack = new Set, this.decorate("execute"), this.listenTo(this.editor.model.document, "change", ()=>{
                        this.refresh();
                    }), this.on("execute", (e5)=>{
                        this.isEnabled || e5.stop();
                    }, {
                        priority: "high"
                    }), this.listenTo(e4, "change:isReadOnly", (e5, t4, i3)=>{
                        i3 ? this.forceDisabled("readOnlyMode") : this.clearForceDisabled("readOnlyMode");
                    });
                }
                refresh() {
                    this.isEnabled = !0;
                }
                forceDisabled(e) {
                    this._disableStack.add(e), 1 == this._disableStack.size && (this.on("set:isEnabled", Xe, {
                        priority: "highest"
                    }), this.isEnabled = !1);
                }
                clearForceDisabled(e) {
                    this._disableStack.delete(e), 0 == this._disableStack.size && (this.off("set:isEnabled", Xe), this.refresh());
                }
                execute() {
                }
                destroy() {
                    this.stopListening();
                }
            }
            function Xe(e5) {
                e5.return = !1, e5.stop();
            }
            Ke(Ze, Ue);
            class et extends Ze {
                constructor(e5){
                    super(e5), this._childCommands = [];
                }
                refresh() {
                }
                execute(...e) {
                    const t4 = this._getFirstEnabledCommand();
                    return null != t4 && t4.execute(e);
                }
                registerChildCommand(e) {
                    this._childCommands.push(e), e.on("change:isEnabled", ()=>this._checkEnabled()
                    ), this._checkEnabled();
                }
                _checkEnabled() {
                    this.isEnabled = !!this._getFirstEnabledCommand();
                }
                _getFirstEnabledCommand() {
                    return this._childCommands.find((e6)=>e6.isEnabled
                    );
                }
            }
            var tt = function(e6, t4) {
                return function(i3) {
                    return e6(t4(i3));
                };
            }, it = tt(Object.getPrototypeOf, Object), nt = Function.prototype, ot = Object.prototype, rt = nt.toString, st = ot.hasOwnProperty, at = rt.call(Object);
            var ct = function(e6) {
                if (!me(e6) || "[object Object]" != S(e6)) return !1;
                var t4 = it(e6);
                if (null === t4) return !0;
                var i3 = st.call(t4, "constructor") && t4.constructor;
                return "function" == typeof i3 && i3 instanceof i3 && rt.call(i3) == at;
            };
            var lt = function() {
                this.__data__ = [], this.size = 0;
            };
            var dt = function(e6, t4) {
                for(var i3 = e6.length; i3--;)if (G(e6[i3][0], t4)) return i3;
                return -1;
            }, ht = Array.prototype.splice;
            var ut = function(e6) {
                var t4 = this.__data__, i3 = dt(t4, e6);
                return !(i3 < 0) && (i3 == t4.length - 1 ? t4.pop() : ht.call(t4, i3, 1), --this.size, !0);
            };
            var gt = function(e6) {
                var t4 = this.__data__, i3 = dt(t4, e6);
                return i3 < 0 ? void 0 : t4[i3][1];
            };
            var mt = function(e6) {
                return dt(this.__data__, e6) > -1;
            };
            var ft = function(e6, t4) {
                var i3 = this.__data__, n3 = dt(i3, e6);
                return n3 < 0 ? (++this.size, i3.push([
                    e6,
                    t4
                ])) : i3[n3][1] = t4, this;
            };
            function pt(e6) {
                var t4 = -1, i3 = null == e6 ? 0 : e6.length;
                for(this.clear(); (++t4) < i3;){
                    var n3 = e6[t4];
                    this.set(n3[0], n3[1]);
                }
            }
            pt.prototype.clear = lt, pt.prototype.delete = ut, pt.prototype.get = gt, pt.prototype.has = mt, pt.prototype.set = ft;
            var bt = pt;
            var wt = function() {
                this.__data__ = new bt, this.size = 0;
            };
            var kt = function(e6) {
                var t4 = this.__data__, i3 = t4.delete(e6);
                return this.size = t4.size, i3;
            };
            var _t = function(e6) {
                return this.__data__.get(e6);
            };
            var vt = function(e6) {
                return this.__data__.has(e6);
            }, yt = q(k.a, "Map"), xt = q(Object, "create");
            var At = function() {
                this.__data__ = xt ? xt(null) : {
                }, this.size = 0;
            };
            var Ct = function(e6) {
                var t4 = this.has(e6) && delete this.__data__[e6];
                return this.size -= t4 ? 1 : 0, t4;
            }, Tt = Object.prototype.hasOwnProperty;
            var Et = function(e6) {
                var t4 = this.__data__;
                if (xt) {
                    var i3 = t4[e6];
                    return "__lodash_hash_undefined__" === i3 ? void 0 : i3;
                }
                return Tt.call(t4, e6) ? t4[e6] : void 0;
            }, It = Object.prototype.hasOwnProperty;
            var St = function(e6) {
                var t4 = this.__data__;
                return xt ? (void 0) !== t4[e6] : It.call(t4, e6);
            };
            var Pt = function(e6, t4) {
                var i4 = this.__data__;
                return this.size += this.has(e6) ? 0 : 1, i4[e6] = xt && (void 0) === t4 ? "__lodash_hash_undefined__" : t4, this;
            };
            function Mt(e6) {
                var t4 = -1, i4 = null == e6 ? 0 : e6.length;
                for(this.clear(); (++t4) < i4;){
                    var n4 = e6[t4];
                    this.set(n4[0], n4[1]);
                }
            }
            Mt.prototype.clear = At, Mt.prototype.delete = Ct, Mt.prototype.get = Et, Mt.prototype.has = St, Mt.prototype.set = Pt;
            var Nt = Mt;
            var Rt = function() {
                this.size = 0, this.__data__ = {
                    hash: new Nt,
                    map: new (yt || bt),
                    string: new Nt
                };
            };
            var Ot = function(e6) {
                var t4 = typeof e6;
                return "string" == t4 || "number" == t4 || "symbol" == t4 || "boolean" == t4 ? "__proto__" !== e6 : null === e6;
            };
            var zt = function(e6, t4) {
                var i4 = e6.__data__;
                return Ot(t4) ? i4["string" == typeof t4 ? "string" : "hash"] : i4.map;
            };
            var Dt = function(e6) {
                var t4 = zt(this, e6).delete(e6);
                return this.size -= t4 ? 1 : 0, t4;
            };
            var Lt = function(e6) {
                return zt(this, e6).get(e6);
            };
            var Vt = function(e6) {
                return zt(this, e6).has(e6);
            };
            var jt = function(e6, t4) {
                var i4 = zt(this, e6), n5 = i4.size;
                return i4.set(e6, t4), this.size += i4.size == n5 ? 0 : 1, this;
            };
            function Bt(e6) {
                var t4 = -1, i4 = null == e6 ? 0 : e6.length;
                for(this.clear(); (++t4) < i4;){
                    var n5 = e6[t4];
                    this.set(n5[0], n5[1]);
                }
            }
            Bt.prototype.clear = Rt, Bt.prototype.delete = Dt, Bt.prototype.get = Lt, Bt.prototype.has = Vt, Bt.prototype.set = jt;
            var Ft = Bt;
            var Ht = function(e6, t4) {
                var i4 = this.__data__;
                if (i4 instanceof bt) {
                    var n6 = i4.__data__;
                    if (!yt || n6.length < 199) return n6.push([
                        e6,
                        t4
                    ]), this.size = ++i4.size, this;
                    i4 = this.__data__ = new Ft(n6);
                }
                return i4.set(e6, t4), this.size = i4.size, this;
            };
            function Ut(e6) {
                var t4 = this.__data__ = new bt(e6);
                this.size = t4.size;
            }
            Ut.prototype.clear = wt, Ut.prototype.delete = kt, Ut.prototype.get = _t, Ut.prototype.has = vt, Ut.prototype.set = Ht;
            var Wt = Ut;
            var qt = function(e6, t4) {
                for(var i4 = -1, n7 = null == e6 ? 0 : e6.length; (++i4) < n7 && !1 !== t4(e6[i4], i4, e6););
                return e6;
            }, $t = tt(Object.keys, Object), Yt = Object.prototype.hasOwnProperty;
            var Gt = function(e6) {
                if (!Me(e6)) return $t(e6);
                var t4 = [];
                for(var i4 in Object(e6))Yt.call(e6, i4) && "constructor" != i4 && t4.push(i4);
                return t4;
            };
            var Kt = function(e6) {
                return ce(e6) ? Se(e6) : Gt(e6);
            };
            var Qt = function(e6, t4) {
                return e6 && J(t4, Kt(t4), e6);
            };
            var Jt = function(e6, t4) {
                return e6 && J(t4, ze(t4), e6);
            }, Zt = i2(9);
            var Xt = function(e6, t4) {
                var i4 = -1, n7 = e6.length;
                for(t4 || (t4 = Array(n7)); (++i4) < n7;)t4[i4] = e6[i4];
                return t4;
            };
            var ei = function(e6, t4) {
                for(var i4 = -1, n7 = null == e6 ? 0 : e6.length, o4 = 0, r6 = []; (++i4) < n7;){
                    var s4 = e6[i4];
                    t4(s4, i4, e6) && (r6[o4++] = s4);
                }
                return r6;
            };
            var ti = function() {
                return [];
            }, ii = Object.prototype.propertyIsEnumerable, ni = Object.getOwnPropertySymbols, oi = ni ? function(e6) {
                return null == e6 ? [] : (e6 = Object(e6), ei(ni(e6), function(t4) {
                    return ii.call(e6, t4);
                }));
            } : ti;
            var ri = function(e6, t4) {
                return J(e6, oi(e6), t4);
            };
            var si = function(e6, t4) {
                for(var i4 = -1, n7 = t4.length, o4 = e6.length; (++i4) < n7;)e6[o4 + i4] = t4[i4];
                return e6;
            }, ai = Object.getOwnPropertySymbols ? function(e6) {
                for(var t4 = []; e6;)si(t4, oi(e6)), e6 = it(e6);
                return t4;
            } : ti;
            var ci = function(e6, t4) {
                return J(e6, ai(e6), t4);
            };
            var li = function(e6, t4, i4) {
                var n7 = t4(e6);
                return _e(e6) ? n7 : si(n7, i4(e6));
            };
            var di = function(e6) {
                return li(e6, Kt, oi);
            };
            var hi = function(e6) {
                return li(e6, ze, ai);
            }, ui = q(k.a, "DataView"), gi = q(k.a, "Promise"), mi = q(k.a, "Set"), fi = q(k.a, "WeakMap"), pi = D(ui), bi = D(yt), wi = D(gi), ki = D(mi), _i = D(fi), vi = S;
            (ui && "[object DataView]" != vi(new ui(new ArrayBuffer(1))) || yt && "[object Map]" != vi(new yt) || gi && "[object Promise]" != vi(gi.resolve()) || mi && "[object Set]" != vi(new mi) || fi && "[object WeakMap]" != vi(new fi)) && (vi = function(e6) {
                var t4 = S(e6), i4 = "[object Object]" == t4 ? e6.constructor : void 0, n7 = i4 ? D(i4) : "";
                if (n7) switch(n7){
                    case pi:
                        return "[object DataView]";
                    case bi:
                        return "[object Map]";
                    case wi:
                        return "[object Promise]";
                    case ki:
                        return "[object Set]";
                    case _i:
                        return "[object WeakMap]";
                }
                return t4;
            });
            var yi = vi, xi = Object.prototype.hasOwnProperty;
            var Ai = function(e6) {
                var t4 = e6.length, i4 = new e6.constructor(t4);
                return t4 && "string" == typeof e6[0] && xi.call(e6, "index") && (i4.index = e6.index, i4.input = e6.input), i4;
            }, Ci = k.a.Uint8Array;
            var Ti = function(e6) {
                var t4 = new e6.constructor(e6.byteLength);
                return new Ci(t4).set(new Ci(e6)), t4;
            };
            var Ei = function(e6, t4) {
                var i4 = t4 ? Ti(e6.buffer) : e6.buffer;
                return new e6.constructor(i4, e6.byteOffset, e6.byteLength);
            }, Ii = /\w*$/;
            var Si = function(e6) {
                var t4 = new e6.constructor(e6.source, Ii.exec(e6));
                return t4.lastIndex = e6.lastIndex, t4;
            }, Pi = _ ? _.prototype : void 0, Mi = Pi ? Pi.valueOf : void 0;
            var Ni = function(e6) {
                return Mi ? Object(Mi.call(e6)) : {
                };
            };
            var Ri = function(e6, t4) {
                var i4 = t4 ? Ti(e6.buffer) : e6.buffer;
                return new e6.constructor(i4, e6.byteOffset, e6.length);
            };
            var Oi = function(e6, t4, i4) {
                var n7 = e6.constructor;
                switch(t4){
                    case "[object ArrayBuffer]":
                        return Ti(e6);
                    case "[object Boolean]":
                    case "[object Date]":
                        return new n7(+e6);
                    case "[object DataView]":
                        return Ei(e6, i4);
                    case "[object Float32Array]":
                    case "[object Float64Array]":
                    case "[object Int8Array]":
                    case "[object Int16Array]":
                    case "[object Int32Array]":
                    case "[object Uint8Array]":
                    case "[object Uint8ClampedArray]":
                    case "[object Uint16Array]":
                    case "[object Uint32Array]":
                        return Ri(e6, i4);
                    case "[object Map]":
                        return new n7;
                    case "[object Number]":
                    case "[object String]":
                        return new n7(e6);
                    case "[object RegExp]":
                        return Si(e6);
                    case "[object Set]":
                        return new n7;
                    case "[object Symbol]":
                        return Ni(e6);
                }
            }, zi = Object.create, Di = function() {
                function e6() {
                }
                return function(t4) {
                    if (!w(t4)) return {
                    };
                    if (zi) return zi(t4);
                    e6.prototype = t4;
                    var i4 = new e6;
                    return e6.prototype = void 0, i4;
                };
            }();
            var Li = function(e6) {
                return "function" != typeof e6.constructor || Me(e6) ? {
                } : Di(it(e6));
            };
            var Vi = function(e6) {
                return me(e6) && "[object Map]" == yi(e6);
            }, ji = Ce.a && Ce.a.isMap, Bi = ji ? Ae(ji) : Vi;
            var Fi = function(e6) {
                return me(e6) && "[object Set]" == yi(e6);
            }, Hi = Ce.a && Ce.a.isSet, Ui = Hi ? Ae(Hi) : Fi, Wi = {
            };
            Wi["[object Arguments]"] = Wi["[object Array]"] = Wi["[object ArrayBuffer]"] = Wi["[object DataView]"] = Wi["[object Boolean]"] = Wi["[object Date]"] = Wi["[object Float32Array]"] = Wi["[object Float64Array]"] = Wi["[object Int8Array]"] = Wi["[object Int16Array]"] = Wi["[object Int32Array]"] = Wi["[object Map]"] = Wi["[object Number]"] = Wi["[object Object]"] = Wi["[object RegExp]"] = Wi["[object Set]"] = Wi["[object String]"] = Wi["[object Symbol]"] = Wi["[object Uint8Array]"] = Wi["[object Uint8ClampedArray]"] = Wi["[object Uint16Array]"] = Wi["[object Uint32Array]"] = !0, Wi["[object Error]"] = Wi["[object Function]"] = Wi["[object WeakMap]"] = !1;
            var qi = function e6(t4, i4, n7, o4, r6, s5) {
                var a3, c4 = 1 & i4, l3 = 2 & i4, d3 = 4 & i4;
                if (n7 && (a3 = r6 ? n7(t4, o4, r6, s5) : n7(t4)), (void 0) !== a3) return a3;
                if (!w(t4)) return t4;
                var h1 = _e(t4);
                if (h1) {
                    if (a3 = Ai(t4), !c4) return Xt(t4, a3);
                } else {
                    var u1 = yi(t4), g1 = "[object Function]" == u1 || "[object GeneratorFunction]" == u1;
                    if (Object(ve.a)(t4)) return Object(Zt.a)(t4, c4);
                    if ("[object Object]" == u1 || "[object Arguments]" == u1 || g1 && !r6) {
                        if (a3 = l3 || g1 ? {
                        } : Li(t4), !c4) return l3 ? ci(t4, Jt(a3, t4)) : ri(t4, Qt(a3, t4));
                    } else {
                        if (!Wi[u1]) return r6 ? t4 : {
                        };
                        a3 = Oi(t4, u1, c4);
                    }
                }
                s5 || (s5 = new Wt);
                var m1 = s5.get(t4);
                if (m1) return m1;
                s5.set(t4, a3), Ui(t4) ? t4.forEach(function(o5) {
                    a3.add(e6(o5, i4, n7, o5, t4, s5));
                }) : Bi(t4) && t4.forEach(function(o5, r7) {
                    a3.set(r7, e6(o5, i4, n7, r7, t4, s5));
                });
                var f1 = h1 ? void 0 : (d3 ? l3 ? hi : di : l3 ? ze : Kt)(t4);
                return qt(f1 || t4, function(o5, r7) {
                    f1 && (o5 = t4[r7 = o5]), Q(a3, r7, e6(o5, i4, n7, r7, t4, s5));
                }), a3;
            };
            var $i = function(e7, t4) {
                return qi(e7, 5, t4 = "function" == typeof t4 ? t4 : void 0);
            };
            var Yi = function(e7) {
                return me(e7) && 1 === e7.nodeType && !ct(e7);
            };
            class Gi {
                constructor(e7, t4){
                    this._config = {
                    }, t4 && this.define(Ki(t4)), e7 && this._setObjectToTarget(this._config, e7);
                }
                set(e, t) {
                    this._setToTarget(this._config, e, t);
                }
                define(e, t) {
                    this._setToTarget(this._config, e, t, !0);
                }
                get(e) {
                    return this._getFromSource(this._config, e);
                }
                *names() {
                    for (const e8 of Object.keys(this._config))yield e8;
                }
                _setToTarget(e, t, i, n = !1) {
                    if (ct(t)) return void this._setObjectToTarget(e, t, n);
                    const o4 = t.split(".");
                    t = o4.pop();
                    for (const t5 of o4)ct(e[t5]) || (e[t5] = {
                    }), e = e[t5];
                    if (ct(i)) return ct(e[t]) || (e[t] = {
                    }), e = e[t], void this._setObjectToTarget(e, i, n);
                    n && (void 0) !== e[t] || (e[t] = i);
                }
                _getFromSource(e, t) {
                    const i4 = t.split(".");
                    t = i4.pop();
                    for (const t5 of i4){
                        if (!ct(e[t5])) {
                            e = null;
                            break;
                        }
                        e = e[t5];
                    }
                    return e ? Ki(e[t]) : void 0;
                }
                _setObjectToTarget(e, t, i) {
                    Object.keys(t).forEach((n7)=>{
                        this._setToTarget(e, n7, t[n7], i);
                    });
                }
            }
            function Ki(e8) {
                return $i(e8, Qi);
            }
            function Qi(e8) {
                return Yi(e8) ? e8 : void 0;
            }
            function Ji(e8) {
                return !(!e8 || !e8[Symbol.iterator]);
            }
            class Zi {
                constructor(e8 = {
                }, t5 = {
                }){
                    const i4 = Ji(e8);
                    if (i4 || (t5 = e8), this._items = [], this._itemMap = new Map, this._idProperty = t5.idProperty || "id", this._bindToExternalToInternalMap = new WeakMap, this._bindToInternalToExternalMap = new WeakMap, this._skippedIndexesFromExternal = [], i4) for (const t6 of e8)this._items.push(t6), this._itemMap.set(this._getItemIdBeforeAdding(t6), t6);
                }
                get length() {
                    return this._items.length;
                }
                get first() {
                    return this._items[0] || null;
                }
                get last() {
                    return this._items[this.length - 1] || null;
                }
                add(e, t) {
                    return this.addMany([
                        e
                    ], t);
                }
                addMany(e, t) {
                    if ((void 0) === t) t = this._items.length;
                    else if (t > this._items.length || t < 0) throw new c2.a("collection-add-item-invalid-index", this);
                    for(let i5 = 0; i5 < e.length; i5++){
                        const n7 = e[i5], o4 = this._getItemIdBeforeAdding(n7), r6 = t + i5;
                        this._items.splice(r6, 0, n7), this._itemMap.set(o4, n7), this.fire("add", n7, r6);
                    }
                    return this.fire("change", {
                        added: e,
                        removed: [],
                        index: t
                    }), this;
                }
                get(e) {
                    let t7;
                    if ("string" == typeof e) t7 = this._itemMap.get(e);
                    else {
                        if ("number" != typeof e) throw new c2.a("collection-get-invalid-arg", this);
                        t7 = this._items[e];
                    }
                    return t7 || null;
                }
                has(e) {
                    if ("string" == typeof e) return this._itemMap.has(e);
                    {
                        const t7 = e[this._idProperty];
                        return this._itemMap.has(t7);
                    }
                }
                getIndex(e) {
                    let t7;
                    return t7 = "string" == typeof e ? this._itemMap.get(e) : e, this._items.indexOf(t7);
                }
                remove(e) {
                    const [t7, i5] = this._remove(e);
                    return this.fire("change", {
                        added: [],
                        removed: [
                            t7
                        ],
                        index: i5
                    }), t7;
                }
                map(e, t) {
                    return this._items.map(e, t);
                }
                find(e, t) {
                    return this._items.find(e, t);
                }
                filter(e, t) {
                    return this._items.filter(e, t);
                }
                clear() {
                    this._bindToCollection && (this.stopListening(this._bindToCollection), this._bindToCollection = null);
                    const e9 = Array.from(this._items);
                    for(; this.length;)this._remove(0);
                    this.fire("change", {
                        added: [],
                        removed: e9,
                        index: 0
                    });
                }
                bindTo(e) {
                    if (this._bindToCollection) throw new c2.a("collection-bind-to-rebind", this);
                    return this._bindToCollection = e, {
                        as: (e9)=>{
                            this._setUpBindToBinding((t7)=>new e9(t7)
                            );
                        },
                        using: (e9)=>{
                            "function" == typeof e9 ? this._setUpBindToBinding((t7)=>e9(t7)
                            ) : this._setUpBindToBinding((t7)=>t7[e9]
                            );
                        }
                    };
                }
                _setUpBindToBinding(e) {
                    const t7 = this._bindToCollection, i5 = (i6, n7, o4)=>{
                        const r6 = t7._bindToCollection == this, s5 = t7._bindToInternalToExternalMap.get(n7);
                        if (r6 && s5) this._bindToExternalToInternalMap.set(n7, s5), this._bindToInternalToExternalMap.set(s5, n7);
                        else {
                            const i7 = e(n7);
                            if (!i7) return void this._skippedIndexesFromExternal.push(o4);
                            let r7 = o4;
                            for (const e9 of this._skippedIndexesFromExternal)o4 > e9 && r7--;
                            for (const e10 of t7._skippedIndexesFromExternal)r7 >= e10 && r7++;
                            this._bindToExternalToInternalMap.set(n7, i7), this._bindToInternalToExternalMap.set(i7, n7), this.add(i7, r7);
                            for(let e11 = 0; e11 < t7._skippedIndexesFromExternal.length; e11++)r7 <= t7._skippedIndexesFromExternal[e11] && t7._skippedIndexesFromExternal[e11]++;
                        }
                    };
                    for (const e9 of t7)i5(0, e9, t7.getIndex(e9));
                    this.listenTo(t7, "add", i5), this.listenTo(t7, "remove", (e10, t8, i6)=>{
                        const n7 = this._bindToExternalToInternalMap.get(t8);
                        n7 && this.remove(n7), this._skippedIndexesFromExternal = this._skippedIndexesFromExternal.reduce((e11, t9)=>(i6 < t9 && e11.push(t9 - 1), i6 > t9 && e11.push(t9), e11)
                        , []);
                    });
                }
                _getItemIdBeforeAdding(e) {
                    const t7 = this._idProperty;
                    let i5;
                    if (t7 in e) {
                        if (i5 = e[t7], "string" != typeof i5) throw new c2.a("collection-add-invalid-id", this);
                        if (this.get(i5)) throw new c2.a("collection-add-item-already-exists", this);
                    } else e[t7] = i5 = s3();
                    return i5;
                }
                _remove(e) {
                    let t7, i5, n7, o4 = !1;
                    const r6 = this._idProperty;
                    if ("string" == typeof e ? (i5 = e, n7 = this._itemMap.get(i5), o4 = !n7, n7 && (t7 = this._items.indexOf(n7))) : "number" == typeof e ? (t7 = e, n7 = this._items[t7], o4 = !n7, n7 && (i5 = n7[r6])) : (n7 = e, i5 = n7[r6], t7 = this._items.indexOf(n7), o4 = -1 == t7 || !this._itemMap.get(i5)), o4) throw new c2.a("collection-remove-404", this);
                    this._items.splice(t7, 1), this._itemMap.delete(i5);
                    const s5 = this._bindToInternalToExternalMap.get(n7);
                    return this._bindToInternalToExternalMap.delete(n7), this._bindToExternalToInternalMap.delete(s5), this.fire("remove", n7, t7), [
                        n7,
                        t7
                    ];
                }
                [Symbol.iterator]() {
                    return this._items[Symbol.iterator]();
                }
            }
            Ke(Zi, h1);
            class Xi {
                constructor(e9, t7 = [], i5 = []){
                    this._context = e9, this._plugins = new Map, this._availablePlugins = new Map;
                    for (const e10 of t7)e10.pluginName && this._availablePlugins.set(e10.pluginName, e10);
                    this._contextPlugins = new Map;
                    for (const [e11, t8] of i5)this._contextPlugins.set(e11, t8), this._contextPlugins.set(t8, e11), e11.pluginName && this._availablePlugins.set(e11.pluginName, e11);
                }
                *[Symbol.iterator]() {
                    for (const e12 of this._plugins)"function" == typeof e12[0] && (yield e12);
                }
                get(e) {
                    const t9 = this._plugins.get(e);
                    if (!t9) {
                        let t10 = e;
                        throw "function" == typeof e && (t10 = e.pluginName || e.name), new c2.a("plugincollection-plugin-not-loaded", this._context, {
                            plugin: t10
                        });
                    }
                    return t9;
                }
                has(e) {
                    return this._plugins.has(e);
                }
                init(e, t = [], i = []) {
                    const n7 = this, o4 = this._context;
                    !function e12(t9, i6 = new Set) {
                        t9.forEach((t10)=>{
                            a4(t10) && (i6.has(t10) || (i6.add(t10), t10.pluginName && !n7._availablePlugins.has(t10.pluginName) && n7._availablePlugins.set(t10.pluginName, t10), t10.requires && e12(t10.requires, i6)));
                        });
                    }(e), u3(e);
                    const r6 = [
                        ...function e13(t9, i6 = new Set) {
                            return t9.map((e14)=>a4(e14) ? e14 : n7._availablePlugins.get(e14)
                            ).reduce((t10, n8)=>i6.has(n8) ? t10 : (i6.add(n8), n8.requires && (u3(n8.requires, n8), e13(n8.requires, i6).forEach((e14)=>t10.add(e14)
                                )), t10.add(n8))
                            , new Set);
                        }(e.filter((e14)=>!d3(e14, t)
                        ))
                    ];
                    !function(e14, t9) {
                        for (const i6 of t9){
                            if ("function" != typeof i6) throw new c2.a("plugincollection-replace-plugin-invalid-type", null, {
                                pluginItem: i6
                            });
                            const t10 = i6.pluginName;
                            if (!t10) throw new c2.a("plugincollection-replace-plugin-missing-name", null, {
                                pluginItem: i6
                            });
                            if (i6.requires && i6.requires.length) throw new c2.a("plugincollection-plugin-for-replacing-cannot-have-dependencies", null, {
                                pluginName: t10
                            });
                            const o5 = n7._availablePlugins.get(t10);
                            if (!o5) throw new c2.a("plugincollection-plugin-for-replacing-not-exist", null, {
                                pluginName: t10
                            });
                            const r7 = e14.indexOf(o5);
                            if (-1 === r7) {
                                if (n7._contextPlugins.has(o5)) return;
                                throw new c2.a("plugincollection-plugin-for-replacing-not-loaded", null, {
                                    pluginName: t10
                                });
                            }
                            if (o5.requires && o5.requires.length) throw new c2.a("plugincollection-replaced-plugin-cannot-have-dependencies", null, {
                                pluginName: t10
                            });
                            e14.splice(r7, 1, i6), n7._availablePlugins.set(t10, i6);
                        }
                    }(r6, i);
                    const s5 = function(e14) {
                        return e14.map((e15)=>{
                            const t9 = n7._contextPlugins.get(e15) || new e15(o4);
                            return n7._add(e15, t9), t9;
                        });
                    }(r6);
                    function a4(e14) {
                        return "function" == typeof e14;
                    }
                    function l3(e14) {
                        return a4(e14) && e14.isContextPlugin;
                    }
                    function d3(e14, t9) {
                        return t9.some((t10)=>t10 === e14 || h2(e14) === t10 || h2(t10) === e14
                        );
                    }
                    function h2(e14) {
                        return a4(e14) ? e14.pluginName || e14.name : e14;
                    }
                    function u3(e14, i6 = null) {
                        e14.map((e15)=>a4(e15) ? e15 : n7._availablePlugins.get(e15) || e15
                        ).forEach((e15)=>{
                            !function(e16, t9) {
                                if (a4(e16)) return;
                                if (t9) throw new c2.a("plugincollection-soft-required", o4, {
                                    missingPlugin: e16,
                                    requiredBy: h2(t9)
                                });
                                throw new c2.a("plugincollection-plugin-not-found", o4, {
                                    plugin: e16
                                });
                            }(e15, i6), (function(e16, t9) {
                                if (!l3(t9)) return;
                                if (l3(e16)) return;
                                throw new c2.a("plugincollection-context-required", o4, {
                                    plugin: h2(e16),
                                    requiredBy: h2(t9)
                                });
                            })(e15, i6), (function(e16, i7) {
                                if (!i7) return;
                                if (!d3(e16, t)) return;
                                throw new c2.a("plugincollection-required", o4, {
                                    plugin: h2(e16),
                                    requiredBy: h2(i7)
                                });
                            })(e15, i6);
                        });
                    }
                    function g2(e14, t9) {
                        return e14.reduce((e15, i6)=>i6[t9] ? n7._contextPlugins.has(i6) ? e15 : e15.then(i6[t9].bind(i6)) : e15
                        , Promise.resolve());
                    }
                    return g2(s5, "init").then(()=>g2(s5, "afterInit")
                    ).then(()=>s5
                    );
                }
                destroy() {
                    const e12 = [];
                    for (const [, t9] of this)"function" != typeof t9.destroy || this._contextPlugins.has(t9) || e12.push(t9.destroy());
                    return Promise.all(e12);
                }
                _add(e, t) {
                    this._plugins.set(e, t);
                    const i6 = e.pluginName;
                    if (i6) {
                        if (this._plugins.has(i6)) throw new c2.a("plugincollection-plugin-name-conflict", null, {
                            pluginName: i6,
                            plugin1: this._plugins.get(i6).constructor,
                            plugin2: e
                        });
                        this._plugins.set(i6, t);
                    }
                }
            }
            function en(e12) {
                return Array.isArray(e12) ? e12 : [
                    e12
                ];
            }
            function tn(e12, t9, i6 = 1) {
                if ("number" != typeof i6) throw new c2.a("translation-service-quantity-not-a-number", null, {
                    quantity: i6
                });
                const n7 = Object.keys(window.CKEDITOR_TRANSLATIONS).length;
                1 === n7 && (e12 = Object.keys(window.CKEDITOR_TRANSLATIONS)[0]);
                const o4 = t9.id || t9.string;
                if (0 === n7 || !function(e13, t10) {
                    return !!window.CKEDITOR_TRANSLATIONS[e13] && !!window.CKEDITOR_TRANSLATIONS[e13].dictionary[t10];
                }(e12, o4)) return 1 !== i6 ? t9.plural : t9.string;
                const r6 = window.CKEDITOR_TRANSLATIONS[e12].dictionary, s5 = window.CKEDITOR_TRANSLATIONS[e12].getPluralForm || ((e13)=>1 === e13 ? 0 : 1
                );
                if ("string" == typeof r6[o4]) return r6[o4];
                const a4 = Number(s5(i6));
                return r6[o4][a4];
            }
            Ke(Xi, h1), window.CKEDITOR_TRANSLATIONS || (window.CKEDITOR_TRANSLATIONS = {
            });
            const nn = [
                "ar",
                "ara",
                "fa",
                "per",
                "fas",
                "he",
                "heb",
                "ku",
                "kur",
                "ug",
                "uig"
            ];
            function on(e12) {
                return nn.includes(e12) ? "rtl" : "ltr";
            }
            class rn {
                constructor(e12 = {
                }){
                    this.uiLanguage = e12.uiLanguage || "en", this.contentLanguage = e12.contentLanguage || this.uiLanguage, this.uiLanguageDirection = on(this.uiLanguage), this.contentLanguageDirection = on(this.contentLanguage), this.t = (e13, t9)=>this._t(e13, t9)
                    ;
                }
                get language() {
                    return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."), this.uiLanguage;
                }
                _t(e, t = []) {
                    t = en(t), "string" == typeof e && (e = {
                        string: e
                    });
                    const i6 = !!e.plural ? t[0] : 1;
                    return (function(e13, t9) {
                        return e13.replace(/%(\d+)/g, (e14, i7)=>i7 < t9.length ? t9[i7] : e14
                        );
                    })(tn(this.uiLanguage, e, i6), t);
                }
            }
            class sn {
                constructor(e13){
                    this.config = new Gi(e13, this.constructor.defaultConfig);
                    const t9 = this.constructor.builtinPlugins;
                    this.config.define("plugins", t9), this.plugins = new Xi(this, t9);
                    const i6 = this.config.get("language") || {
                    };
                    this.locale = new rn({
                        uiLanguage: "string" == typeof i6 ? i6 : i6.ui,
                        contentLanguage: this.config.get("language.content")
                    }), this.t = this.locale.t, this.editors = new Zi, this._contextOwner = null;
                }
                initPlugins() {
                    const e14 = this.config.get("plugins") || [], t10 = this.config.get("substitutePlugins") || [];
                    for (const i7 of e14.concat(t10)){
                        if ("function" != typeof i7) throw new c2.a("context-initplugins-constructor-only", null, {
                            Plugin: i7
                        });
                        if (!0 !== i7.isContextPlugin) throw new c2.a("context-initplugins-invalid-plugin", null, {
                            Plugin: i7
                        });
                    }
                    return this.plugins.init(e14, [], t10);
                }
                destroy() {
                    return Promise.all(Array.from(this.editors, (e14)=>e14.destroy()
                    )).then(()=>this.plugins.destroy()
                    );
                }
                _addEditor(e, t) {
                    if (this._contextOwner) throw new c2.a("context-addeditor-private-context");
                    this.editors.add(e), t && (this._contextOwner = e);
                }
                _removeEditor(e) {
                    return this.editors.has(e) && this.editors.remove(e), this._contextOwner === e ? this.destroy() : Promise.resolve();
                }
                _getEditorConfig() {
                    const e14 = {
                    };
                    for (const t10 of this.config.names())[
                        "plugins",
                        "removePlugins",
                        "extraPlugins"
                    ].includes(t10) || (e14[t10] = this.config.get(t10));
                    return e14;
                }
                static create(e) {
                    return new Promise((t10)=>{
                        const i7 = new this(e);
                        t10(i7.initPlugins().then(()=>i7
                        ));
                    });
                }
            }
            class an {
                constructor(e14){
                    this.context = e14;
                }
                destroy() {
                    this.stopListening();
                }
                static get isContextPlugin() {
                    return !0;
                }
            }
            function cn(e15, t10) {
                const i7 = Math.min(e15.length, t10.length);
                for(let n7 = 0; n7 < i7; n7++)if (e15[n7] != t10[n7]) return n7;
                return e15.length == t10.length ? "same" : e15.length < t10.length ? "prefix" : "extension";
            }
            Ke(an, Ue);
            var ln = function(e15) {
                return qi(e15, 4);
            };
            class dn {
                constructor(e15){
                    this.document = e15, this.parent = null;
                }
                get index() {
                    let e16;
                    if (!this.parent) return null;
                    if (-1 == (e16 = this.parent.getChildIndex(this))) throw new c2.a("view-node-not-found-in-parent", this);
                    return e16;
                }
                get nextSibling() {
                    const e16 = this.index;
                    return null !== e16 && this.parent.getChild(e16 + 1) || null;
                }
                get previousSibling() {
                    const e16 = this.index;
                    return null !== e16 && this.parent.getChild(e16 - 1) || null;
                }
                get root() {
                    let e16 = this;
                    for(; e16.parent;)e16 = e16.parent;
                    return e16;
                }
                isAttached() {
                    return this.root.is("rootElement");
                }
                getPath() {
                    const e16 = [];
                    let t10 = this;
                    for(; t10.parent;)e16.unshift(t10.index), t10 = t10.parent;
                    return e16;
                }
                getAncestors(e = {
                    includeSelf: !1,
                    parentFirst: !1
                }) {
                    const t10 = [];
                    let i7 = e.includeSelf ? this : this.parent;
                    for(; i7;)t10[e.parentFirst ? "push" : "unshift"](i7), i7 = i7.parent;
                    return t10;
                }
                getCommonAncestor(e, t = {
                }) {
                    const i7 = this.getAncestors(t), n7 = e.getAncestors(t);
                    let o4 = 0;
                    for(; i7[o4] == n7[o4] && i7[o4];)o4++;
                    return 0 === o4 ? null : i7[o4 - 1];
                }
                isBefore(e) {
                    if (this == e) return !1;
                    if (this.root !== e.root) return !1;
                    const t10 = this.getPath(), i7 = e.getPath(), n7 = cn(t10, i7);
                    switch(n7){
                        case "prefix":
                            return !0;
                        case "extension":
                            return !1;
                        default:
                            return t10[n7] < i7[n7];
                    }
                }
                isAfter(e) {
                    return this != e && this.root === e.root && !this.isBefore(e);
                }
                _remove() {
                    this.parent._removeChildren(this.index);
                }
                _fireChange(e, t) {
                    this.fire("change:" + e, t), this.parent && this.parent._fireChange(e, t);
                }
                toJSON() {
                    const e16 = ln(this);
                    return delete e16.parent, e16;
                }
                is(e) {
                    return "node" === e || "view:node" === e;
                }
            }
            Ke(dn, h1);
            class hn extends dn {
                constructor(e16, t10){
                    super(e16), this._textData = t10;
                }
                is(e) {
                    return "$text" === e || "view:$text" === e || "text" === e || "view:text" === e || "node" === e || "view:node" === e;
                }
                get data() {
                    return this._textData;
                }
                get _data() {
                    return this.data;
                }
                set _data(e) {
                    this._fireChange("text", this), this._textData = e;
                }
                isSimilar(e) {
                    return e instanceof hn && (this === e || this.data === e.data);
                }
                _clone() {
                    return new hn(this.document, this.data);
                }
            }
            class un {
                constructor(e17, t11, i7){
                    if (this.textNode = e17, t11 < 0 || t11 > e17.data.length) throw new c2.a("view-textproxy-wrong-offsetintext", this);
                    if (i7 < 0 || t11 + i7 > e17.data.length) throw new c2.a("view-textproxy-wrong-length", this);
                    this.data = e17.data.substring(t11, t11 + i7), this.offsetInText = t11;
                }
                get offsetSize() {
                    return this.data.length;
                }
                get isPartial() {
                    return this.data.length !== this.textNode.data.length;
                }
                get parent() {
                    return this.textNode.parent;
                }
                get root() {
                    return this.textNode.root;
                }
                get document() {
                    return this.textNode.document;
                }
                is(e) {
                    return "$textProxy" === e || "view:$textProxy" === e || "textProxy" === e || "view:textProxy" === e;
                }
                getAncestors(e = {
                    includeSelf: !1,
                    parentFirst: !1
                }) {
                    const t12 = [];
                    let i8 = e.includeSelf ? this.textNode : this.parent;
                    for(; null !== i8;)t12[e.parentFirst ? "push" : "unshift"](i8), i8 = i8.parent;
                    return t12;
                }
            }
            function gn(e18) {
                return Ji(e18) ? new Map(e18) : (function(e19) {
                    const t12 = new Map;
                    for(const i8 in e19)t12.set(i8, e19[i8]);
                    return t12;
                })(e18);
            }
            class mn {
                constructor(...e18){
                    this._patterns = [], this.add(...e18);
                }
                add(...e) {
                    for (let t12 of e)("string" == typeof t12 || t12 instanceof RegExp) && (t12 = {
                        name: t12
                    }), this._patterns.push(t12);
                }
                match(...e) {
                    for (const t12 of e)for (const e19 of this._patterns){
                        const i8 = fn(t12, e19);
                        if (i8) return {
                            element: t12,
                            pattern: e19,
                            match: i8
                        };
                    }
                    return null;
                }
                matchAll(...e) {
                    const t12 = [];
                    for (const i8 of e)for (const e19 of this._patterns){
                        const n7 = fn(i8, e19);
                        n7 && t12.push({
                            element: i8,
                            pattern: e19,
                            match: n7
                        });
                    }
                    return t12.length > 0 ? t12 : null;
                }
                getElementName() {
                    if (1 !== this._patterns.length) return null;
                    const e19 = this._patterns[0], t12 = e19.name;
                    return "function" == typeof e19 || !t12 || t12 instanceof RegExp ? null : t12;
                }
            }
            function fn(e19, t12) {
                if ("function" == typeof t12) return t12(e19);
                const i8 = {
                };
                return t12.name && (i8.name = (function(e20, t13) {
                    if (e20 instanceof RegExp) return e20.test(t13);
                    return e20 === t13;
                })(t12.name, e19.name), !i8.name) || t12.attributes && (i8.attributes = (function(e20, t13) {
                    const i9 = new Set(t13.getAttributeKeys());
                    ct(e20) ? ((void 0) !== e20.style && Object(c2.b)("matcher-pattern-deprecated-attributes-style-key", e20), (void 0) !== e20.class && Object(c2.b)("matcher-pattern-deprecated-attributes-class-key", e20)) : (i9.delete("style"), i9.delete("class"));
                    return pn(e20, i9, (e21)=>t13.getAttribute(e21)
                    );
                })(t12.attributes, e19), !i8.attributes) ? null : !(t12.classes && (i8.classes = function(e20, t13) {
                    return pn(e20, t13.getClassNames());
                }(t12.classes, e19), !i8.classes)) && !(t12.styles && (i8.styles = function(e20, t13) {
                    return pn(e20, t13.getStyleNames(!0), (e21)=>t13.getStyle(e21)
                    );
                }(t12.styles, e19), !i8.styles)) && i8;
            }
            function pn(e19, t12, i8) {
                const n7 = function(e20) {
                    if (Array.isArray(e20)) return e20.map((e21)=>ct(e21) ? ((void 0) !== e21.key && (void 0) !== e21.value || Object(c2.b)("matcher-pattern-missing-key-or-value", e21), [
                            e21.key,
                            e21.value
                        ]) : [
                            e21,
                            !0
                        ]
                    );
                    if (ct(e20)) return Object.entries(e20);
                    return [
                        [
                            e20,
                            !0
                        ]
                    ];
                }(e19), o4 = Array.from(t12), r6 = [];
                return n7.forEach(([e20, t13])=>{
                    o4.forEach((n8)=>{
                        (function(e21, t14) {
                            return !0 === e21 || e21 === t14 || e21 instanceof RegExp && e21.test(t14);
                        })(e20, n8) && (function(e21, t14, i9) {
                            if (!0 === e21) return !0;
                            const n9 = i9(t14);
                            return e21 === n9 || e21 instanceof RegExp && e21.test(n9);
                        })(t13, n8, i8) && r6.push(n8);
                    });
                }), !n7.length || r6.length < n7.length ? null : r6;
            }
            var bn = function(e19) {
                return "symbol" == typeof e19 || me(e19) && "[object Symbol]" == S(e19);
            }, wn = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, kn = /^\w*$/;
            var _n = function(e19, t12) {
                if (_e(e19)) return !1;
                var i8 = typeof e19;
                return !("number" != i8 && "symbol" != i8 && "boolean" != i8 && null != e19 && !bn(e19)) || kn.test(e19) || !wn.test(e19) || null != t12 && e19 in Object(t12);
            };
            function vn(e19, t12) {
                if ("function" != typeof e19 || null != t12 && "function" != typeof t12) throw new TypeError("Expected a function");
                var i8 = function() {
                    var n7 = arguments, o4 = t12 ? t12.apply(this, n7) : n7[0], r6 = i8.cache;
                    if (r6.has(o4)) return r6.get(o4);
                    var s5 = e19.apply(this, n7);
                    return i8.cache = r6.set(o4, s5) || r6, s5;
                };
                return i8.cache = new (vn.Cache || Ft), i8;
            }
            vn.Cache = Ft;
            var yn = vn;
            var xn = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, An = /\\(\\)?/g, Cn = function(e19) {
                var t12 = yn(e19, function(e20) {
                    return 500 === i8.size && i8.clear(), e20;
                }), i8 = t12.cache;
                return t12;
            }(function(e19) {
                var t12 = [];
                return 46 === e19.charCodeAt(0) && t12.push(""), e19.replace(xn, function(e20, i8, n7, o4) {
                    t12.push(n7 ? o4.replace(An, "$1") : i8 || e20);
                }), t12;
            });
            var Tn = function(e19, t12) {
                for(var i8 = -1, n7 = null == e19 ? 0 : e19.length, o4 = Array(n7); (++i8) < n7;)o4[i8] = t12(e19[i8], i8, e19);
                return o4;
            }, En = _ ? _.prototype : void 0, In = En ? En.toString : void 0;
            var Sn = function e19(t12) {
                if ("string" == typeof t12) return t12;
                if (_e(t12)) return Tn(t12, e19) + "";
                if (bn(t12)) return In ? In.call(t12) : "";
                var i8 = t12 + "";
                return "0" == i8 && 1 / t12 == -1 / 0 ? "-0" : i8;
            };
            var Pn = function(e20) {
                return null == e20 ? "" : Sn(e20);
            };
            var Mn = function(e20, t12) {
                return _e(e20) ? e20 : _n(e20, t12) ? [
                    e20
                ] : Cn(Pn(e20));
            };
            var Nn = function(e20) {
                var t12 = null == e20 ? 0 : e20.length;
                return t12 ? e20[t12 - 1] : void 0;
            };
            var Rn = function(e20) {
                if ("string" == typeof e20 || bn(e20)) return e20;
                var t12 = e20 + "";
                return "0" == t12 && 1 / e20 == -1 / 0 ? "-0" : t12;
            };
            var On = function(e20, t12) {
                for(var i8 = 0, n7 = (t12 = Mn(t12, e20)).length; null != e20 && i8 < n7;)e20 = e20[Rn(t12[i8++])];
                return i8 && i8 == n7 ? e20 : void 0;
            };
            var zn = function(e20, t12, i8) {
                var n7 = -1, o4 = e20.length;
                t12 < 0 && (t12 = -t12 > o4 ? 0 : o4 + t12), (i8 = i8 > o4 ? o4 : i8) < 0 && (i8 += o4), o4 = t12 > i8 ? 0 : i8 - t12 >>> 0, t12 >>>= 0;
                for(var r6 = Array(o4); (++n7) < o4;)r6[n7] = e20[n7 + t12];
                return r6;
            };
            var Dn = function(e20, t12) {
                return t12.length < 2 ? e20 : On(e20, zn(t12, 0, -1));
            };
            var Ln = function(e20, t12) {
                return t12 = Mn(t12, e20), null == (e20 = Dn(e20, t12)) || delete e20[Rn(Nn(t12))];
            };
            var Vn = function(e20, t12) {
                return null == e20 || Ln(e20, t12);
            };
            var jn = function(e20, t12, i8) {
                var n7 = null == e20 ? void 0 : On(e20, t12);
                return (void 0) === n7 ? i8 : n7;
            };
            var Bn = function(e20, t12, i8) {
                ((void 0) !== i8 && !G(e20[t12], i8) || (void 0) === i8 && !(t12 in e20)) && Y(e20, t12, i8);
            };
            var Fn = function(e20) {
                return function(t12, i8, n7) {
                    for(var o4 = -1, r6 = Object(t12), s5 = n7(t12), a4 = s5.length; a4--;){
                        var c4 = s5[e20 ? a4 : ++o4];
                        if (!1 === i8(r6[c4], c4, r6)) break;
                    }
                    return t12;
                };
            }();
            var Hn = function(e20) {
                return me(e20) && ce(e20);
            };
            var Un = function(e20, t12) {
                if (("constructor" !== t12 || "function" != typeof e20[t12]) && "__proto__" != t12) return e20[t12];
            };
            var Wn = function(e20) {
                return J(e20, ze(e20));
            };
            var qn = function(e20, t12, i8, n7, o4, r6, s5) {
                var a4 = Un(e20, i8), c5 = Un(t12, i8), l3 = s5.get(c5);
                if (l3) Bn(e20, i8, l3);
                else {
                    var d3 = r6 ? r6(a4, c5, i8 + "", e20, t12, s5) : void 0, h2 = (void 0) === d3;
                    if (h2) {
                        var u3 = _e(c5), g2 = !u3 && Object(ve.a)(c5), m1 = !u3 && !g2 && Ee(c5);
                        d3 = c5, u3 || g2 || m1 ? _e(a4) ? d3 = a4 : Hn(a4) ? d3 = Xt(a4) : g2 ? (h2 = !1, d3 = Object(Zt.a)(c5, !0)) : m1 ? (h2 = !1, d3 = Ri(c5, !0)) : d3 = [] : ct(c5) || ke(c5) ? (d3 = a4, ke(a4) ? d3 = Wn(a4) : w(a4) && !M(a4) || (d3 = Li(c5))) : h2 = !1;
                    }
                    h2 && (s5.set(c5, d3), o4(d3, c5, n7, r6, s5), s5.delete(c5)), Bn(e20, i8, d3);
                }
            };
            var $n = function e20(t12, i8, n7, o4, r6) {
                t12 !== i8 && Fn(i8, function(s5, a4) {
                    if (r6 || (r6 = new Wt), w(s5)) qn(t12, i8, a4, n7, e20, o4, r6);
                    else {
                        var c5 = o4 ? o4(Un(t12, a4), s5, a4 + "", t12, i8, r6) : void 0;
                        (void 0) === c5 && (c5 = s5), Bn(t12, a4, c5);
                    }
                }, ze);
            }, Yn = ue(function(e21, t12, i8) {
                $n(e21, t12, i8);
            });
            var Gn = function(e21, t12, i8, n7) {
                if (!w(e21)) return e21;
                for(var o4 = -1, r6 = (t12 = Mn(t12, e21)).length, s5 = r6 - 1, a4 = e21; null != a4 && (++o4) < r6;){
                    var c6 = Rn(t12[o4]), l3 = i8;
                    if ("__proto__" === c6 || "constructor" === c6 || "prototype" === c6) return e21;
                    if (o4 != s5) {
                        var d4 = a4[c6];
                        (void 0) === (l3 = n7 ? n7(d4, c6, a4) : void 0) && (l3 = w(d4) ? d4 : de(t12[o4 + 1]) ? [] : {
                        });
                    }
                    Q(a4, c6, l3), a4 = a4[c6];
                }
                return e21;
            };
            var Kn = function(e21, t12, i8) {
                return null == e21 ? e21 : Gn(e21, t12, i8);
            };
            class Qn {
                constructor(e21){
                    this._styles = {
                    }, this._styleProcessor = e21;
                }
                get isEmpty() {
                    const e22 = Object.entries(this._styles);
                    return !Array.from(e22).length;
                }
                get size() {
                    return this.isEmpty ? 0 : this.getStyleNames().length;
                }
                setTo(e) {
                    this.clear();
                    const t12 = Array.from((function(e22) {
                        let t13 = null, i8 = 0, n7 = 0, o4 = null;
                        const r6 = new Map;
                        if ("" === e22) return r6;
                        ";" != e22.charAt(e22.length - 1) && (e22 += ";");
                        for(let s5 = 0; s5 < e22.length; s5++){
                            const a4 = e22.charAt(s5);
                            if (null === t13) switch(a4){
                                case ":":
                                    o4 || (o4 = e22.substr(i8, s5 - i8), n7 = s5 + 1);
                                    break;
                                case '"':
                                case "'":
                                    t13 = a4;
                                    break;
                                case ";":
                                    {
                                        const t14 = e22.substr(n7, s5 - n7);
                                        o4 && r6.set(o4.trim(), t14.trim()), o4 = null, i8 = s5 + 1;
                                        break;
                                    }
                            }
                            else a4 === t13 && (t13 = null);
                        }
                        return r6;
                    })(e).entries());
                    for (const [e22, i8] of t12)this._styleProcessor.toNormalizedForm(e22, i8, this._styles);
                }
                has(e) {
                    if (this.isEmpty) return !1;
                    const t12 = this._styleProcessor.getReducedForm(e, this._styles).find(([t13])=>t13 === e
                    );
                    return Array.isArray(t12);
                }
                set(e, t) {
                    if (w(e)) for (const [t12, i8] of Object.entries(e))this._styleProcessor.toNormalizedForm(t12, i8, this._styles);
                    else this._styleProcessor.toNormalizedForm(e, t, this._styles);
                }
                remove(e) {
                    const t12 = Zn(e);
                    Vn(this._styles, t12), delete this._styles[e], this._cleanEmptyObjectsOnPath(t12);
                }
                getNormalized(e) {
                    return this._styleProcessor.getNormalized(e, this._styles);
                }
                toString() {
                    return this.isEmpty ? "" : this._getStylesEntries().map((e22)=>e22.join(":")
                    ).sort().join(";") + ";";
                }
                getAsString(e) {
                    if (this.isEmpty) return;
                    if (this._styles[e] && !w(this._styles[e])) return this._styles[e];
                    const t12 = this._styleProcessor.getReducedForm(e, this._styles).find(([t13])=>t13 === e
                    );
                    return Array.isArray(t12) ? t12[1] : void 0;
                }
                getStyleNames(e = !1) {
                    if (this.isEmpty) return [];
                    if (e) return this._styleProcessor.getStyleNames(this._styles);
                    return this._getStylesEntries().map(([e22])=>e22
                    );
                }
                clear() {
                    this._styles = {
                    };
                }
                _getStylesEntries() {
                    const e22 = [], t12 = Object.keys(this._styles);
                    for (const i8 of t12)e22.push(...this._styleProcessor.getReducedForm(i8, this._styles));
                    return e22;
                }
                _cleanEmptyObjectsOnPath(e) {
                    const t12 = e.split(".");
                    if (!(t12.length > 1)) return;
                    const i8 = t12.splice(0, t12.length - 1).join("."), n7 = jn(this._styles, i8);
                    if (!n7) return;
                    !Array.from(Object.keys(n7)).length && this.remove(i8);
                }
            }
            class Jn {
                constructor(){
                    this._normalizers = new Map, this._extractors = new Map, this._reducers = new Map, this._consumables = new Map;
                }
                toNormalizedForm(e, t, i) {
                    if (w(t)) Xn(i, Zn(e), t);
                    else if (this._normalizers.has(e)) {
                        const n7 = this._normalizers.get(e), { path: o4 , value: r6  } = n7(t);
                        Xn(i, o4, r6);
                    } else Xn(i, e, t);
                }
                getNormalized(e, t) {
                    if (!e) return Yn({
                    }, t);
                    if ((void 0) !== t[e]) return t[e];
                    if (this._extractors.has(e)) {
                        const i8 = this._extractors.get(e);
                        if ("string" == typeof i8) return jn(t, i8);
                        const n7 = i8(e, t);
                        if (n7) return n7;
                    }
                    return jn(t, Zn(e));
                }
                getReducedForm(e, t) {
                    const i8 = this.getNormalized(e, t);
                    if ((void 0) === i8) return [];
                    if (this._reducers.has(e)) return this._reducers.get(e)(i8);
                    return [
                        [
                            e,
                            i8
                        ]
                    ];
                }
                getStyleNames(e) {
                    const t12 = Array.from(this._consumables.keys()).filter((t13)=>{
                        const i8 = this.getNormalized(t13, e);
                        return i8 && "object" == typeof i8 ? Object.keys(i8).length : i8;
                    }), i8 = new Set([
                        ...t12,
                        ...Object.keys(e)
                    ]);
                    return Array.from(i8.values());
                }
                getRelatedStyles(e) {
                    return this._consumables.get(e) || [];
                }
                setNormalizer(e, t) {
                    this._normalizers.set(e, t);
                }
                setExtractor(e, t) {
                    this._extractors.set(e, t);
                }
                setReducer(e, t) {
                    this._reducers.set(e, t);
                }
                setStyleRelation(e, t) {
                    this._mapStyleNames(e, t);
                    for (const i8 of t)this._mapStyleNames(i8, [
                        e
                    ]);
                }
                _mapStyleNames(e, t) {
                    this._consumables.has(e) || this._consumables.set(e, []), this._consumables.get(e).push(...t);
                }
            }
            function Zn(e22) {
                return e22.replace("-", ".");
            }
            function Xn(e22, t12, i8) {
                let n7 = i8;
                w(i8) && (n7 = Yn({
                }, jn(e22, t12), i8)), Kn(e22, t12, n7);
            }
            class eo extends dn {
                constructor(e22, t12, i8, n7){
                    if (super(e22), this.name = t12, this._attrs = (function(e23) {
                        e23 = gn(e23);
                        for (const [t13, i9] of e23)null === i9 ? e23.delete(t13) : "string" != typeof i9 && e23.set(t13, String(i9));
                        return e23;
                    })(i8), this._children = [], n7 && this._insertChild(0, n7), this._classes = new Set, this._attrs.has("class")) {
                        const e23 = this._attrs.get("class");
                        to(this._classes, e23), this._attrs.delete("class");
                    }
                    this._styles = new Qn(this.document.stylesProcessor), this._attrs.has("style") && (this._styles.setTo(this._attrs.get("style")), this._attrs.delete("style")), this._customProperties = new Map, this._isAllowedInsideAttributeElement = !1;
                }
                get childCount() {
                    return this._children.length;
                }
                get isEmpty() {
                    return 0 === this._children.length;
                }
                get isAllowedInsideAttributeElement() {
                    return this._isAllowedInsideAttributeElement;
                }
                is(e, t = null) {
                    return t ? t === this.name && ("element" === e || "view:element" === e) : "element" === e || "view:element" === e || "node" === e || "view:node" === e;
                }
                getChild(e) {
                    return this._children[e];
                }
                getChildIndex(e) {
                    return this._children.indexOf(e);
                }
                getChildren() {
                    return this._children[Symbol.iterator]();
                }
                *getAttributeKeys() {
                    this._classes.size > 0 && (yield "class"), this._styles.isEmpty || (yield "style"), yield* this._attrs.keys();
                }
                *getAttributes() {
                    yield* this._attrs.entries(), this._classes.size > 0 && (yield [
                        "class",
                        this.getAttribute("class")
                    ]), this._styles.isEmpty || (yield [
                        "style",
                        this.getAttribute("style")
                    ]);
                }
                getAttribute(e) {
                    if ("class" == e) return this._classes.size > 0 ? [
                        ...this._classes
                    ].join(" ") : void 0;
                    if ("style" == e) {
                        const e23 = this._styles.toString();
                        return "" == e23 ? void 0 : e23;
                    }
                    return this._attrs.get(e);
                }
                hasAttribute(e) {
                    return "class" == e ? this._classes.size > 0 : "style" == e ? !this._styles.isEmpty : this._attrs.has(e);
                }
                isSimilar(e) {
                    if (!(e instanceof eo)) return !1;
                    if (this === e) return !0;
                    if (this.name != e.name) return !1;
                    if (this.isAllowedInsideAttributeElement != e.isAllowedInsideAttributeElement) return !1;
                    if (this._attrs.size !== e._attrs.size || this._classes.size !== e._classes.size || this._styles.size !== e._styles.size) return !1;
                    for (const [t13, i9] of this._attrs)if (!e._attrs.has(t13) || e._attrs.get(t13) !== i9) return !1;
                    for (const t14 of this._classes)if (!e._classes.has(t14)) return !1;
                    for (const t15 of this._styles.getStyleNames())if (!e._styles.has(t15) || e._styles.getAsString(t15) !== this._styles.getAsString(t15)) return !1;
                    return !0;
                }
                hasClass(...e) {
                    for (const t13 of e)if (!this._classes.has(t13)) return !1;
                    return !0;
                }
                getClassNames() {
                    return this._classes.keys();
                }
                getStyle(e) {
                    return this._styles.getAsString(e);
                }
                getNormalizedStyle(e) {
                    return this._styles.getNormalized(e);
                }
                getStyleNames(e = !1) {
                    return this._styles.getStyleNames(e);
                }
                hasStyle(...e) {
                    for (const t13 of e)if (!this._styles.has(t13)) return !1;
                    return !0;
                }
                findAncestor(...e) {
                    const t13 = new mn(...e);
                    let i9 = this.parent;
                    for(; i9;){
                        if (t13.match(i9)) return i9;
                        i9 = i9.parent;
                    }
                    return null;
                }
                getCustomProperty(e) {
                    return this._customProperties.get(e);
                }
                *getCustomProperties() {
                    yield* this._customProperties.entries();
                }
                getIdentity() {
                    const e23 = Array.from(this._classes).sort().join(","), t13 = this._styles.toString(), i9 = Array.from(this._attrs).map((e24)=>`${e24[0]}="${e24[1]}"`
                    ).sort().join(" ");
                    return this.name + ("" == e23 ? "" : ` class="${e23}"`) + (t13 ? ` style="${t13}"` : "") + ("" == i9 ? "" : " " + i9);
                }
                _clone(e = !1) {
                    const t13 = [];
                    if (e) for (const i9 of this.getChildren())t13.push(i9._clone(e));
                    const i10 = new this.constructor(this.document, this.name, this._attrs, t13);
                    return i10._classes = new Set(this._classes), i10._styles.set(this._styles.getNormalized()), i10._customProperties = new Map(this._customProperties), i10.getFillerOffset = this.getFillerOffset, i10._isAllowedInsideAttributeElement = this.isAllowedInsideAttributeElement, i10;
                }
                _appendChild(e) {
                    return this._insertChild(this.childCount, e);
                }
                _insertChild(e, t) {
                    this._fireChange("children", this);
                    let i9 = 0;
                    const n8 = function(e23, t13) {
                        if ("string" == typeof t13) return [
                            new hn(e23, t13)
                        ];
                        Ji(t13) || (t13 = [
                            t13
                        ]);
                        return Array.from(t13).map((t14)=>"string" == typeof t14 ? new hn(e23, t14) : t14 instanceof un ? new hn(e23, t14.data) : t14
                        );
                    }(this.document, t);
                    for (const t13 of n8)null !== t13.parent && t13._remove(), t13.parent = this, t13.document = this.document, this._children.splice(e, 0, t13), e++, i9++;
                    return i9;
                }
                _removeChildren(e, t = 1) {
                    this._fireChange("children", this);
                    for(let i9 = e; i9 < e + t; i9++)this._children[i9].parent = null;
                    return this._children.splice(e, t);
                }
                _setAttribute(e, t) {
                    t = String(t), this._fireChange("attributes", this), "class" == e ? to(this._classes, t) : "style" == e ? this._styles.setTo(t) : this._attrs.set(e, t);
                }
                _removeAttribute(e) {
                    return this._fireChange("attributes", this), "class" == e ? this._classes.size > 0 && (this._classes.clear(), !0) : "style" == e ? !this._styles.isEmpty && (this._styles.clear(), !0) : this._attrs.delete(e);
                }
                _addClass(e) {
                    this._fireChange("attributes", this);
                    for (const t13 of en(e))this._classes.add(t13);
                }
                _removeClass(e) {
                    this._fireChange("attributes", this);
                    for (const t13 of en(e))this._classes.delete(t13);
                }
                _setStyle(e, t) {
                    this._fireChange("attributes", this), this._styles.set(e, t);
                }
                _removeStyle(e) {
                    this._fireChange("attributes", this);
                    for (const t13 of en(e))this._styles.remove(t13);
                }
                _setCustomProperty(e, t) {
                    this._customProperties.set(e, t);
                }
                _removeCustomProperty(e) {
                    return this._customProperties.delete(e);
                }
            }
            function to(e23, t13) {
                const i9 = t13.split(/\s+/);
                e23.clear(), i9.forEach((t14)=>e23.add(t14)
                );
            }
            class io extends eo {
                constructor(e23, t13, i9, n8){
                    super(e23, t13, i9, n8), this.getFillerOffset = no;
                }
                is(e, t = null) {
                    return t ? t === this.name && ("containerElement" === e || "view:containerElement" === e || "element" === e || "view:element" === e) : "containerElement" === e || "view:containerElement" === e || "element" === e || "view:element" === e || "node" === e || "view:node" === e;
                }
            }
            function no() {
                const e24 = [
                    ...this.getChildren()
                ], t14 = e24[this.childCount - 1];
                if (t14 && t14.is("element", "br")) return this.childCount;
                for (const t15 of e24)if (!t15.is("uiElement")) return null;
                return this.childCount;
            }
            class oo extends io {
                constructor(e24, t14, i10, n9){
                    super(e24, t14, i10, n9), this.set("isReadOnly", !1), this.set("isFocused", !1), this.bind("isReadOnly").to(e24), this.bind("isFocused").to(e24, "isFocused", (t15)=>t15 && e24.selection.editableElement == this
                    ), this.listenTo(e24.selection, "change", ()=>{
                        this.isFocused = e24.isFocused && e24.selection.editableElement == this;
                    });
                }
                is(e, t = null) {
                    return t ? t === this.name && ("editableElement" === e || "view:editableElement" === e || "containerElement" === e || "view:containerElement" === e || "element" === e || "view:element" === e) : "editableElement" === e || "view:editableElement" === e || "containerElement" === e || "view:containerElement" === e || "element" === e || "view:element" === e || "node" === e || "view:node" === e;
                }
                destroy() {
                    this.stopListening();
                }
            }
            Ke(oo, Ue);
            const ro = Symbol("rootName");
            class so extends oo {
                constructor(e25, t15){
                    super(e25, t15), this.rootName = "main";
                }
                is(e, t = null) {
                    return t ? t === this.name && ("rootElement" === e || "view:rootElement" === e || "editableElement" === e || "view:editableElement" === e || "containerElement" === e || "view:containerElement" === e || "element" === e || "view:element" === e) : "rootElement" === e || "view:rootElement" === e || "editableElement" === e || "view:editableElement" === e || "containerElement" === e || "view:containerElement" === e || "element" === e || "view:element" === e || "node" === e || "view:node" === e;
                }
                get rootName() {
                    return this.getCustomProperty(ro);
                }
                set rootName(e) {
                    this._setCustomProperty(ro, e);
                }
                set _name(e) {
                    this.name = e;
                }
            }
            class ao {
                constructor(e26 = {
                }){
                    if (!e26.boundaries && !e26.startPosition) throw new c2.a("view-tree-walker-no-start-position", null);
                    if (e26.direction && "forward" != e26.direction && "backward" != e26.direction) throw new c2.a("view-tree-walker-unknown-direction", e26.startPosition, {
                        direction: e26.direction
                    });
                    this.boundaries = e26.boundaries || null, e26.startPosition ? this.position = co._createAt(e26.startPosition) : this.position = co._createAt(e26.boundaries["backward" == e26.direction ? "end" : "start"]), this.direction = e26.direction || "forward", this.singleCharacters = !!e26.singleCharacters, this.shallow = !!e26.shallow, this.ignoreElementEnd = !!e26.ignoreElementEnd, this._boundaryStartParent = this.boundaries ? this.boundaries.start.parent : null, this._boundaryEndParent = this.boundaries ? this.boundaries.end.parent : null;
                }
                [Symbol.iterator]() {
                    return this;
                }
                skip(e) {
                    let t16, i11, n10;
                    do n10 = this.position, { done: t16 , value: i11  } = this.next();
                    while (!t16 && e(i11))
                    t16 || (this.position = n10);
                }
                next() {
                    return "forward" == this.direction ? this._next() : this._previous();
                }
                _next() {
                    let e27 = this.position.clone();
                    const t16 = this.position, i11 = e27.parent;
                    if (null === i11.parent && e27.offset === i11.childCount) return {
                        done: !0
                    };
                    if (i11 === this._boundaryEndParent && e27.offset == this.boundaries.end.offset) return {
                        done: !0
                    };
                    let n10;
                    if (i11 instanceof hn) {
                        if (e27.isAtEnd) return this.position = co._createAfter(i11), this._next();
                        n10 = i11.data[e27.offset];
                    } else n10 = i11.getChild(e27.offset);
                    if (n10 instanceof eo) return this.shallow ? e27.offset++ : e27 = new co(n10, 0), this.position = e27, this._formatReturnValue("elementStart", n10, t16, e27, 1);
                    if (n10 instanceof hn) {
                        if (this.singleCharacters) return e27 = new co(n10, 0), this.position = e27, this._next();
                        {
                            let i12, o4 = n10.data.length;
                            return n10 == this._boundaryEndParent ? (o4 = this.boundaries.end.offset, i12 = new un(n10, 0, o4), e27 = co._createAfter(i12)) : (i12 = new un(n10, 0, n10.data.length), e27.offset++), this.position = e27, this._formatReturnValue("text", i12, t16, e27, o4);
                        }
                    }
                    if ("string" == typeof n10) {
                        let n11;
                        if (this.singleCharacters) n11 = 1;
                        else n11 = (i11 === this._boundaryEndParent ? this.boundaries.end.offset : i11.data.length) - e27.offset;
                        const o4 = new un(i11, e27.offset, n11);
                        return e27.offset += n11, this.position = e27, this._formatReturnValue("text", o4, t16, e27, n11);
                    }
                    return e27 = co._createAfter(i11), this.position = e27, this.ignoreElementEnd ? this._next() : this._formatReturnValue("elementEnd", i11, t16, e27);
                }
                _previous() {
                    let e27 = this.position.clone();
                    const t16 = this.position, i11 = e27.parent;
                    if (null === i11.parent && 0 === e27.offset) return {
                        done: !0
                    };
                    if (i11 == this._boundaryStartParent && e27.offset == this.boundaries.start.offset) return {
                        done: !0
                    };
                    let n10;
                    if (i11 instanceof hn) {
                        if (e27.isAtStart) return this.position = co._createBefore(i11), this._previous();
                        n10 = i11.data[e27.offset - 1];
                    } else n10 = i11.getChild(e27.offset - 1);
                    if (n10 instanceof eo) return this.shallow ? (e27.offset--, this.position = e27, this._formatReturnValue("elementStart", n10, t16, e27, 1)) : (e27 = new co(n10, n10.childCount), this.position = e27, this.ignoreElementEnd ? this._previous() : this._formatReturnValue("elementEnd", n10, t16, e27));
                    if (n10 instanceof hn) {
                        if (this.singleCharacters) return e27 = new co(n10, n10.data.length), this.position = e27, this._previous();
                        {
                            let i12, o4 = n10.data.length;
                            if (n10 == this._boundaryStartParent) {
                                const t17 = this.boundaries.start.offset;
                                i12 = new un(n10, t17, n10.data.length - t17), o4 = i12.data.length, e27 = co._createBefore(i12);
                            } else i12 = new un(n10, 0, n10.data.length), e27.offset--;
                            return this.position = e27, this._formatReturnValue("text", i12, t16, e27, o4);
                        }
                    }
                    if ("string" == typeof n10) {
                        let n11;
                        if (this.singleCharacters) n11 = 1;
                        else {
                            const t17 = i11 === this._boundaryStartParent ? this.boundaries.start.offset : 0;
                            n11 = e27.offset - t17;
                        }
                        e27.offset -= n11;
                        const o4 = new un(i11, e27.offset, n11);
                        return this.position = e27, this._formatReturnValue("text", o4, t16, e27, n11);
                    }
                    return e27 = co._createBefore(i11), this.position = e27, this._formatReturnValue("elementStart", i11, t16, e27, 1);
                }
                _formatReturnValue(e, t, i, n, o) {
                    return t instanceof un && (t.offsetInText + t.data.length == t.textNode.data.length && ("forward" != this.direction || this.boundaries && this.boundaries.end.isEqual(this.position) ? i = co._createAfter(t.textNode) : (n = co._createAfter(t.textNode), this.position = n)), 0 === t.offsetInText && ("backward" != this.direction || this.boundaries && this.boundaries.start.isEqual(this.position) ? i = co._createBefore(t.textNode) : (n = co._createBefore(t.textNode), this.position = n))), {
                        done: !1,
                        value: {
                            type: e,
                            item: t,
                            previousPosition: i,
                            nextPosition: n,
                            length: o
                        }
                    };
                }
            }
            class co {
                constructor(e27, t16){
                    this.parent = e27, this.offset = t16;
                }
                get nodeAfter() {
                    return this.parent.is("$text") ? null : this.parent.getChild(this.offset) || null;
                }
                get nodeBefore() {
                    return this.parent.is("$text") ? null : this.parent.getChild(this.offset - 1) || null;
                }
                get isAtStart() {
                    return 0 === this.offset;
                }
                get isAtEnd() {
                    const e28 = this.parent.is("$text") ? this.parent.data.length : this.parent.childCount;
                    return this.offset === e28;
                }
                get root() {
                    return this.parent.root;
                }
                get editableElement() {
                    let e28 = this.parent;
                    for(; !(e28 instanceof oo);){
                        if (!e28.parent) return null;
                        e28 = e28.parent;
                    }
                    return e28;
                }
                getShiftedBy(e) {
                    const t17 = co._createAt(this), i11 = t17.offset + e;
                    return t17.offset = i11 < 0 ? 0 : i11, t17;
                }
                getLastMatchingPosition(e, t = {
                }) {
                    t.startPosition = this;
                    const i11 = new ao(t);
                    return i11.skip(e), i11.position;
                }
                getAncestors() {
                    return this.parent.is("documentFragment") ? [
                        this.parent
                    ] : this.parent.getAncestors({
                        includeSelf: !0
                    });
                }
                getCommonAncestor(e) {
                    const t17 = this.getAncestors(), i11 = e.getAncestors();
                    let n10 = 0;
                    for(; t17[n10] == i11[n10] && t17[n10];)n10++;
                    return 0 === n10 ? null : t17[n10 - 1];
                }
                is(e) {
                    return "position" === e || "view:position" === e;
                }
                isEqual(e) {
                    return this.parent == e.parent && this.offset == e.offset;
                }
                isBefore(e) {
                    return "before" == this.compareWith(e);
                }
                isAfter(e) {
                    return "after" == this.compareWith(e);
                }
                compareWith(e) {
                    if (this.root !== e.root) return "different";
                    if (this.isEqual(e)) return "same";
                    const t17 = this.parent.is("node") ? this.parent.getPath() : [], i11 = e.parent.is("node") ? e.parent.getPath() : [];
                    t17.push(this.offset), i11.push(e.offset);
                    const n10 = cn(t17, i11);
                    switch(n10){
                        case "prefix":
                            return "before";
                        case "extension":
                            return "after";
                        default:
                            return t17[n10] < i11[n10] ? "before" : "after";
                    }
                }
                getWalker(e = {
                }) {
                    return e.startPosition = this, new ao(e);
                }
                clone() {
                    return new co(this.parent, this.offset);
                }
                static _createAt(e, t) {
                    if (e instanceof co) return new this(e.parent, e.offset);
                    {
                        const i11 = e;
                        if ("end" == t) t = i11.is("$text") ? i11.data.length : i11.childCount;
                        else {
                            if ("before" == t) return this._createBefore(i11);
                            if ("after" == t) return this._createAfter(i11);
                            if (0 !== t && !t) throw new c2.a("view-createpositionat-offset-required", i11);
                        }
                        return new co(i11, t);
                    }
                }
                static _createAfter(e) {
                    if (e.is("$textProxy")) return new co(e.textNode, e.offsetInText + e.data.length);
                    if (!e.parent) throw new c2.a("view-position-after-root", e, {
                        root: e
                    });
                    return new co(e.parent, e.index + 1);
                }
                static _createBefore(e) {
                    if (e.is("$textProxy")) return new co(e.textNode, e.offsetInText);
                    if (!e.parent) throw new c2.a("view-position-before-root", e, {
                        root: e
                    });
                    return new co(e.parent, e.index);
                }
            }
            class lo {
                constructor(e28, t17 = null){
                    this.start = e28.clone(), this.end = t17 ? t17.clone() : e28.clone();
                }
                *[Symbol.iterator]() {
                    yield* new ao({
                        boundaries: this,
                        ignoreElementEnd: !0
                    });
                }
                get isCollapsed() {
                    return this.start.isEqual(this.end);
                }
                get isFlat() {
                    return this.start.parent === this.end.parent;
                }
                get root() {
                    return this.start.root;
                }
                getEnlarged() {
                    let e29 = this.start.getLastMatchingPosition(ho, {
                        direction: "backward"
                    }), t18 = this.end.getLastMatchingPosition(ho);
                    return e29.parent.is("$text") && e29.isAtStart && (e29 = co._createBefore(e29.parent)), t18.parent.is("$text") && t18.isAtEnd && (t18 = co._createAfter(t18.parent)), new lo(e29, t18);
                }
                getTrimmed() {
                    let e29 = this.start.getLastMatchingPosition(ho);
                    if (e29.isAfter(this.end) || e29.isEqual(this.end)) return new lo(e29, e29);
                    let t18 = this.end.getLastMatchingPosition(ho, {
                        direction: "backward"
                    });
                    const i11 = e29.nodeAfter, n10 = t18.nodeBefore;
                    return i11 && i11.is("$text") && (e29 = new co(i11, 0)), n10 && n10.is("$text") && (t18 = new co(n10, n10.data.length)), new lo(e29, t18);
                }
                isEqual(e) {
                    return this == e || this.start.isEqual(e.start) && this.end.isEqual(e.end);
                }
                containsPosition(e) {
                    return e.isAfter(this.start) && e.isBefore(this.end);
                }
                containsRange(e, t = !1) {
                    e.isCollapsed && (t = !1);
                    const i11 = this.containsPosition(e.start) || t && this.start.isEqual(e.start), n10 = this.containsPosition(e.end) || t && this.end.isEqual(e.end);
                    return i11 && n10;
                }
                getDifference(e) {
                    const t18 = [];
                    return this.isIntersecting(e) ? (this.containsPosition(e.start) && t18.push(new lo(this.start, e.start)), this.containsPosition(e.end) && t18.push(new lo(e.end, this.end))) : t18.push(this.clone()), t18;
                }
                getIntersection(e) {
                    if (this.isIntersecting(e)) {
                        let t18 = this.start, i11 = this.end;
                        return this.containsPosition(e.start) && (t18 = e.start), this.containsPosition(e.end) && (i11 = e.end), new lo(t18, i11);
                    }
                    return null;
                }
                getWalker(e = {
                }) {
                    return e.boundaries = this, new ao(e);
                }
                getCommonAncestor() {
                    return this.start.getCommonAncestor(this.end);
                }
                getContainedElement() {
                    if (this.isCollapsed) return null;
                    let e29 = this.start.nodeAfter, t18 = this.end.nodeBefore;
                    return this.start.parent.is("$text") && this.start.isAtEnd && this.start.parent.nextSibling && (e29 = this.start.parent.nextSibling), this.end.parent.is("$text") && this.end.isAtStart && this.end.parent.previousSibling && (t18 = this.end.parent.previousSibling), e29 && e29.is("element") && e29 === t18 ? e29 : null;
                }
                clone() {
                    return new lo(this.start, this.end);
                }
                *getItems(e = {
                }) {
                    e.boundaries = this, e.ignoreElementEnd = !0;
                    const t18 = new ao(e);
                    for (const e29 of t18)yield e29.item;
                }
                *getPositions(e = {
                }) {
                    e.boundaries = this;
                    const t18 = new ao(e);
                    yield t18.position;
                    for (const e29 of t18)yield e29.nextPosition;
                }
                is(e) {
                    return "range" === e || "view:range" === e;
                }
                isIntersecting(e) {
                    return this.start.isBefore(e.end) && this.end.isAfter(e.start);
                }
                static _createFromParentsAndOffsets(e, t, i, n) {
                    return new this(new co(e, t), new co(i, n));
                }
                static _createFromPositionAndShift(e, t) {
                    const i11 = e, n10 = e.getShiftedBy(t);
                    return t > 0 ? new this(i11, n10) : new this(n10, i11);
                }
                static _createIn(e) {
                    return this._createFromParentsAndOffsets(e, 0, e, e.childCount);
                }
                static _createOn(e) {
                    const t18 = e.is("$textProxy") ? e.offsetSize : 1;
                    return this._createFromPositionAndShift(co._createBefore(e), t18);
                }
            }
            function ho(e29) {
                return !(!e29.item.is("attributeElement") && !e29.item.is("uiElement"));
            }
            function uo(e29) {
                let t18 = 0;
                for (const i11 of e29)t18++;
                return t18;
            }
            class go {
                constructor(e29 = null, t18, i11){
                    this._ranges = [], this._lastRangeBackward = !1, this._isFake = !1, this._fakeSelectionLabel = "", this.setTo(e29, t18, i11);
                }
                get isFake() {
                    return this._isFake;
                }
                get fakeSelectionLabel() {
                    return this._fakeSelectionLabel;
                }
                get anchor() {
                    if (!this._ranges.length) return null;
                    const e30 = this._ranges[this._ranges.length - 1];
                    return (this._lastRangeBackward ? e30.end : e30.start).clone();
                }
                get focus() {
                    if (!this._ranges.length) return null;
                    const e30 = this._ranges[this._ranges.length - 1];
                    return (this._lastRangeBackward ? e30.start : e30.end).clone();
                }
                get isCollapsed() {
                    return 1 === this.rangeCount && this._ranges[0].isCollapsed;
                }
                get rangeCount() {
                    return this._ranges.length;
                }
                get isBackward() {
                    return !this.isCollapsed && this._lastRangeBackward;
                }
                get editableElement() {
                    return this.anchor ? this.anchor.editableElement : null;
                }
                *getRanges() {
                    for (const e30 of this._ranges)yield e30.clone();
                }
                getFirstRange() {
                    let e30 = null;
                    for (const t19 of this._ranges)e30 && !t19.start.isBefore(e30.start) || (e30 = t19);
                    return e30 ? e30.clone() : null;
                }
                getLastRange() {
                    let e30 = null;
                    for (const t19 of this._ranges)e30 && !t19.end.isAfter(e30.end) || (e30 = t19);
                    return e30 ? e30.clone() : null;
                }
                getFirstPosition() {
                    const e30 = this.getFirstRange();
                    return e30 ? e30.start.clone() : null;
                }
                getLastPosition() {
                    const e30 = this.getLastRange();
                    return e30 ? e30.end.clone() : null;
                }
                isEqual(e) {
                    if (this.isFake != e.isFake) return !1;
                    if (this.isFake && this.fakeSelectionLabel != e.fakeSelectionLabel) return !1;
                    if (this.rangeCount != e.rangeCount) return !1;
                    if (0 === this.rangeCount) return !0;
                    if (!this.anchor.isEqual(e.anchor) || !this.focus.isEqual(e.focus)) return !1;
                    for (const t19 of this._ranges){
                        let i12 = !1;
                        for (const n10 of e._ranges)if (t19.isEqual(n10)) {
                            i12 = !0;
                            break;
                        }
                        if (!i12) return !1;
                    }
                    return !0;
                }
                isSimilar(e) {
                    if (this.isBackward != e.isBackward) return !1;
                    const t19 = uo(this.getRanges());
                    if (t19 != uo(e.getRanges())) return !1;
                    if (0 == t19) return !0;
                    for (let t20 of this.getRanges()){
                        t20 = t20.getTrimmed();
                        let i12 = !1;
                        for (let n10 of e.getRanges())if (n10 = n10.getTrimmed(), t20.start.isEqual(n10.start) && t20.end.isEqual(n10.end)) {
                            i12 = !0;
                            break;
                        }
                        if (!i12) return !1;
                    }
                    return !0;
                }
                getSelectedElement() {
                    return 1 !== this.rangeCount ? null : this.getFirstRange().getContainedElement();
                }
                setTo(e, t, i) {
                    if (null === e) this._setRanges([]), this._setFakeOptions(t);
                    else if (e instanceof go || e instanceof mo) this._setRanges(e.getRanges(), e.isBackward), this._setFakeOptions({
                        fake: e.isFake,
                        label: e.fakeSelectionLabel
                    });
                    else if (e instanceof lo) this._setRanges([
                        e
                    ], t && t.backward), this._setFakeOptions(t);
                    else if (e instanceof co) this._setRanges([
                        new lo(e)
                    ]), this._setFakeOptions(t);
                    else if (e instanceof dn) {
                        const n10 = !!i && !!i.backward;
                        let o4;
                        if ((void 0) === t) throw new c2.a("view-selection-setto-required-second-parameter", this);
                        o4 = "in" == t ? lo._createIn(e) : "on" == t ? lo._createOn(e) : new lo(co._createAt(e, t)), this._setRanges([
                            o4
                        ], n10), this._setFakeOptions(i);
                    } else {
                        if (!Ji(e)) throw new c2.a("view-selection-setto-not-selectable", this);
                        this._setRanges(e, t && t.backward), this._setFakeOptions(t);
                    }
                    this.fire("change");
                }
                setFocus(e, t) {
                    if (null === this.anchor) throw new c2.a("view-selection-setfocus-no-ranges", this);
                    const i12 = co._createAt(e, t);
                    if ("same" == i12.compareWith(this.focus)) return;
                    const n10 = this.anchor;
                    this._ranges.pop(), "before" == i12.compareWith(n10) ? this._addRange(new lo(i12, n10), !0) : this._addRange(new lo(n10, i12)), this.fire("change");
                }
                is(e) {
                    return "selection" === e || "view:selection" === e;
                }
                _setRanges(e, t = !1) {
                    e = Array.from(e), this._ranges = [];
                    for (const t19 of e)this._addRange(t19);
                    this._lastRangeBackward = !!t;
                }
                _setFakeOptions(e = {
                }) {
                    this._isFake = !!e.fake, this._fakeSelectionLabel = e.fake && e.label || "";
                }
                _addRange(e, t = !1) {
                    if (!(e instanceof lo)) throw new c2.a("view-selection-add-range-not-range", this);
                    this._pushRange(e), this._lastRangeBackward = !!t;
                }
                _pushRange(e) {
                    for (const t19 of this._ranges)if (e.isIntersecting(t19)) throw new c2.a("view-selection-range-intersects", this, {
                        addedRange: e,
                        intersectingRange: t19
                    });
                    this._ranges.push(new lo(e.start, e.end));
                }
            }
            Ke(go, h1);
            class mo {
                constructor(e30 = null, t19, i12){
                    this._selection = new go, this._selection.delegate("change").to(this), this._selection.setTo(e30, t19, i12);
                }
                get isFake() {
                    return this._selection.isFake;
                }
                get fakeSelectionLabel() {
                    return this._selection.fakeSelectionLabel;
                }
                get anchor() {
                    return this._selection.anchor;
                }
                get focus() {
                    return this._selection.focus;
                }
                get isCollapsed() {
                    return this._selection.isCollapsed;
                }
                get rangeCount() {
                    return this._selection.rangeCount;
                }
                get isBackward() {
                    return this._selection.isBackward;
                }
                get editableElement() {
                    return this._selection.editableElement;
                }
                get _ranges() {
                    return this._selection._ranges;
                }
                *getRanges() {
                    yield* this._selection.getRanges();
                }
                getFirstRange() {
                    return this._selection.getFirstRange();
                }
                getLastRange() {
                    return this._selection.getLastRange();
                }
                getFirstPosition() {
                    return this._selection.getFirstPosition();
                }
                getLastPosition() {
                    return this._selection.getLastPosition();
                }
                getSelectedElement() {
                    return this._selection.getSelectedElement();
                }
                isEqual(e) {
                    return this._selection.isEqual(e);
                }
                isSimilar(e) {
                    return this._selection.isSimilar(e);
                }
                is(e) {
                    return "selection" === e || "documentSelection" == e || "view:selection" == e || "view:documentSelection" == e;
                }
                _setTo(e, t, i) {
                    this._selection.setTo(e, t, i);
                }
                _setFocus(e, t) {
                    this._selection.setFocus(e, t);
                }
            }
            Ke(mo, h1);
            class fo extends o3 {
                constructor(e31, t20, i13){
                    super(e31, t20), this.startRange = i13, this._eventPhase = "none", this._currentTarget = null;
                }
                get eventPhase() {
                    return this._eventPhase;
                }
                get currentTarget() {
                    return this._currentTarget;
                }
            }
            const po = Symbol("bubbling contexts");
            var bo = {
                fire (e, ...t) {
                    try {
                        const i14 = e instanceof o3 ? e : new o3(this, e), n10 = vo(this);
                        if (!n10.size) return;
                        if (wo(i14, "capturing", this), ko(n10, "$capture", i14, ...t)) return i14.return;
                        const r6 = i14.startRange || this.selection.getFirstRange(), s5 = r6 ? r6.getContainedElement() : null, a4 = !!s5 && Boolean(_o(n10, s5));
                        let c7 = s5 || function(e32) {
                            if (!e32) return null;
                            const t21 = e32.start.parent, i15 = e32.end.parent, n11 = t21.getPath(), o4 = i15.getPath();
                            return n11.length > o4.length ? t21 : i15;
                        }(r6);
                        if (wo(i14, "atTarget", c7), !a4) {
                            if (ko(n10, "$text", i14, ...t)) return i14.return;
                            wo(i14, "bubbling", c7);
                        }
                        for(; c7;){
                            if (c7.is("rootElement")) {
                                if (ko(n10, "$root", i14, ...t)) return i14.return;
                            } else if (c7.is("element") && ko(n10, c7.name, i14, ...t)) return i14.return;
                            if (ko(n10, c7, i14, ...t)) return i14.return;
                            c7 = c7.parent, wo(i14, "bubbling", c7);
                        }
                        return wo(i14, "bubbling", this), ko(n10, "$document", i14, ...t), i14.return;
                    } catch (e32) {
                        c2.a.rethrowUnexpectedError(e32, this);
                    }
                },
                _addEventListener (e, t, i) {
                    const n10 = en(i.context || "$document"), o4 = vo(this);
                    for (const r6 of n10){
                        let n11 = o4.get(r6);
                        n11 || (n11 = Object.create(h1), o4.set(r6, n11)), this.listenTo(n11, e, t, i);
                    }
                },
                _removeEventListener (e, t) {
                    const i14 = vo(this);
                    for (const n10 of i14.values())this.stopListening(n10, e, t);
                }
            };
            function wo(e32, t21, i14) {
                e32 instanceof fo && (e32._eventPhase = t21, e32._currentTarget = i14);
            }
            function ko(e32, t21, i14, ...n10) {
                const o4 = "string" == typeof t21 ? e32.get(t21) : _o(e32, t21);
                return !!o4 && (o4.fire(i14, ...n10), i14.stop.called);
            }
            function _o(e32, t21) {
                for (const [i14, n10] of e32)if ("function" == typeof i14 && i14(t21)) return n10;
                return null;
            }
            function vo(e32) {
                return e32[po] || (e32[po] = new Map), e32[po];
            }
            class yo {
                constructor(e32){
                    this.selection = new mo, this.roots = new Zi({
                        idProperty: "rootName"
                    }), this.stylesProcessor = e32, this.set("isReadOnly", !1), this.set("isFocused", !1), this.set("isComposing", !1), this._postFixers = new Set;
                }
                getRoot(e = "main") {
                    return this.roots.get(e);
                }
                registerPostFixer(e) {
                    this._postFixers.add(e);
                }
                destroy() {
                    this.roots.map((e33)=>e33.destroy()
                    ), this.stopListening();
                }
                _callPostFixers(e) {
                    let t21 = !1;
                    do {
                        for (const i14 of this._postFixers)if (t21 = i14(e), t21) break;
                    }while (t21)
                }
            }
            Ke(yo, bo), Ke(yo, Ue);
            class xo extends eo {
                constructor(e33, t21, i14, n10){
                    super(e33, t21, i14, n10), this.getFillerOffset = Ao, this._priority = 10, this._id = null, this._clonesGroup = null;
                }
                get priority() {
                    return this._priority;
                }
                get id() {
                    return this._id;
                }
                getElementsWithSameId() {
                    if (null === this.id) throw new c2.a("attribute-element-get-elements-with-same-id-no-id", this);
                    return new Set(this._clonesGroup);
                }
                is(e, t = null) {
                    return t ? t === this.name && ("attributeElement" === e || "view:attributeElement" === e || "element" === e || "view:element" === e) : "attributeElement" === e || "view:attributeElement" === e || "element" === e || "view:element" === e || "node" === e || "view:node" === e;
                }
                isSimilar(e) {
                    return null !== this.id || null !== e.id ? this.id === e.id : super.isSimilar(e) && this.priority == e.priority;
                }
                _clone(e) {
                    const t22 = super._clone(e);
                    return t22._priority = this._priority, t22._id = this._id, t22;
                }
            }
            function Ao() {
                if (Co(this)) return null;
                let e34 = this.parent;
                for(; e34 && e34.is("attributeElement");){
                    if (Co(e34) > 1) return null;
                    e34 = e34.parent;
                }
                return !e34 || Co(e34) > 1 ? null : this.childCount;
            }
            function Co(e34) {
                return Array.from(e34.getChildren()).filter((e35)=>!e35.is("uiElement")
                ).length;
            }
            xo.DEFAULT_PRIORITY = 10;
            class To extends eo {
                constructor(e34, t22, i15, n11){
                    super(e34, t22, i15, n11), this._isAllowedInsideAttributeElement = !0, this.getFillerOffset = Eo;
                }
                is(e, t = null) {
                    return t ? t === this.name && ("emptyElement" === e || "view:emptyElement" === e || "element" === e || "view:element" === e) : "emptyElement" === e || "view:emptyElement" === e || "element" === e || "view:element" === e || "node" === e || "view:node" === e;
                }
                _insertChild(e, t) {
                    if (t && (t instanceof dn || Array.from(t).length > 0)) throw new c2.a("view-emptyelement-cannot-add", [
                        this,
                        t
                    ]);
                }
            }
            function Eo() {
                return null;
            }
            const Io = navigator.userAgent.toLowerCase();
            var So = {
                isMac: function(e35) {
                    return e35.indexOf("macintosh") > -1;
                }(Io),
                isGecko: function(e35) {
                    return !!e35.match(/gecko\/\d+/);
                }(Io),
                isSafari: function(e35) {
                    return e35.indexOf(" applewebkit/") > -1 && -1 === e35.indexOf("chrome");
                }(Io),
                isAndroid: function(e35) {
                    return e35.indexOf("android") > -1;
                }(Io),
                isBlink: function(e35) {
                    return e35.indexOf("chrome/") > -1 && e35.indexOf("edge/") < 0;
                }(Io),
                features: {
                    isRegExpUnicodePropertySupported: function() {
                        let e35 = !1;
                        try {
                            e35 = 0 === "ć".search(new RegExp("[\\p{L}]", "u"));
                        } catch (e36) {
                        }
                        return e35;
                    }()
                }
            };
            const Po = {
                ctrl: "⌃",
                cmd: "⌘",
                alt: "⌥",
                shift: "⇧"
            }, Mo = {
                ctrl: "Ctrl+",
                alt: "Alt+",
                shift: "Shift+"
            }, No = function() {
                const e35 = {
                    arrowleft: 37,
                    arrowup: 38,
                    arrowright: 39,
                    arrowdown: 40,
                    backspace: 8,
                    delete: 46,
                    enter: 13,
                    space: 32,
                    esc: 27,
                    tab: 9,
                    ctrl: 1114112,
                    shift: 2228224,
                    alt: 4456448,
                    cmd: 8912896
                };
                for(let t23 = 65; t23 <= 90; t23++){
                    const i16 = String.fromCharCode(t23);
                    e35[i16.toLowerCase()] = t23;
                }
                for(let t24 = 48; t24 <= 57; t24++)e35[t24 - 48] = t24;
                for(let t25 = 112; t25 <= 123; t25++)e35["f" + (t25 - 111)] = t25;
                return e35;
            }(), Ro = Object.fromEntries(Object.entries(No).map(([e35, t23])=>[
                    t23,
                    e35.charAt(0).toUpperCase() + e35.slice(1)
                ]
            ));
            function Oo(e35) {
                let t23;
                if ("string" == typeof e35) {
                    if (t23 = No[e35.toLowerCase()], !t23) throw new c2.a("keyboard-unknown-key", null, {
                        key: e35
                    });
                } else t23 = e35.keyCode + (e35.altKey ? No.alt : 0) + (e35.ctrlKey ? No.ctrl : 0) + (e35.shiftKey ? No.shift : 0) + (e35.metaKey ? No.cmd : 0);
                return t23;
            }
            function zo(e35) {
                return "string" == typeof e35 && (e35 = (function(e36) {
                    return e36.split("+").map((e37)=>e37.trim()
                    );
                })(e35)), e35.map((e36)=>"string" == typeof e36 ? (function(e37) {
                        if (e37.endsWith("!")) return Oo(e37.slice(0, -1));
                        const t23 = Oo(e37);
                        return So.isMac && t23 == No.ctrl ? No.cmd : t23;
                    })(e36) : e36
                ).reduce((e36, t23)=>t23 + e36
                , 0);
            }
            function Do(e35) {
                let t23 = zo(e35);
                return Object.entries(So.isMac ? Po : Mo).reduce((e36, [i16, n12])=>(0 != (t23 & No[i16]) && (t23 &= ~No[i16], e36 += n12), e36)
                , "") + (t23 ? Ro[t23] : "");
            }
            function Lo(e35, t23) {
                const i16 = "ltr" === t23;
                switch(e35){
                    case No.arrowleft:
                        return i16 ? "left" : "right";
                    case No.arrowright:
                        return i16 ? "right" : "left";
                    case No.arrowup:
                        return "up";
                    case No.arrowdown:
                        return "down";
                }
            }
            function Vo(e35, t23) {
                const i16 = Lo(e35, t23);
                return "down" === i16 || "right" === i16;
            }
            class jo extends eo {
                constructor(e35, t23, i16, n12){
                    super(e35, t23, i16, n12), this._isAllowedInsideAttributeElement = !0, this.getFillerOffset = Fo;
                }
                is(e, t = null) {
                    return t ? t === this.name && ("uiElement" === e || "view:uiElement" === e || "element" === e || "view:element" === e) : "uiElement" === e || "view:uiElement" === e || "element" === e || "view:element" === e || "node" === e || "view:node" === e;
                }
                _insertChild(e, t) {
                    if (t && (t instanceof dn || Array.from(t).length > 0)) throw new c2.a("view-uielement-cannot-add", this);
                }
                render(e) {
                    return this.toDomElement(e);
                }
                toDomElement(e) {
                    const t24 = e.createElement(this.name);
                    for (const e36 of this.getAttributeKeys())t24.setAttribute(e36, this.getAttribute(e36));
                    return t24;
                }
            }
            function Bo(e36) {
                e36.document.on("arrowKey", (t24, i17)=>(function(e37, t25, i18) {
                        if (t25.keyCode == No.arrowright) {
                            const e38 = t25.domTarget.ownerDocument.defaultView.getSelection(), n13 = 1 == e38.rangeCount && e38.getRangeAt(0).collapsed;
                            if (n13 || t25.shiftKey) {
                                const t26 = e38.focusNode, o4 = e38.focusOffset, r6 = i18.domPositionToView(t26, o4);
                                if (null === r6) return;
                                let s5 = !1;
                                const a4 = r6.getLastMatchingPosition((e39)=>(e39.item.is("uiElement") && (s5 = !0), !(!e39.item.is("uiElement") && !e39.item.is("attributeElement")))
                                );
                                if (s5) {
                                    const t27 = i18.viewPositionToDom(a4);
                                    n13 ? e38.collapse(t27.parent, t27.offset) : e38.extend(t27.parent, t27.offset);
                                }
                            }
                        }
                    })(0, i17, e36.domConverter)
                , {
                    priority: "low"
                });
            }
            function Fo() {
                return null;
            }
            class Ho extends eo {
                constructor(e36, t24, i17, n13){
                    super(e36, t24, i17, n13), this._isAllowedInsideAttributeElement = !0, this.getFillerOffset = Uo;
                }
                is(e, t = null) {
                    return t ? t === this.name && ("rawElement" === e || "view:rawElement" === e || "element" === e || "view:element" === e) : "rawElement" === e || "view:rawElement" === e || e === this.name || e === "view:" + this.name || "element" === e || "view:element" === e || "node" === e || "view:node" === e;
                }
                _insertChild(e, t) {
                    if (t && (t instanceof dn || Array.from(t).length > 0)) throw new c2.a("view-rawelement-cannot-add", [
                        this,
                        t
                    ]);
                }
            }
            function Uo() {
                return null;
            }
            class Wo {
                constructor(e37, t25){
                    this.document = e37, this._children = [], t25 && this._insertChild(0, t25);
                }
                [Symbol.iterator]() {
                    return this._children[Symbol.iterator]();
                }
                get childCount() {
                    return this._children.length;
                }
                get isEmpty() {
                    return 0 === this.childCount;
                }
                get root() {
                    return this;
                }
                get parent() {
                    return null;
                }
                is(e) {
                    return "documentFragment" === e || "view:documentFragment" === e;
                }
                _appendChild(e) {
                    return this._insertChild(this.childCount, e);
                }
                getChild(e) {
                    return this._children[e];
                }
                getChildIndex(e) {
                    return this._children.indexOf(e);
                }
                getChildren() {
                    return this._children[Symbol.iterator]();
                }
                _insertChild(e, t) {
                    this._fireChange("children", this);
                    let i18 = 0;
                    const n14 = function(e38, t26) {
                        if ("string" == typeof t26) return [
                            new hn(e38, t26)
                        ];
                        Ji(t26) || (t26 = [
                            t26
                        ]);
                        return Array.from(t26).map((t27)=>"string" == typeof t27 ? new hn(e38, t27) : t27 instanceof un ? new hn(e38, t27.data) : t27
                        );
                    }(this.document, t);
                    for (const t26 of n14)null !== t26.parent && t26._remove(), t26.parent = this, this._children.splice(e, 0, t26), e++, i18++;
                    return i18;
                }
                _removeChildren(e, t = 1) {
                    this._fireChange("children", this);
                    for(let i18 = e; i18 < e + t; i18++)this._children[i18].parent = null;
                    return this._children.splice(e, t);
                }
                _fireChange(e, t) {
                    this.fire("change:" + e, t);
                }
            }
            Ke(Wo, h1);
            class qo {
                constructor(e38){
                    this.document = e38, this._cloneGroups = new Map;
                }
                setSelection(e, t, i) {
                    this.document.selection._setTo(e, t, i);
                }
                setSelectionFocus(e, t) {
                    this.document.selection._setFocus(e, t);
                }
                createDocumentFragment(e) {
                    return new Wo(this.document, e);
                }
                createText(e) {
                    return new hn(this.document, e);
                }
                createAttributeElement(e, t, i = {
                }) {
                    const n14 = new xo(this.document, e, t);
                    return "number" == typeof i.priority && (n14._priority = i.priority), i.id && (n14._id = i.id), n14;
                }
                createContainerElement(e, t, i = {
                }) {
                    const n14 = new io(this.document, e, t);
                    return (void 0) !== i.isAllowedInsideAttributeElement && (n14._isAllowedInsideAttributeElement = i.isAllowedInsideAttributeElement), n14;
                }
                createEditableElement(e, t) {
                    const i18 = new oo(this.document, e, t);
                    return i18._document = this.document, i18;
                }
                createEmptyElement(e, t, i = {
                }) {
                    const n14 = new To(this.document, e, t);
                    return (void 0) !== i.isAllowedInsideAttributeElement && (n14._isAllowedInsideAttributeElement = i.isAllowedInsideAttributeElement), n14;
                }
                createUIElement(e, t, i, n = {
                }) {
                    const o4 = new jo(this.document, e, t);
                    return i && (o4.render = i), (void 0) !== n.isAllowedInsideAttributeElement && (o4._isAllowedInsideAttributeElement = n.isAllowedInsideAttributeElement), o4;
                }
                createRawElement(e, t, i, n = {
                }) {
                    const o4 = new Ho(this.document, e, t);
                    return o4.render = i || (()=>{
                    }), (void 0) !== n.isAllowedInsideAttributeElement && (o4._isAllowedInsideAttributeElement = n.isAllowedInsideAttributeElement), o4;
                }
                setAttribute(e, t, i) {
                    i._setAttribute(e, t);
                }
                removeAttribute(e, t) {
                    t._removeAttribute(e);
                }
                addClass(e, t) {
                    t._addClass(e);
                }
                removeClass(e, t) {
                    t._removeClass(e);
                }
                setStyle(e, t, i) {
                    ct(e) && (void 0) === i && (i = t), i._setStyle(e, t);
                }
                removeStyle(e, t) {
                    t._removeStyle(e);
                }
                setCustomProperty(e, t, i) {
                    i._setCustomProperty(e, t);
                }
                removeCustomProperty(e, t) {
                    return t._removeCustomProperty(e);
                }
                breakAttributes(e) {
                    return e instanceof co ? this._breakAttributes(e) : this._breakAttributesRange(e);
                }
                breakContainer(e) {
                    const t26 = e.parent;
                    if (!t26.is("containerElement")) throw new c2.a("view-writer-break-non-container-element", this.document);
                    if (!t26.parent) throw new c2.a("view-writer-break-root", this.document);
                    if (e.isAtStart) return co._createBefore(t26);
                    if (!e.isAtEnd) {
                        const i18 = t26._clone(!1);
                        this.insert(co._createAfter(t26), i18);
                        const n14 = new lo(e, co._createAt(t26, "end")), o4 = new co(i18, 0);
                        this.move(n14, o4);
                    }
                    return co._createAfter(t26);
                }
                mergeAttributes(e) {
                    const t26 = e.offset, i18 = e.parent;
                    if (i18.is("$text")) return e;
                    if (i18.is("attributeElement") && 0 === i18.childCount) {
                        const e39 = i18.parent, t27 = i18.index;
                        return i18._remove(), this._removeFromClonedElementsGroup(i18), this.mergeAttributes(new co(e39, t27));
                    }
                    const n14 = i18.getChild(t26 - 1), o4 = i18.getChild(t26);
                    if (!n14 || !o4) return e;
                    if (n14.is("$text") && o4.is("$text")) return Qo(n14, o4);
                    if (n14.is("attributeElement") && o4.is("attributeElement") && n14.isSimilar(o4)) {
                        const e39 = n14.childCount;
                        return n14._appendChild(o4.getChildren()), o4._remove(), this._removeFromClonedElementsGroup(o4), this.mergeAttributes(new co(n14, e39));
                    }
                    return e;
                }
                mergeContainers(e) {
                    const t26 = e.nodeBefore, i18 = e.nodeAfter;
                    if (!(t26 && i18 && t26.is("containerElement") && i18.is("containerElement"))) throw new c2.a("view-writer-merge-containers-invalid-position", this.document);
                    const n14 = t26.getChild(t26.childCount - 1), o4 = n14 instanceof hn ? co._createAt(n14, "end") : co._createAt(t26, "end");
                    return this.move(lo._createIn(i18), co._createAt(t26, "end")), this.remove(lo._createOn(i18)), o4;
                }
                insert(e, t) {
                    (function e39(t26, i18) {
                        for (const n14 of t26){
                            if (!Jo.some((e40)=>n14 instanceof e40
                            )) throw new c2.a("view-writer-insert-invalid-node-type", i18);
                            n14.is("$text") || e39(n14.getChildren(), i18);
                        }
                    })(t = Ji(t) ? [
                        ...t
                    ] : [
                        t
                    ], this.document);
                    const i18 = t.reduce((e40, t26)=>{
                        const i19 = e40[e40.length - 1], n14 = !(t26.is("uiElement") && t26.isAllowedInsideAttributeElement);
                        return i19 && i19.breakAttributes == n14 ? i19.nodes.push(t26) : e40.push({
                            breakAttributes: n14,
                            nodes: [
                                t26
                            ]
                        }), e40;
                    }, []);
                    let n14 = null, o4 = e;
                    for (const { nodes: e40 , breakAttributes: t26  } of i18){
                        const i19 = this._insertNodes(o4, e40, t26);
                        n14 || (n14 = i19.start), o4 = i19.end;
                    }
                    return n14 ? new lo(n14, o4) : new lo(e);
                }
                remove(e) {
                    const t26 = e instanceof lo ? e : lo._createOn(e);
                    if (Xo(t26, this.document), t26.isCollapsed) return new Wo(this.document);
                    const { start: i18 , end: n14  } = this._breakAttributesRange(t26, !0), o4 = i18.parent, r6 = n14.offset - i18.offset, s5 = o4._removeChildren(i18.offset, r6);
                    for (const e39 of s5)this._removeFromClonedElementsGroup(e39);
                    const a4 = this.mergeAttributes(i18);
                    return t26.start = a4, t26.end = a4.clone(), new Wo(this.document, s5);
                }
                clear(e, t) {
                    Xo(e, this.document);
                    const i18 = e.getWalker({
                        direction: "backward",
                        ignoreElementEnd: !0
                    });
                    for (const n14 of i18){
                        const i19 = n14.item;
                        let o4;
                        if (i19.is("element") && t.isSimilar(i19)) o4 = lo._createOn(i19);
                        else if (!n14.nextPosition.isAfter(e.start) && i19.is("$textProxy")) {
                            const e39 = i19.getAncestors().find((e40)=>e40.is("element") && t.isSimilar(e40)
                            );
                            e39 && (o4 = lo._createIn(e39));
                        }
                        o4 && (o4.end.isAfter(e.end) && (o4.end = e.end), o4.start.isBefore(e.start) && (o4.start = e.start), this.remove(o4));
                    }
                }
                move(e, t) {
                    let i18;
                    if (t.isAfter(e.end)) {
                        const n14 = (t = this._breakAttributes(t, !0)).parent, o4 = n14.childCount;
                        e = this._breakAttributesRange(e, !0), i18 = this.remove(e), t.offset += n14.childCount - o4;
                    } else i18 = this.remove(e);
                    return this.insert(t, i18);
                }
                wrap(e, t) {
                    if (!(t instanceof xo)) throw new c2.a("view-writer-wrap-invalid-attribute", this.document);
                    if (Xo(e, this.document), e.isCollapsed) {
                        let n14 = e.start;
                        n14.parent.is("element") && (i18 = n14.parent, !Array.from(i18.getChildren()).some((e39)=>!e39.is("uiElement")
                        )) && (n14 = n14.getLastMatchingPosition((e39)=>e39.item.is("uiElement")
                        )), n14 = this._wrapPosition(n14, t);
                        const o4 = this.document.selection;
                        return o4.isCollapsed && o4.getFirstPosition().isEqual(e.start) && this.setSelection(n14), new lo(n14);
                    }
                    var i18;
                    return this._wrapRange(e, t);
                }
                unwrap(e, t) {
                    if (!(t instanceof xo)) throw new c2.a("view-writer-unwrap-invalid-attribute", this.document);
                    if (Xo(e, this.document), e.isCollapsed) return e;
                    const { start: i19 , end: n14  } = this._breakAttributesRange(e, !0), o4 = i19.parent, r6 = this._unwrapChildren(o4, i19.offset, n14.offset, t), s5 = this.mergeAttributes(r6.start);
                    s5.isEqual(r6.start) || r6.end.offset--;
                    const a4 = this.mergeAttributes(r6.end);
                    return new lo(s5, a4);
                }
                rename(e, t) {
                    const i19 = new io(this.document, e, t.getAttributes());
                    return this.insert(co._createAfter(t), i19), this.move(lo._createIn(t), co._createAt(i19, 0)), this.remove(lo._createOn(t)), i19;
                }
                clearClonedElementsGroup(e) {
                    this._cloneGroups.delete(e);
                }
                createPositionAt(e, t) {
                    return co._createAt(e, t);
                }
                createPositionAfter(e) {
                    return co._createAfter(e);
                }
                createPositionBefore(e) {
                    return co._createBefore(e);
                }
                createRange(e, t) {
                    return new lo(e, t);
                }
                createRangeOn(e) {
                    return lo._createOn(e);
                }
                createRangeIn(e) {
                    return lo._createIn(e);
                }
                createSelection(e, t, i) {
                    return new go(e, t, i);
                }
                _insertNodes(e, t, i) {
                    let n14, o4;
                    if (n14 = i ? $o(e) : e.parent.is("$text") ? e.parent.parent : e.parent, !n14) throw new c2.a("view-writer-invalid-position-container", this.document);
                    o4 = i ? this._breakAttributes(e, !0) : e.parent.is("$text") ? Ko(e) : e;
                    const r6 = n14._insertChild(o4.offset, t);
                    for (const e39 of t)this._addToClonedElementsGroup(e39);
                    const s5 = o4.getShiftedBy(r6), a4 = this.mergeAttributes(o4);
                    a4.isEqual(o4) || s5.offset--;
                    const l4 = this.mergeAttributes(s5);
                    return new lo(a4, l4);
                }
                _wrapChildren(e, t, i, n) {
                    let o4 = t;
                    const r6 = [];
                    for(; o4 < i;){
                        const t26 = e.getChild(o4), i19 = t26.is("$text"), s5 = t26.is("attributeElement"), a4 = t26.isAllowedInsideAttributeElement;
                        if (s5 && this._wrapAttributeElement(n, t26)) r6.push(new co(e, o4));
                        else if (i19 || a4 || s5 && Yo(n, t26)) {
                            const i20 = n._clone();
                            t26._remove(), i20._appendChild(t26), e._insertChild(o4, i20), this._addToClonedElementsGroup(i20), r6.push(new co(e, o4));
                        } else s5 && this._wrapChildren(t26, 0, t26.childCount, n);
                        o4++;
                    }
                    let s5 = 0;
                    for (const e39 of r6){
                        if (e39.offset -= s5, e39.offset == t) continue;
                        this.mergeAttributes(e39).isEqual(e39) || (s5++, i--);
                    }
                    return lo._createFromParentsAndOffsets(e, t, e, i);
                }
                _unwrapChildren(e, t, i, n) {
                    let o4 = t;
                    const r6 = [];
                    for(; o4 < i;){
                        const t26 = e.getChild(o4);
                        if (t26.is("attributeElement")) {
                            if (t26.isSimilar(n)) {
                                const n14 = t26.getChildren(), s5 = t26.childCount;
                                t26._remove(), e._insertChild(o4, n14), this._removeFromClonedElementsGroup(t26), r6.push(new co(e, o4), new co(e, o4 + s5)), o4 += s5, i += s5 - 1;
                            } else this._unwrapAttributeElement(n, t26) ? (r6.push(new co(e, o4), new co(e, o4 + 1)), o4++) : (this._unwrapChildren(t26, 0, t26.childCount, n), o4++);
                        } else o4++;
                    }
                    let s5 = 0;
                    for (const e39 of r6){
                        if (e39.offset -= s5, e39.offset == t || e39.offset == i) continue;
                        this.mergeAttributes(e39).isEqual(e39) || (s5++, i--);
                    }
                    return lo._createFromParentsAndOffsets(e, t, e, i);
                }
                _wrapRange(e, t) {
                    const { start: i19 , end: n14  } = this._breakAttributesRange(e, !0), o4 = i19.parent, r6 = this._wrapChildren(o4, i19.offset, n14.offset, t), s5 = this.mergeAttributes(r6.start);
                    s5.isEqual(r6.start) || r6.end.offset--;
                    const a4 = this.mergeAttributes(r6.end);
                    return new lo(s5, a4);
                }
                _wrapPosition(e, t) {
                    if (t.isSimilar(e.parent)) return Go(e.clone());
                    e.parent.is("$text") && (e = Ko(e));
                    const i19 = this.createAttributeElement();
                    i19._priority = Number.POSITIVE_INFINITY, i19.isSimilar = ()=>!1
                    , e.parent._insertChild(e.offset, i19);
                    const n14 = new lo(e, e.getShiftedBy(1));
                    this.wrap(n14, t);
                    const o4 = new co(i19.parent, i19.index);
                    i19._remove();
                    const r6 = o4.nodeBefore, s5 = o4.nodeAfter;
                    return r6 instanceof hn && s5 instanceof hn ? Qo(r6, s5) : Go(o4);
                }
                _wrapAttributeElement(e, t) {
                    if (!er(e, t)) return !1;
                    if (e.name !== t.name || e.priority !== t.priority) return !1;
                    for (const i19 of e.getAttributeKeys())if ("class" !== i19 && "style" !== i19 && t.hasAttribute(i19) && t.getAttribute(i19) !== e.getAttribute(i19)) return !1;
                    for (const i20 of e.getStyleNames())if (t.hasStyle(i20) && t.getStyle(i20) !== e.getStyle(i20)) return !1;
                    for (const i21 of e.getAttributeKeys())"class" !== i21 && "style" !== i21 && (t.hasAttribute(i21) || this.setAttribute(i21, e.getAttribute(i21), t));
                    for (const i22 of e.getStyleNames())t.hasStyle(i22) || this.setStyle(i22, e.getStyle(i22), t);
                    for (const i23 of e.getClassNames())t.hasClass(i23) || this.addClass(i23, t);
                    return !0;
                }
                _unwrapAttributeElement(e, t) {
                    if (!er(e, t)) return !1;
                    if (e.name !== t.name || e.priority !== t.priority) return !1;
                    for (const i19 of e.getAttributeKeys())if ("class" !== i19 && "style" !== i19 && (!t.hasAttribute(i19) || t.getAttribute(i19) !== e.getAttribute(i19))) return !1;
                    if (!t.hasClass(...e.getClassNames())) return !1;
                    for (const i20 of e.getStyleNames())if (!t.hasStyle(i20) || t.getStyle(i20) !== e.getStyle(i20)) return !1;
                    for (const i21 of e.getAttributeKeys())"class" !== i21 && "style" !== i21 && this.removeAttribute(i21, t);
                    return this.removeClass(Array.from(e.getClassNames()), t), this.removeStyle(Array.from(e.getStyleNames()), t), !0;
                }
                _breakAttributesRange(e, t = !1) {
                    const i19 = e.start, n14 = e.end;
                    if (Xo(e, this.document), e.isCollapsed) {
                        const i20 = this._breakAttributes(e.start, t);
                        return new lo(i20, i20);
                    }
                    const o4 = this._breakAttributes(n14, t), r6 = o4.parent.childCount, s5 = this._breakAttributes(i19, t);
                    return o4.offset += o4.parent.childCount - r6, new lo(s5, o4);
                }
                _breakAttributes(e, t = !1) {
                    const i19 = e.offset, n14 = e.parent;
                    if (e.parent.is("emptyElement")) throw new c2.a("view-writer-cannot-break-empty-element", this.document);
                    if (e.parent.is("uiElement")) throw new c2.a("view-writer-cannot-break-ui-element", this.document);
                    if (e.parent.is("rawElement")) throw new c2.a("view-writer-cannot-break-raw-element", this.document);
                    if (!t && n14.is("$text") && Zo(n14.parent)) return e.clone();
                    if (Zo(n14)) return e.clone();
                    if (n14.is("$text")) return this._breakAttributes(Ko(e), t);
                    if (i19 == n14.childCount) {
                        const e39 = new co(n14.parent, n14.index + 1);
                        return this._breakAttributes(e39, t);
                    }
                    if (0 === i19) {
                        const e39 = new co(n14.parent, n14.index);
                        return this._breakAttributes(e39, t);
                    }
                    {
                        const e39 = n14.index + 1, o4 = n14._clone();
                        n14.parent._insertChild(e39, o4), this._addToClonedElementsGroup(o4);
                        const r6 = n14.childCount - i19, s5 = n14._removeChildren(i19, r6);
                        o4._appendChild(s5);
                        const a4 = new co(n14.parent, e39);
                        return this._breakAttributes(a4, t);
                    }
                }
                _addToClonedElementsGroup(e) {
                    if (!e.root.is("rootElement")) return;
                    if (e.is("element")) for (const t26 of e.getChildren())this._addToClonedElementsGroup(t26);
                    const t27 = e.id;
                    if (!t27) return;
                    let i19 = this._cloneGroups.get(t27);
                    i19 || (i19 = new Set, this._cloneGroups.set(t27, i19)), i19.add(e), e._clonesGroup = i19;
                }
                _removeFromClonedElementsGroup(e) {
                    if (e.is("element")) for (const t26 of e.getChildren())this._removeFromClonedElementsGroup(t26);
                    const t27 = e.id;
                    if (!t27) return;
                    const i19 = this._cloneGroups.get(t27);
                    i19 && i19.delete(e);
                }
            }
            function $o(e39) {
                let t26 = e39.parent;
                for(; !Zo(t26);){
                    if (!t26) return;
                    t26 = t26.parent;
                }
                return t26;
            }
            function Yo(e39, t26) {
                return e39.priority < t26.priority || !(e39.priority > t26.priority) && e39.getIdentity() < t26.getIdentity();
            }
            function Go(e39) {
                const t26 = e39.nodeBefore;
                if (t26 && t26.is("$text")) return new co(t26, t26.data.length);
                const i19 = e39.nodeAfter;
                return i19 && i19.is("$text") ? new co(i19, 0) : e39;
            }
            function Ko(e39) {
                if (e39.offset == e39.parent.data.length) return new co(e39.parent.parent, e39.parent.index + 1);
                if (0 === e39.offset) return new co(e39.parent.parent, e39.parent.index);
                const t26 = e39.parent.data.slice(e39.offset);
                return e39.parent._data = e39.parent.data.slice(0, e39.offset), e39.parent.parent._insertChild(e39.parent.index + 1, new hn(e39.root.document, t26)), new co(e39.parent.parent, e39.parent.index + 1);
            }
            function Qo(e39, t26) {
                const i19 = e39.data.length;
                return e39._data += t26.data, t26._remove(), new co(e39, i19);
            }
            const Jo = [
                hn,
                xo,
                io,
                To,
                Ho,
                jo
            ];
            function Zo(e39) {
                return e39 && (e39.is("containerElement") || e39.is("documentFragment"));
            }
            function Xo(e39, t26) {
                const i19 = $o(e39.start), n14 = $o(e39.end);
                if (!i19 || !n14 || i19 !== n14) throw new c2.a("view-writer-invalid-range-container", t26);
            }
            function er(e39, t26) {
                return null === e39.id && null === t26.id;
            }
            function tr(e39) {
                return "[object Text]" == Object.prototype.toString.call(e39);
            }
            const ir = (e39)=>e39.createTextNode(" ")
            , nr = (e39)=>{
                const t26 = e39.createElement("span");
                return t26.dataset.ckeFiller = !0, t26.innerHTML = " ", t26;
            }, or = (e39)=>{
                const t26 = e39.createElement("br");
                return t26.dataset.ckeFiller = !0, t26;
            }, rr = "⁠".repeat(7);
            function sr(e39) {
                return tr(e39) && e39.data.substr(0, 7) === rr;
            }
            function ar(e39) {
                return 7 == e39.data.length && sr(e39);
            }
            function cr(e39) {
                return sr(e39) ? e39.data.slice(7) : e39.data;
            }
            function lr(e39, t26) {
                if (t26.keyCode == No.arrowleft) {
                    const e40 = t26.domTarget.ownerDocument.defaultView.getSelection();
                    if (1 == e40.rangeCount && e40.getRangeAt(0).collapsed) {
                        const t27 = e40.getRangeAt(0).startContainer, i19 = e40.getRangeAt(0).startOffset;
                        sr(t27) && i19 <= 7 && e40.collapse(t27, 0);
                    }
                }
            }
            function dr(e39, t26, i19, n14 = !1) {
                i19 = i19 || function(e40, t27) {
                    return e40 === t27;
                }, Array.isArray(e39) || (e39 = Array.prototype.slice.call(e39)), Array.isArray(t26) || (t26 = Array.prototype.slice.call(t26));
                const o4 = function(e40, t27, i20) {
                    const n15 = hr(e40, t27, i20);
                    if (-1 === n15) return {
                        firstIndex: -1,
                        lastIndexOld: -1,
                        lastIndexNew: -1
                    };
                    const o5 = ur(e40, n15), r6 = ur(t27, n15), s5 = hr(o5, r6, i20), a4 = e40.length - s5, c7 = t27.length - s5;
                    return {
                        firstIndex: n15,
                        lastIndexOld: a4,
                        lastIndexNew: c7
                    };
                }(e39, t26, i19);
                return n14 ? (function(e40, t27) {
                    const { firstIndex: i20 , lastIndexOld: n15 , lastIndexNew: o5  } = e40;
                    if (-1 === i20) return Array(t27).fill("equal");
                    let r6 = [];
                    i20 > 0 && (r6 = r6.concat(Array(i20).fill("equal")));
                    o5 - i20 > 0 && (r6 = r6.concat(Array(o5 - i20).fill("insert")));
                    n15 - i20 > 0 && (r6 = r6.concat(Array(n15 - i20).fill("delete")));
                    o5 < t27 && (r6 = r6.concat(Array(t27 - o5).fill("equal")));
                    return r6;
                })(o4, t26.length) : (function(e40, t27) {
                    const i20 = [], { firstIndex: n15 , lastIndexOld: o5 , lastIndexNew: r6  } = t27;
                    r6 - n15 > 0 && i20.push({
                        index: n15,
                        type: "insert",
                        values: e40.slice(n15, r6)
                    });
                    o5 - n15 > 0 && i20.push({
                        index: n15 + (r6 - n15),
                        type: "delete",
                        howMany: o5 - n15
                    });
                    return i20;
                })(t26, o4);
            }
            function hr(e39, t26, i19) {
                for(let n14 = 0; n14 < Math.max(e39.length, t26.length); n14++)if ((void 0) === e39[n14] || (void 0) === t26[n14] || !i19(e39[n14], t26[n14])) return n14;
                return -1;
            }
            function ur(e39, t26) {
                return e39.slice(t26).reverse();
            }
            function gr(e39, t26, i19) {
                i19 = i19 || function(e40, t27) {
                    return e40 === t27;
                };
                const n14 = e39.length, o4 = t26.length;
                if (n14 > 200 || o4 > 200 || n14 + o4 > 300) return gr.fastDiff(e39, t26, i19, !0);
                let r6, s5;
                if (o4 < n14) {
                    const i20 = e39;
                    e39 = t26, t26 = i20, r6 = "delete", s5 = "insert";
                } else r6 = "insert", s5 = "delete";
                const a4 = e39.length, c7 = t26.length, l4 = c7 - a4, d5 = {
                }, h3 = {
                };
                function u4(n15) {
                    const o5 = ((void 0) !== h3[n15 - 1] ? h3[n15 - 1] : -1) + 1, l5 = (void 0) !== h3[n15 + 1] ? h3[n15 + 1] : -1, u5 = o5 > l5 ? -1 : 1;
                    d5[n15 + u5] && (d5[n15] = d5[n15 + u5].slice(0)), d5[n15] || (d5[n15] = []), d5[n15].push(o5 > l5 ? r6 : s5);
                    let g3 = Math.max(o5, l5), m2 = g3 - n15;
                    for(; m2 < a4 && g3 < c7 && i19(e39[m2], t26[g3]);)m2++, g3++, d5[n15].push("equal");
                    return g3;
                }
                let g3, m2 = 0;
                do {
                    for(g3 = -m2; g3 < l4; g3++)h3[g3] = u4(g3);
                    for(g3 = l4 + m2; g3 > l4; g3--)h3[g3] = u4(g3);
                    h3[l4] = u4(l4), m2++;
                }while (h3[l4] !== c7)
                return d5[l4].slice(1);
            }
            function mr(e39, t26, i19) {
                e39.insertBefore(i19, e39.childNodes[t26] || null);
            }
            function fr(e39) {
                const t26 = e39.parentNode;
                t26 && t26.removeChild(e39);
            }
            function pr(e39) {
                if (e39) {
                    if (e39.defaultView) return e39 instanceof e39.defaultView.Document;
                    if (e39.ownerDocument && e39.ownerDocument.defaultView) return e39 instanceof e39.ownerDocument.defaultView.Node;
                }
                return !1;
            }
            gr.fastDiff = dr;
            class br {
                constructor(e39, t26){
                    this.domDocuments = new Set, this.domConverter = e39, this.markedAttributes = new Set, this.markedChildren = new Set, this.markedTexts = new Set, this.selection = t26, this.isFocused = !1, this._inlineFiller = null, this._fakeSelectionContainer = null;
                }
                markToSync(e, t) {
                    if ("text" === e) this.domConverter.mapViewToDom(t.parent) && this.markedTexts.add(t);
                    else {
                        if (!this.domConverter.mapViewToDom(t)) return;
                        if ("attributes" === e) this.markedAttributes.add(t);
                        else {
                            if ("children" !== e) throw new c2.a("view-renderer-unknown-type", this);
                            this.markedChildren.add(t);
                        }
                    }
                }
                render() {
                    let e40;
                    for (const e41 of this.markedChildren)this._updateChildrenMappings(e41);
                    this._inlineFiller && !this._isSelectionInInlineFiller() && this._removeInlineFiller(), this._inlineFiller ? e40 = this._getInlineFillerPosition() : this._needsInlineFillerAtSelection() && (e40 = this.selection.getFirstPosition(), this.markedChildren.add(e40.parent));
                    for (const e42 of this.markedAttributes)this._updateAttrs(e42);
                    for (const t27 of this.markedChildren)this._updateChildren(t27, {
                        inlineFillerPosition: e40
                    });
                    for (const t28 of this.markedTexts)!this.markedChildren.has(t28.parent) && this.domConverter.mapViewToDom(t28.parent) && this._updateText(t28, {
                        inlineFillerPosition: e40
                    });
                    if (e40) {
                        const t29 = this.domConverter.viewPositionToDom(e40), i19 = t29.parent.ownerDocument;
                        sr(t29.parent) ? this._inlineFiller = t29.parent : this._inlineFiller = wr(i19, t29.parent, t29.offset);
                    } else this._inlineFiller = null;
                    this._updateFocus(), this._updateSelection(), this.markedTexts.clear(), this.markedAttributes.clear(), this.markedChildren.clear();
                }
                _updateChildrenMappings(e) {
                    const t27 = this.domConverter.mapViewToDom(e);
                    if (!t27) return;
                    const i19 = Array.from(this.domConverter.mapViewToDom(e).childNodes), n14 = Array.from(this.domConverter.viewChildrenToDom(e, t27.ownerDocument, {
                        withChildren: !1
                    })), o4 = this._diffNodeLists(i19, n14), r6 = this._findReplaceActions(o4, i19, n14);
                    if (-1 !== r6.indexOf("replace")) {
                        const t28 = {
                            equal: 0,
                            insert: 0,
                            delete: 0
                        };
                        for (const o5 of r6)if ("replace" === o5) {
                            const o6 = t28.equal + t28.insert, r7 = t28.equal + t28.delete, s5 = e.getChild(o6);
                            !s5 || s5.is("uiElement") || s5.is("rawElement") || this._updateElementMappings(s5, i19[r7]), fr(n14[o6]), t28.equal++;
                        } else t28[o5]++;
                    }
                }
                _updateElementMappings(e, t) {
                    this.domConverter.unbindDomElement(t), this.domConverter.bindElements(t, e), this.markedChildren.add(e), this.markedAttributes.add(e);
                }
                _getInlineFillerPosition() {
                    const e40 = this.selection.getFirstPosition();
                    return e40.parent.is("$text") ? co._createBefore(this.selection.getFirstPosition().parent) : e40;
                }
                _isSelectionInInlineFiller() {
                    if (1 != this.selection.rangeCount || !this.selection.isCollapsed) return !1;
                    const e40 = this.selection.getFirstPosition(), t27 = this.domConverter.viewPositionToDom(e40);
                    return !!(t27 && tr(t27.parent) && sr(t27.parent));
                }
                _removeInlineFiller() {
                    const e40 = this._inlineFiller;
                    if (!sr(e40)) throw new c2.a("view-renderer-filler-was-lost", this);
                    ar(e40) ? e40.parentNode.removeChild(e40) : e40.data = e40.data.substr(7), this._inlineFiller = null;
                }
                _needsInlineFillerAtSelection() {
                    if (1 != this.selection.rangeCount || !this.selection.isCollapsed) return !1;
                    const e40 = this.selection.getFirstPosition(), t27 = e40.parent, i19 = e40.offset;
                    if (!this.domConverter.mapViewToDom(t27.root)) return !1;
                    if (!t27.is("element")) return !1;
                    if (!function(e41) {
                        if ("false" == e41.getAttribute("contenteditable")) return !1;
                        const t28 = e41.findAncestor((e42)=>e42.hasAttribute("contenteditable")
                        );
                        return !t28 || "true" == t28.getAttribute("contenteditable");
                    }(t27)) return !1;
                    if (i19 === t27.getFillerOffset()) return !1;
                    const n14 = e40.nodeBefore, o4 = e40.nodeAfter;
                    return !(n14 instanceof hn || o4 instanceof hn);
                }
                _updateText(e, t) {
                    const i19 = this.domConverter.findCorrespondingDomText(e), n14 = this.domConverter.viewToDom(e, i19.ownerDocument), o4 = i19.data;
                    let r6 = n14.data;
                    const s5 = t.inlineFillerPosition;
                    if (s5 && s5.parent == e.parent && s5.offset == e.index && (r6 = rr + r6), o4 != r6) {
                        const e40 = dr(o4, r6);
                        for (const t27 of e40)"insert" === t27.type ? i19.insertData(t27.index, t27.values.join("")) : i19.deleteData(t27.index, t27.howMany);
                    }
                }
                _updateAttrs(e) {
                    const t27 = this.domConverter.mapViewToDom(e);
                    if (!t27) return;
                    const i19 = Array.from(t27.attributes).map((e40)=>e40.name
                    ), n14 = e.getAttributeKeys();
                    for (const i20 of n14)t27.setAttribute(i20, e.getAttribute(i20));
                    for (const n15 of i19)e.hasAttribute(n15) || t27.removeAttribute(n15);
                }
                _updateChildren(e, t) {
                    const i19 = this.domConverter.mapViewToDom(e);
                    if (!i19) return;
                    const n14 = t.inlineFillerPosition, o4 = this.domConverter.mapViewToDom(e).childNodes, r6 = Array.from(this.domConverter.viewChildrenToDom(e, i19.ownerDocument, {
                        bind: !0,
                        inlineFillerPosition: n14
                    }));
                    n14 && n14.parent === e && wr(i19.ownerDocument, r6, n14.offset);
                    const s5 = this._diffNodeLists(o4, r6);
                    let a4 = 0;
                    const c7 = new Set;
                    for (const e40 of s5)"delete" === e40 ? (c7.add(o4[a4]), fr(o4[a4])) : "equal" === e40 && a4++;
                    a4 = 0;
                    for (const e41 of s5)"insert" === e41 ? (mr(i19, a4, r6[a4]), a4++) : "equal" === e41 && (this._markDescendantTextToSync(this.domConverter.domToView(r6[a4])), a4++);
                    for (const e42 of c7)e42.parentNode || this.domConverter.unbindDomElement(e42);
                }
                _diffNodeLists(e, t) {
                    return gr(e = function(e40, t27) {
                        const i19 = Array.from(e40);
                        if (0 == i19.length || !t27) return i19;
                        i19[i19.length - 1] == t27 && i19.pop();
                        return i19;
                    }(e, this._fakeSelectionContainer), t, _r.bind(null, this.domConverter));
                }
                _findReplaceActions(e, t, i) {
                    if (-1 === e.indexOf("insert") || -1 === e.indexOf("delete")) return e;
                    let n14 = [], o4 = [], r6 = [];
                    const s5 = {
                        equal: 0,
                        insert: 0,
                        delete: 0
                    };
                    for (const a4 of e)"insert" === a4 ? r6.push(i[s5.equal + s5.insert]) : "delete" === a4 ? o4.push(t[s5.equal + s5.delete]) : (n14 = n14.concat(gr(o4, r6, kr).map((e40)=>"equal" === e40 ? "replace" : e40
                    )), n14.push("equal"), o4 = [], r6 = []), s5[a4]++;
                    return n14.concat(gr(o4, r6, kr).map((e40)=>"equal" === e40 ? "replace" : e40
                    ));
                }
                _markDescendantTextToSync(e) {
                    if (e) {
                        if (e.is("$text")) this.markedTexts.add(e);
                        else if (e.is("element")) for (const t27 of e.getChildren())this._markDescendantTextToSync(t27);
                    }
                }
                _updateSelection() {
                    if (0 === this.selection.rangeCount) return this._removeDomSelection(), void this._removeFakeSelection();
                    const e40 = this.domConverter.mapViewToDom(this.selection.editableElement);
                    this.isFocused && e40 && (this.selection.isFake ? this._updateFakeSelection(e40) : (this._removeFakeSelection(), this._updateDomSelection(e40)));
                }
                _updateFakeSelection(e) {
                    const t27 = e.ownerDocument;
                    this._fakeSelectionContainer || (this._fakeSelectionContainer = (function(e40) {
                        const t28 = e40.createElement("div");
                        return t28.className = "ck-fake-selection-container", Object.assign(t28.style, {
                            position: "fixed",
                            top: 0,
                            left: "-9999px",
                            width: "42px"
                        }), t28.textContent = " ", t28;
                    })(t27));
                    const i19 = this._fakeSelectionContainer;
                    if (this.domConverter.bindFakeSelection(i19, this.selection), !this._fakeSelectionNeedsUpdate(e)) return;
                    i19.parentElement && i19.parentElement == e || e.appendChild(i19), i19.textContent = this.selection.fakeSelectionLabel || " ";
                    const n14 = t27.getSelection(), o4 = t27.createRange();
                    n14.removeAllRanges(), o4.selectNodeContents(i19), n14.addRange(o4);
                }
                _updateDomSelection(e) {
                    const t27 = e.ownerDocument.defaultView.getSelection();
                    if (!this._domSelectionNeedsUpdate(t27)) return;
                    const i19 = this.domConverter.viewPositionToDom(this.selection.anchor), n14 = this.domConverter.viewPositionToDom(this.selection.focus);
                    t27.collapse(i19.parent, i19.offset), t27.extend(n14.parent, n14.offset), So.isGecko && (function(e40, t28) {
                        const i20 = e40.parent;
                        if (i20.nodeType != Node.ELEMENT_NODE || e40.offset != i20.childNodes.length - 1) return;
                        const n15 = i20.childNodes[e40.offset];
                        n15 && "BR" == n15.tagName && t28.addRange(t28.getRangeAt(0));
                    })(n14, t27);
                }
                _domSelectionNeedsUpdate(e) {
                    if (!this.domConverter.isDomSelectionCorrect(e)) return !0;
                    const t27 = e && this.domConverter.domSelectionToView(e);
                    return (!t27 || !this.selection.isEqual(t27)) && !(!this.selection.isCollapsed && this.selection.isSimilar(t27));
                }
                _fakeSelectionNeedsUpdate(e) {
                    const t27 = this._fakeSelectionContainer, i19 = e.ownerDocument.getSelection();
                    return !t27 || t27.parentElement !== e || i19.anchorNode !== t27 && !t27.contains(i19.anchorNode) || t27.textContent !== this.selection.fakeSelectionLabel;
                }
                _removeDomSelection() {
                    for (const e40 of this.domDocuments)if (e40.getSelection().rangeCount) {
                        const t27 = e40.activeElement, i19 = this.domConverter.mapDomToView(t27);
                        t27 && i19 && e40.getSelection().removeAllRanges();
                    }
                }
                _removeFakeSelection() {
                    const e40 = this._fakeSelectionContainer;
                    e40 && e40.remove();
                }
                _updateFocus() {
                    if (this.isFocused) {
                        const e40 = this.selection.editableElement;
                        e40 && this.domConverter.focus(e40);
                    }
                }
            }
            function wr(e40, t27, i19) {
                const n14 = t27 instanceof Array ? t27 : t27.childNodes, o4 = n14[i19];
                if (tr(o4)) return o4.data = rr + o4.data, o4;
                {
                    const o5 = e40.createTextNode(rr);
                    return Array.isArray(t27) ? n14.splice(i19, 0, o5) : mr(t27, i19, o5), o5;
                }
            }
            function kr(e40, t27) {
                return pr(e40) && pr(t27) && !tr(e40) && !tr(t27) && e40.nodeType !== Node.COMMENT_NODE && t27.nodeType !== Node.COMMENT_NODE && e40.tagName.toLowerCase() === t27.tagName.toLowerCase();
            }
            function _r(e40, t27, i19) {
                return t27 === i19 || (tr(t27) && tr(i19) ? t27.data === i19.data : !(!e40.isBlockFiller(t27) || !e40.isBlockFiller(i19)));
            }
            Ke(br, Ue);
            var vr = {
                window: window,
                document: document
            };
            function yr(e40) {
                let t27 = 0;
                for(; e40.previousSibling;)e40 = e40.previousSibling, t27++;
                return t27;
            }
            function xr(e40) {
                const t27 = [];
                for(; e40 && e40.nodeType != Node.DOCUMENT_NODE;)t27.unshift(e40), e40 = e40.parentNode;
                return t27;
            }
            const Ar = or(document), Cr = ir(document), Tr = nr(document);
            class Er {
                constructor(e40, t27 = {
                }){
                    this.document = e40, this.blockFillerMode = t27.blockFillerMode || "br", this.preElements = [
                        "pre"
                    ], this.blockElements = [
                        "address",
                        "article",
                        "aside",
                        "blockquote",
                        "caption",
                        "center",
                        "dd",
                        "details",
                        "dir",
                        "div",
                        "dl",
                        "dt",
                        "fieldset",
                        "figcaption",
                        "figure",
                        "footer",
                        "form",
                        "h1",
                        "h2",
                        "h3",
                        "h4",
                        "h5",
                        "h6",
                        "header",
                        "hgroup",
                        "legend",
                        "li",
                        "main",
                        "menu",
                        "nav",
                        "ol",
                        "p",
                        "pre",
                        "section",
                        "summary",
                        "table",
                        "tbody",
                        "td",
                        "tfoot",
                        "th",
                        "thead",
                        "tr",
                        "ul"
                    ], this.inlineObjectElements = [
                        "object",
                        "iframe",
                        "input",
                        "button",
                        "textarea",
                        "select",
                        "option",
                        "video",
                        "embed",
                        "audio",
                        "img",
                        "canvas"
                    ], this._domToViewMapping = new WeakMap, this._viewToDomMapping = new WeakMap, this._fakeSelectionMapping = new WeakMap, this._rawContentElementMatcher = new mn, this._encounteredRawContentDomNodes = new WeakSet;
                }
                bindFakeSelection(e, t) {
                    this._fakeSelectionMapping.set(e, new go(t));
                }
                fakeSelectionToView(e) {
                    return this._fakeSelectionMapping.get(e);
                }
                bindElements(e, t) {
                    this._domToViewMapping.set(e, t), this._viewToDomMapping.set(t, e);
                }
                unbindDomElement(e) {
                    const t28 = this._domToViewMapping.get(e);
                    if (t28) {
                        this._domToViewMapping.delete(e), this._viewToDomMapping.delete(t28);
                        for (const t29 of e.childNodes)this.unbindDomElement(t29);
                    }
                }
                bindDocumentFragments(e, t) {
                    this._domToViewMapping.set(e, t), this._viewToDomMapping.set(t, e);
                }
                viewToDom(e, t, i = {
                }) {
                    if (e.is("$text")) {
                        const i19 = this._processDataFromViewText(e);
                        return t.createTextNode(i19);
                    }
                    {
                        if (this.mapViewToDom(e)) return this.mapViewToDom(e);
                        let n14;
                        if (e.is("documentFragment")) n14 = t.createDocumentFragment(), i.bind && this.bindDocumentFragments(n14, e);
                        else {
                            if (e.is("uiElement")) return n14 = "$comment" === e.name ? t.createComment(e.getCustomProperty("$rawContent")) : e.render(t), i.bind && this.bindElements(n14, e), n14;
                            n14 = e.hasAttribute("xmlns") ? t.createElementNS(e.getAttribute("xmlns"), e.name) : t.createElement(e.name), e.is("rawElement") && e.render(n14), i.bind && this.bindElements(n14, e);
                            for (const t28 of e.getAttributeKeys())n14.setAttribute(t28, e.getAttribute(t28));
                        }
                        if (!1 !== i.withChildren) for (const o4 of this.viewChildrenToDom(e, t, i))n14.appendChild(o4);
                        return n14;
                    }
                }
                *viewChildrenToDom(e, t, i = {
                }) {
                    const n14 = e.getFillerOffset && e.getFillerOffset();
                    let o4 = 0;
                    for (const r6 of e.getChildren())n14 === o4 && (yield this._getBlockFiller(t)), yield this.viewToDom(r6, t, i), o4++;
                    n14 === o4 && (yield this._getBlockFiller(t));
                }
                viewRangeToDom(e) {
                    const t28 = this.viewPositionToDom(e.start), i19 = this.viewPositionToDom(e.end), n14 = document.createRange();
                    return n14.setStart(t28.parent, t28.offset), n14.setEnd(i19.parent, i19.offset), n14;
                }
                viewPositionToDom(e) {
                    const t28 = e.parent;
                    if (t28.is("$text")) {
                        const i19 = this.findCorrespondingDomText(t28);
                        if (!i19) return null;
                        let n14 = e.offset;
                        return sr(i19) && (n14 += 7), {
                            parent: i19,
                            offset: n14
                        };
                    }
                    {
                        let i19, n14, o4;
                        if (0 === e.offset) {
                            if (i19 = this.mapViewToDom(t28), !i19) return null;
                            o4 = i19.childNodes[0];
                        } else {
                            const t29 = e.nodeBefore;
                            if (n14 = t29.is("$text") ? this.findCorrespondingDomText(t29) : this.mapViewToDom(e.nodeBefore), !n14) return null;
                            i19 = n14.parentNode, o4 = n14.nextSibling;
                        }
                        if (tr(o4) && sr(o4)) return {
                            parent: o4,
                            offset: 7
                        };
                        return {
                            parent: i19,
                            offset: n14 ? yr(n14) + 1 : 0
                        };
                    }
                }
                domToView(e, t = {
                }) {
                    if (this.isBlockFiller(e)) return null;
                    const i19 = this.getHostViewElement(e);
                    if (i19) return i19;
                    if (this.isComment(e) && t.skipComments) return null;
                    if (tr(e)) {
                        if (ar(e)) return null;
                        {
                            const t28 = this._processDataFromDomText(e);
                            return "" === t28 ? null : new hn(this.document, t28);
                        }
                    }
                    {
                        if (this.mapDomToView(e)) return this.mapDomToView(e);
                        let i20;
                        if (this.isDocumentFragment(e)) i20 = new Wo(this.document), t.bind && this.bindDocumentFragments(e, i20);
                        else {
                            i20 = this._createViewElement(e, t), t.bind && this.bindElements(e, i20);
                            const n14 = e.attributes;
                            if (n14) for(let e41 = n14.length - 1; e41 >= 0; e41--)i20._setAttribute(n14[e41].name, n14[e41].value);
                            if (this._isViewElementWithRawContent(i20, t) || this.isComment(e)) {
                                const t28 = this.isComment(e) ? e.data : e.innerHTML;
                                return i20._setCustomProperty("$rawContent", t28), this._encounteredRawContentDomNodes.add(e), i20;
                            }
                        }
                        if (!1 !== t.withChildren) for (const n14 of this.domChildrenToView(e, t))i20._appendChild(n14);
                        return i20;
                    }
                }
                *domChildrenToView(e, t = {
                }) {
                    for(let i19 = 0; i19 < e.childNodes.length; i19++){
                        const n14 = e.childNodes[i19], o4 = this.domToView(n14, t);
                        null !== o4 && (yield o4);
                    }
                }
                domSelectionToView(e) {
                    if (1 === e.rangeCount) {
                        let t28 = e.getRangeAt(0).startContainer;
                        tr(t28) && (t28 = t28.parentNode);
                        const i19 = this.fakeSelectionToView(t28);
                        if (i19) return i19;
                    }
                    const t28 = this.isDomSelectionBackward(e), i19 = [];
                    for(let t29 = 0; t29 < e.rangeCount; t29++){
                        const n14 = e.getRangeAt(t29), o4 = this.domRangeToView(n14);
                        o4 && i19.push(o4);
                    }
                    return new go(i19, {
                        backward: t28
                    });
                }
                domRangeToView(e) {
                    const t28 = this.domPositionToView(e.startContainer, e.startOffset), i19 = this.domPositionToView(e.endContainer, e.endOffset);
                    return t28 && i19 ? new lo(t28, i19) : null;
                }
                domPositionToView(e, t) {
                    if (this.isBlockFiller(e)) return this.domPositionToView(e.parentNode, yr(e));
                    const i19 = this.mapDomToView(e);
                    if (i19 && (i19.is("uiElement") || i19.is("rawElement"))) return co._createBefore(i19);
                    if (tr(e)) {
                        if (ar(e)) return this.domPositionToView(e.parentNode, yr(e));
                        const i20 = this.findCorrespondingViewText(e);
                        let n14 = t;
                        return i20 ? (sr(e) && (n14 -= 7, n14 = n14 < 0 ? 0 : n14), new co(i20, n14)) : null;
                    }
                    if (0 === t) {
                        const t28 = this.mapDomToView(e);
                        if (t28) return new co(t28, 0);
                    } else {
                        const i20 = e.childNodes[t - 1], n14 = tr(i20) ? this.findCorrespondingViewText(i20) : this.mapDomToView(i20);
                        if (n14 && n14.parent) return new co(n14.parent, n14.index + 1);
                    }
                    return null;
                }
                mapDomToView(e) {
                    return this.getHostViewElement(e) || this._domToViewMapping.get(e);
                }
                findCorrespondingViewText(e) {
                    if (ar(e)) return null;
                    const t28 = this.getHostViewElement(e);
                    if (t28) return t28;
                    const i19 = e.previousSibling;
                    if (i19) {
                        if (!this.isElement(i19)) return null;
                        const e41 = this.mapDomToView(i19);
                        if (e41) return e41.nextSibling instanceof hn ? e41.nextSibling : null;
                    } else {
                        const t29 = this.mapDomToView(e.parentNode);
                        if (t29) {
                            const e41 = t29.getChild(0);
                            return e41 instanceof hn ? e41 : null;
                        }
                    }
                    return null;
                }
                mapViewToDom(e) {
                    return this._viewToDomMapping.get(e);
                }
                findCorrespondingDomText(e) {
                    const t28 = e.previousSibling;
                    return t28 && this.mapViewToDom(t28) ? this.mapViewToDom(t28).nextSibling : !t28 && e.parent && this.mapViewToDom(e.parent) ? this.mapViewToDom(e.parent).childNodes[0] : null;
                }
                focus(e) {
                    const t28 = this.mapViewToDom(e);
                    if (t28 && t28.ownerDocument.activeElement !== t28) {
                        const { scrollX: e41 , scrollY: i19  } = vr.window, n14 = [];
                        Ir(t28, (e42)=>{
                            const { scrollLeft: t29 , scrollTop: i20  } = e42;
                            n14.push([
                                t29,
                                i20
                            ]);
                        }), t28.focus(), Ir(t28, (e42)=>{
                            const [t29, i20] = n14.shift();
                            e42.scrollLeft = t29, e42.scrollTop = i20;
                        }), vr.window.scrollTo(e41, i19);
                    }
                }
                isElement(e) {
                    return e && e.nodeType == Node.ELEMENT_NODE;
                }
                isDocumentFragment(e) {
                    return e && e.nodeType == Node.DOCUMENT_FRAGMENT_NODE;
                }
                isComment(e) {
                    return e && e.nodeType == Node.COMMENT_NODE;
                }
                isBlockFiller(e) {
                    return "br" == this.blockFillerMode ? e.isEqualNode(Ar) : !("BR" !== e.tagName || !Sr(e, this.blockElements) || 1 !== e.parentNode.childNodes.length) || e.isEqualNode(Tr) || (function(e41, t28) {
                        return e41.isEqualNode(Cr) && Sr(e41, t28) && 1 === e41.parentNode.childNodes.length;
                    })(e, this.blockElements);
                }
                isDomSelectionBackward(e) {
                    if (e.isCollapsed) return !1;
                    const t28 = document.createRange();
                    t28.setStart(e.anchorNode, e.anchorOffset), t28.setEnd(e.focusNode, e.focusOffset);
                    const i19 = t28.collapsed;
                    return t28.detach(), i19;
                }
                getHostViewElement(e) {
                    const t28 = xr(e);
                    for(t28.pop(); t28.length;){
                        const e41 = t28.pop(), i19 = this._domToViewMapping.get(e41);
                        if (i19 && (i19.is("uiElement") || i19.is("rawElement"))) return i19;
                    }
                    return null;
                }
                isDomSelectionCorrect(e) {
                    return this._isDomSelectionPositionCorrect(e.anchorNode, e.anchorOffset) && this._isDomSelectionPositionCorrect(e.focusNode, e.focusOffset);
                }
                registerRawContentMatcher(e) {
                    this._rawContentElementMatcher.add(e);
                }
                _getBlockFiller(e) {
                    switch(this.blockFillerMode){
                        case "nbsp":
                            return ir(e);
                        case "markedNbsp":
                            return nr(e);
                        case "br":
                            return or(e);
                    }
                }
                _isDomSelectionPositionCorrect(e, t) {
                    if (tr(e) && sr(e) && t < 7) return !1;
                    if (this.isElement(e) && sr(e.childNodes[t])) return !1;
                    const i19 = this.mapDomToView(e);
                    return !i19 || !i19.is("uiElement") && !i19.is("rawElement");
                }
                _processDataFromViewText(e) {
                    let t28 = e.data;
                    if (e.getAncestors().some((e41)=>this.preElements.includes(e41.name)
                    )) return t28;
                    if (" " == t28.charAt(0)) {
                        const i19 = this._getTouchingInlineViewNode(e, !1);
                        !(i19 && i19.is("$textProxy") && this._nodeEndsWithSpace(i19)) && i19 || (t28 = " " + t28.substr(1));
                    }
                    if (" " == t28.charAt(t28.length - 1)) {
                        const i19 = this._getTouchingInlineViewNode(e, !0), n14 = i19 && i19.is("$textProxy") && " " == i19.data.charAt(0);
                        " " != t28.charAt(t28.length - 2) && i19 && !n14 || (t28 = t28.substr(0, t28.length - 1) + " ");
                    }
                    return t28.replace(/ {2}/g, "  ");
                }
                _nodeEndsWithSpace(e) {
                    if (e.getAncestors().some((e41)=>this.preElements.includes(e41.name)
                    )) return !1;
                    const t28 = this._processDataFromViewText(e);
                    return " " == t28.charAt(t28.length - 1);
                }
                _processDataFromDomText(e) {
                    let t28 = e.data;
                    if ((function(e41, t29) {
                        return xr(e41).some((e42)=>e42.tagName && t29.includes(e42.tagName.toLowerCase())
                        );
                    })(e, this.preElements)) return cr(e);
                    t28 = t28.replace(/[ \n\t\r]{1,}/g, " ");
                    const i19 = this._getTouchingInlineDomNode(e, !1), n14 = this._getTouchingInlineDomNode(e, !0), o4 = this._checkShouldLeftTrimDomText(e, i19), r6 = this._checkShouldRightTrimDomText(e, n14);
                    o4 && (t28 = t28.replace(/^ /, "")), r6 && (t28 = t28.replace(/ $/, "")), t28 = cr(new Text(t28)), t28 = t28.replace(/ \u00A0/g, "  ");
                    const s5 = n14 && this.isElement(n14) && "BR" != n14.tagName, a4 = n14 && tr(n14) && " " == n14.data.charAt(0);
                    return (/( |\u00A0)\u00A0$/.test(t28) || !n14 || s5 || a4) && (t28 = t28.replace(/\u00A0$/, " ")), (o4 || i19 && this.isElement(i19) && "BR" != i19.tagName) && (t28 = t28.replace(/^\u00A0/, " ")), t28;
                }
                _checkShouldLeftTrimDomText(e, t) {
                    return !t || (this.isElement(t) ? "BR" === t.tagName : !this._encounteredRawContentDomNodes.has(e.previousSibling) && /[^\S\u00A0]/.test(t.data.charAt(t.data.length - 1)));
                }
                _checkShouldRightTrimDomText(e, t) {
                    return !t && !sr(e);
                }
                _getTouchingInlineViewNode(e, t) {
                    const i19 = new ao({
                        startPosition: t ? co._createAfter(e) : co._createBefore(e),
                        direction: t ? "forward" : "backward"
                    });
                    for (const e41 of i19){
                        if (e41.item.is("element") && this.inlineObjectElements.includes(e41.item.name)) return e41.item;
                        if (e41.item.is("containerElement")) return null;
                        if (e41.item.is("element", "br")) return null;
                        if (e41.item.is("$textProxy")) return e41.item;
                    }
                    return null;
                }
                _getTouchingInlineDomNode(e, t) {
                    if (!e.parentNode) return null;
                    const i19 = t ? "firstChild" : "lastChild", n14 = t ? "nextSibling" : "previousSibling";
                    let o4 = !0;
                    do {
                        if (!o4 && e[i19] ? e = e[i19] : e[n14] ? (e = e[n14], o4 = !1) : (e = e.parentNode, o4 = !0), !e || this._isBlockElement(e)) return null;
                    }while (!tr(e) && "BR" != e.tagName && !this._isInlineObjectElement(e))
                    return e;
                }
                _isBlockElement(e) {
                    return this.isElement(e) && this.blockElements.includes(e.tagName.toLowerCase());
                }
                _isInlineObjectElement(e) {
                    return this.isElement(e) && this.inlineObjectElements.includes(e.tagName.toLowerCase());
                }
                _createViewElement(e, t) {
                    if (this.isComment(e)) return new jo(this.document, "$comment");
                    const i19 = t.keepOriginalCase ? e.tagName : e.tagName.toLowerCase();
                    return new eo(this.document, i19);
                }
                _isViewElementWithRawContent(e, t) {
                    return !1 !== t.withChildren && this._rawContentElementMatcher.match(e);
                }
            }
            function Ir(e41, t28) {
                for(; e41 && e41 != vr.document;)t28(e41), e41 = e41.parentNode;
            }
            function Sr(e41, t28) {
                const i19 = e41.parentNode;
                return i19 && i19.tagName && t28.includes(i19.tagName.toLowerCase());
            }
            function Pr(e41) {
                const t28 = Object.prototype.toString.apply(e41);
                return "[object Window]" == t28 || "[object global]" == t28;
            }
            var Mr = De({
            }, h1, {
                listenTo (e, ...t) {
                    if (pr(e) || Pr(e)) {
                        const i19 = this._getProxyEmitter(e) || new Nr(e);
                        i19.attach(...t), e = i19;
                    }
                    h1.listenTo.call(this, e, ...t);
                },
                stopListening (e, t, i) {
                    if (pr(e) || Pr(e)) {
                        const t28 = this._getProxyEmitter(e);
                        if (!t28) return;
                        e = t28;
                    }
                    h1.stopListening.call(this, e, t, i), e instanceof Nr && e.detach(t);
                },
                _getProxyEmitter (e) {
                    var t28, i19;
                    return t28 = this, i19 = Rr(e), t28[l2] && t28[l2][i19] ? t28[l2][i19].emitter : null;
                }
            });
            class Nr {
                constructor(e41){
                    u2(this, Rr(e41)), this._domNode = e41;
                }
            }
            function Rr(e42) {
                return e42["data-ck-expando"] || (e42["data-ck-expando"] = s3());
            }
            De(Nr.prototype, h1, {
                attach (e, t, i = {
                }) {
                    if (this._domListeners && this._domListeners[e]) return;
                    const n14 = {
                        capture: !!i.useCapture,
                        passive: !!i.usePassive
                    }, o4 = this._createDomListener(e, n14);
                    this._domNode.addEventListener(e, o4, n14), this._domListeners || (this._domListeners = {
                    }), this._domListeners[e] = o4;
                },
                detach (e) {
                    let t29;
                    !this._domListeners[e] || (t29 = this._events[e]) && t29.callbacks.length || this._domListeners[e].removeListener();
                },
                _createDomListener (e, t) {
                    const i20 = (t29)=>{
                        this.fire(e, t29);
                    };
                    return i20.removeListener = ()=>{
                        this._domNode.removeEventListener(e, i20, t), delete this._domListeners[e];
                    }, i20;
                }
            });
            class Or {
                constructor(e42){
                    this.view = e42, this.document = e42.document, this.isEnabled = !1;
                }
                enable() {
                    this.isEnabled = !0;
                }
                disable() {
                    this.isEnabled = !1;
                }
                destroy() {
                    this.disable(), this.stopListening();
                }
                checkShouldIgnoreEventFromTarget(e) {
                    return e && 3 === e.nodeType && (e = e.parentNode), !(!e || 1 !== e.nodeType) && e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *");
                }
            }
            Ke(Or, Mr);
            var zr = function(e43) {
                return this.__data__.set(e43, "__lodash_hash_undefined__"), this;
            };
            var Dr = function(e43) {
                return this.__data__.has(e43);
            };
            function Lr(e43) {
                var t29 = -1, i20 = null == e43 ? 0 : e43.length;
                for(this.__data__ = new Ft; (++t29) < i20;)this.add(e43[t29]);
            }
            Lr.prototype.add = Lr.prototype.push = zr, Lr.prototype.has = Dr;
            var Vr = Lr;
            var jr = function(e43, t29) {
                for(var i20 = -1, n14 = null == e43 ? 0 : e43.length; (++i20) < n14;)if (t29(e43[i20], i20, e43)) return !0;
                return !1;
            };
            var Br = function(e43, t29) {
                return e43.has(t29);
            };
            var Fr = function(e43, t29, i20, n14, o4, r6) {
                var s5 = 1 & i20, a4 = e43.length, c7 = t29.length;
                if (a4 != c7 && !(s5 && c7 > a4)) return !1;
                var l4 = r6.get(e43), d5 = r6.get(t29);
                if (l4 && d5) return l4 == t29 && d5 == e43;
                var h3 = -1, u4 = !0, g3 = 2 & i20 ? new Vr : void 0;
                for(r6.set(e43, t29), r6.set(t29, e43); (++h3) < a4;){
                    var m2 = e43[h3], f1 = t29[h3];
                    if (n14) var p1 = s5 ? n14(f1, m2, h3, t29, e43, r6) : n14(m2, f1, h3, e43, t29, r6);
                    if ((void 0) !== p1) {
                        if (p1) continue;
                        u4 = !1;
                        break;
                    }
                    if (g3) {
                        if (!jr(t29, function(e44, t30) {
                            if (!Br(g3, t30) && (m2 === e44 || o4(m2, e44, i20, n14, r6))) return g3.push(t30);
                        })) {
                            u4 = !1;
                            break;
                        }
                    } else if (m2 !== f1 && !o4(m2, f1, i20, n14, r6)) {
                        u4 = !1;
                        break;
                    }
                }
                return r6.delete(e43), r6.delete(t29), u4;
            };
            var Hr = function(e43) {
                var t29 = -1, i20 = Array(e43.size);
                return e43.forEach(function(e44, n14) {
                    i20[++t29] = [
                        n14,
                        e44
                    ];
                }), i20;
            };
            var Ur = function(e43) {
                var t29 = -1, i20 = Array(e43.size);
                return e43.forEach(function(e44) {
                    i20[++t29] = e44;
                }), i20;
            }, Wr = _ ? _.prototype : void 0, qr = Wr ? Wr.valueOf : void 0;
            var $r = function(e43, t29, i20, n14, o4, r6, s5) {
                switch(i20){
                    case "[object DataView]":
                        if (e43.byteLength != t29.byteLength || e43.byteOffset != t29.byteOffset) return !1;
                        e43 = e43.buffer, t29 = t29.buffer;
                    case "[object ArrayBuffer]":
                        return !(e43.byteLength != t29.byteLength || !r6(new Ci(e43), new Ci(t29)));
                    case "[object Boolean]":
                    case "[object Date]":
                    case "[object Number]":
                        return G(+e43, +t29);
                    case "[object Error]":
                        return e43.name == t29.name && e43.message == t29.message;
                    case "[object RegExp]":
                    case "[object String]":
                        return e43 == t29 + "";
                    case "[object Map]":
                        var a4 = Hr;
                    case "[object Set]":
                        var c7 = 1 & n14;
                        if (a4 || (a4 = Ur), e43.size != t29.size && !c7) return !1;
                        var l4 = s5.get(e43);
                        if (l4) return l4 == t29;
                        n14 |= 2, s5.set(e43, t29);
                        var d5 = Fr(a4(e43), a4(t29), n14, o4, r6, s5);
                        return s5.delete(e43), d5;
                    case "[object Symbol]":
                        if (qr) return qr.call(e43) == qr.call(t29);
                }
                return !1;
            }, Yr = Object.prototype.hasOwnProperty;
            var Gr = function(e43, t29, i20, n14, o4, r6) {
                var s5 = 1 & i20, a4 = di(e43), c7 = a4.length;
                if (c7 != di(t29).length && !s5) return !1;
                for(var l4 = c7; l4--;){
                    var d5 = a4[l4];
                    if (!(s5 ? d5 in t29 : Yr.call(t29, d5))) return !1;
                }
                var h3 = r6.get(e43), u4 = r6.get(t29);
                if (h3 && u4) return h3 == t29 && u4 == e43;
                var g3 = !0;
                r6.set(e43, t29), r6.set(t29, e43);
                for(var m3 = s5; (++l4) < c7;){
                    var f2 = e43[d5 = a4[l4]], p2 = t29[d5];
                    if (n14) var b1 = s5 ? n14(p2, f2, d5, t29, e43, r6) : n14(f2, p2, d5, e43, t29, r6);
                    if (!((void 0) === b1 ? f2 === p2 || o4(f2, p2, i20, n14, r6) : b1)) {
                        g3 = !1;
                        break;
                    }
                    m3 || (m3 = "constructor" == d5);
                }
                if (g3 && !m3) {
                    var w1 = e43.constructor, k1 = t29.constructor;
                    w1 == k1 || !("constructor" in e43) || !("constructor" in t29) || "function" == typeof w1 && w1 instanceof w1 && "function" == typeof k1 && k1 instanceof k1 || (g3 = !1);
                }
                return r6.delete(e43), r6.delete(t29), g3;
            }, Kr = Object.prototype.hasOwnProperty;
            var Qr = function(e43, t29, i20, n14, o4, r6) {
                var s5 = _e(e43), a4 = _e(t29), c7 = s5 ? "[object Array]" : yi(e43), l4 = a4 ? "[object Array]" : yi(t29), d6 = "[object Object]" == (c7 = "[object Arguments]" == c7 ? "[object Object]" : c7), h3 = "[object Object]" == (l4 = "[object Arguments]" == l4 ? "[object Object]" : l4), u4 = c7 == l4;
                if (u4 && Object(ve.a)(e43)) {
                    if (!Object(ve.a)(t29)) return !1;
                    s5 = !0, d6 = !1;
                }
                if (u4 && !d6) return r6 || (r6 = new Wt), s5 || Ee(e43) ? Fr(e43, t29, i20, n14, o4, r6) : $r(e43, t29, c7, i20, n14, o4, r6);
                if (!(1 & i20)) {
                    var g3 = d6 && Kr.call(e43, "__wrapped__"), m3 = h3 && Kr.call(t29, "__wrapped__");
                    if (g3 || m3) {
                        var f3 = g3 ? e43.value() : e43, p3 = m3 ? t29.value() : t29;
                        return r6 || (r6 = new Wt), o4(f3, p3, i20, n14, r6);
                    }
                }
                return !!u4 && (r6 || (r6 = new Wt), Gr(e43, t29, i20, n14, o4, r6));
            };
            var Jr = function e43(t29, i20, n14, o4, r6) {
                return t29 === i20 || (null == t29 || null == i20 || !me(t29) && !me(i20) ? t29 != t29 && i20 != i20 : Qr(t29, i20, n14, o4, e43, r6));
            };
            var Zr = function(e44, t29, i20) {
                var n14 = (i20 = "function" == typeof i20 ? i20 : void 0) ? i20(e44, t29) : void 0;
                return (void 0) === n14 ? Jr(e44, t29, void 0, i20) : !!n14;
            };
            class Xr extends Or {
                constructor(e44){
                    super(e44), this._config = {
                        childList: !0,
                        characterData: !0,
                        characterDataOldValue: !0,
                        subtree: !0
                    }, this.domConverter = e44.domConverter, this.renderer = e44._renderer, this._domElements = [], this._mutationObserver = new window.MutationObserver(this._onMutations.bind(this));
                }
                flush() {
                    this._onMutations(this._mutationObserver.takeRecords());
                }
                observe(e) {
                    this._domElements.push(e), this.isEnabled && this._mutationObserver.observe(e, this._config);
                }
                enable() {
                    super.enable();
                    for (const e45 of this._domElements)this._mutationObserver.observe(e45, this._config);
                }
                disable() {
                    super.disable(), this._mutationObserver.disconnect();
                }
                destroy() {
                    super.destroy(), this._mutationObserver.disconnect();
                }
                _onMutations(e) {
                    if (0 === e.length) return;
                    const t29 = this.domConverter, i20 = new Map, n14 = new Set;
                    for (const i21 of e)if ("childList" === i21.type) {
                        const e45 = t29.mapDomToView(i21.target);
                        if (e45 && (e45.is("uiElement") || e45.is("rawElement"))) continue;
                        e45 && !this._isBogusBrMutation(i21) && n14.add(e45);
                    }
                    for (const o4 of e){
                        const e45 = t29.mapDomToView(o4.target);
                        if ((!e45 || !e45.is("uiElement") && !e45.is("rawElement")) && "characterData" === o4.type) {
                            const e46 = t29.findCorrespondingViewText(o4.target);
                            e46 && !n14.has(e46.parent) ? i20.set(e46, {
                                type: "text",
                                oldText: e46.data,
                                newText: cr(o4.target),
                                node: e46
                            }) : !e46 && sr(o4.target) && n14.add(t29.mapDomToView(o4.target.parentNode));
                        }
                    }
                    const o5 = [];
                    for (const e45 of i20.values())this.renderer.markToSync("text", e45.node), o5.push(e45);
                    for (const e46 of n14){
                        const i22 = t29.mapViewToDom(e46), n15 = Array.from(e46.getChildren()), r6 = Array.from(t29.domChildrenToView(i22, {
                            withChildren: !1
                        }));
                        Zr(n15, r6, a4) || (this.renderer.markToSync("children", e46), o5.push({
                            type: "children",
                            oldChildren: n15,
                            newChildren: r6,
                            node: e46
                        }));
                    }
                    const r6 = e[0].target.ownerDocument.getSelection();
                    let s5 = null;
                    if (r6 && r6.anchorNode) {
                        const e47 = t29.domPositionToView(r6.anchorNode, r6.anchorOffset), i22 = t29.domPositionToView(r6.focusNode, r6.focusOffset);
                        e47 && i22 && (s5 = new go(e47), s5.setFocus(i22));
                    }
                    function a4(e47, t30) {
                        if (!Array.isArray(e47)) return e47 === t30 || !(!e47.is("$text") || !t30.is("$text")) && e47.data === t30.data;
                    }
                    o5.length && (this.document.fire("mutations", o5, s5), this.view.forceRender());
                }
                _isBogusBrMutation(e) {
                    let t29 = null;
                    return null === e.nextSibling && 0 === e.removedNodes.length && 1 == e.addedNodes.length && (t29 = this.domConverter.domToView(e.addedNodes[0], {
                        withChildren: !1
                    })), t29 && t29.is("element", "br");
                }
            }
            class es {
                constructor(e45, t29, i20){
                    this.view = e45, this.document = e45.document, this.domEvent = t29, this.domTarget = t29.target, De(this, i20);
                }
                get target() {
                    return this.view.domConverter.mapDomToView(this.domTarget);
                }
                preventDefault() {
                    this.domEvent.preventDefault();
                }
                stopPropagation() {
                    this.domEvent.stopPropagation();
                }
            }
            class ts extends Or {
                constructor(e46){
                    super(e46), this.useCapture = !1;
                }
                observe(e) {
                    ("string" == typeof this.domEventType ? [
                        this.domEventType
                    ] : this.domEventType).forEach((t30)=>{
                        this.listenTo(e, t30, (e47, t31)=>{
                            this.isEnabled && !this.checkShouldIgnoreEventFromTarget(t31.target) && this.onDomEvent(t31);
                        }, {
                            useCapture: this.useCapture
                        });
                    });
                }
                fire(e, t, i) {
                    this.isEnabled && this.document.fire(e, new es(this.view, t, i));
                }
            }
            class is extends ts {
                constructor(e47){
                    super(e47), this.domEventType = [
                        "keydown",
                        "keyup"
                    ];
                }
                onDomEvent(e) {
                    this.fire(e.type, e, {
                        keyCode: e.keyCode,
                        altKey: e.altKey,
                        ctrlKey: e.ctrlKey,
                        shiftKey: e.shiftKey,
                        metaKey: e.metaKey,
                        get keystroke () {
                            return Oo(this);
                        }
                    });
                }
            }
            var ns = function() {
                return k.a.Date.now();
            }, os = /\s/;
            var rs = function(e48) {
                for(var t30 = e48.length; (t30--) && os.test(e48.charAt(t30)););
                return t30;
            }, ss = /^\s+/;
            var as = function(e48) {
                return e48 ? e48.slice(0, rs(e48) + 1).replace(ss, "") : e48;
            }, cs = /^[-+]0x[0-9a-f]+$/i, ls = /^0b[01]+$/i, ds = /^0o[0-7]+$/i, hs = parseInt;
            var us = function(e48) {
                if ("number" == typeof e48) return e48;
                if (bn(e48)) return NaN;
                if (w(e48)) {
                    var t30 = "function" == typeof e48.valueOf ? e48.valueOf() : e48;
                    e48 = w(t30) ? t30 + "" : t30;
                }
                if ("string" != typeof e48) return 0 === e48 ? e48 : +e48;
                e48 = as(e48);
                var i21 = ls.test(e48);
                return i21 || ds.test(e48) ? hs(e48.slice(2), i21 ? 2 : 8) : cs.test(e48) ? NaN : +e48;
            }, gs = Math.max, ms = Math.min;
            var fs = function(e48, t31, i21) {
                var n14, o4, r6, s5, a4, c7, l4 = 0, d6 = !1, h3 = !1, u4 = !0;
                if ("function" != typeof e48) throw new TypeError("Expected a function");
                function g4(t32) {
                    var i22 = n14, r7 = o4;
                    return n14 = o4 = void 0, l4 = t32, s5 = e48.apply(r7, i22);
                }
                function m4(e49) {
                    return l4 = e49, a4 = setTimeout(p5, t31), d6 ? g4(e49) : s5;
                }
                function f4(e49) {
                    var i22 = e49 - c7;
                    return (void 0) === c7 || i22 >= t31 || i22 < 0 || h3 && e49 - l4 >= r6;
                }
                function p5() {
                    var e49 = ns();
                    if (f4(e49)) return b3(e49);
                    a4 = setTimeout(p5, function(e50) {
                        var i22 = t31 - (e50 - c7);
                        return h3 ? ms(i22, r6 - (e50 - l4)) : i22;
                    }(e49));
                }
                function b3(e49) {
                    return a4 = void 0, u4 && n14 ? g4(e49) : (n14 = o4 = void 0, s5);
                }
                function k2() {
                    var e49 = ns(), i22 = f4(e49);
                    if (n14 = arguments, o4 = this, c7 = e49, i22) {
                        if ((void 0) === a4) return m4(c7);
                        if (h3) return clearTimeout(a4), a4 = setTimeout(p5, t31), g4(c7);
                    }
                    return (void 0) === a4 && (a4 = setTimeout(p5, t31)), s5;
                }
                return t31 = us(t31) || 0, w(i21) && (d6 = !!i21.leading, r6 = (h3 = "maxWait" in i21) ? gs(us(i21.maxWait) || 0, t31) : r6, u4 = "trailing" in i21 ? !!i21.trailing : u4), k2.cancel = function() {
                    (void 0) !== a4 && clearTimeout(a4), l4 = 0, n14 = c7 = o4 = a4 = void 0;
                }, k2.flush = function() {
                    return (void 0) === a4 ? s5 : b3(ns());
                }, k2;
            };
            class ps extends Or {
                constructor(e48){
                    super(e48), this._fireSelectionChangeDoneDebounced = fs((e49)=>this.document.fire("selectionChangeDone", e49)
                    , 200);
                }
                observe() {
                    const e49 = this.document;
                    e49.on("arrowKey", (t31, i21)=>{
                        e49.selection.isFake && this.isEnabled && i21.preventDefault();
                    }, {
                        context: "$capture"
                    }), e49.on("arrowKey", (t31, i21)=>{
                        e49.selection.isFake && this.isEnabled && this._handleSelectionMove(i21.keyCode);
                    }, {
                        priority: "lowest"
                    });
                }
                destroy() {
                    super.destroy(), this._fireSelectionChangeDoneDebounced.cancel();
                }
                _handleSelectionMove(e) {
                    const t31 = this.document.selection, i21 = new go(t31.getRanges(), {
                        backward: t31.isBackward,
                        fake: !1
                    });
                    e != No.arrowleft && e != No.arrowup || i21.setTo(i21.getFirstPosition()), e != No.arrowright && e != No.arrowdown || i21.setTo(i21.getLastPosition());
                    const n14 = {
                        oldSelection: t31,
                        newSelection: i21,
                        domSelection: null
                    };
                    this.document.fire("selectionChange", n14), this._fireSelectionChangeDoneDebounced(n14);
                }
            }
            class bs extends Or {
                constructor(e49){
                    super(e49), this.mutationObserver = e49.getObserver(Xr), this.selection = this.document.selection, this.domConverter = e49.domConverter, this._documents = new WeakSet, this._fireSelectionChangeDoneDebounced = fs((e50)=>this.document.fire("selectionChangeDone", e50)
                    , 200), this._clearInfiniteLoopInterval = setInterval(()=>this._clearInfiniteLoop()
                    , 1000), this._loopbackCounter = 0;
                }
                observe(e) {
                    const t31 = e.ownerDocument;
                    this._documents.has(t31) || (this.listenTo(t31, "selectionchange", (e50, i21)=>{
                        this._handleSelectionChange(i21, t31);
                    }), this._documents.add(t31));
                }
                destroy() {
                    super.destroy(), clearInterval(this._clearInfiniteLoopInterval), this._fireSelectionChangeDoneDebounced.cancel();
                }
                _handleSelectionChange(e, t) {
                    if (!this.isEnabled) return;
                    const i21 = t.defaultView.getSelection();
                    if (this.checkShouldIgnoreEventFromTarget(i21.anchorNode)) return;
                    this.mutationObserver.flush();
                    const n14 = this.domConverter.domSelectionToView(i21);
                    if (0 != n14.rangeCount) {
                        if (this.view.hasDomSelection = !0, !(this.selection.isEqual(n14) && this.domConverter.isDomSelectionCorrect(i21) || (++this._loopbackCounter) > 60)) {
                            if (this.selection.isSimilar(n14)) this.view.forceRender();
                            else {
                                const e50 = {
                                    oldSelection: this.selection,
                                    newSelection: n14,
                                    domSelection: i21
                                };
                                this.document.fire("selectionChange", e50), this._fireSelectionChangeDoneDebounced(e50);
                            }
                        }
                    } else this.view.hasDomSelection = !1;
                }
                _clearInfiniteLoop() {
                    this._loopbackCounter = 0;
                }
            }
            class ws extends ts {
                constructor(e50){
                    super(e50), this.domEventType = [
                        "focus",
                        "blur"
                    ], this.useCapture = !0;
                    const t31 = this.document;
                    t31.on("focus", ()=>{
                        t31.isFocused = !0, this._renderTimeoutId = setTimeout(()=>e50.change(()=>{
                            })
                        , 50);
                    }), t31.on("blur", (i21, n14)=>{
                        const o4 = t31.selection.editableElement;
                        null !== o4 && o4 !== n14.target || (t31.isFocused = !1, e50.change(()=>{
                        }));
                    });
                }
                onDomEvent(e) {
                    this.fire(e.type, e);
                }
                destroy() {
                    this._renderTimeoutId && clearTimeout(this._renderTimeoutId), super.destroy();
                }
            }
            class ks extends ts {
                constructor(e51){
                    super(e51), this.domEventType = [
                        "compositionstart",
                        "compositionupdate",
                        "compositionend"
                    ];
                    const t32 = this.document;
                    t32.on("compositionstart", ()=>{
                        t32.isComposing = !0;
                    }), t32.on("compositionend", ()=>{
                        t32.isComposing = !1;
                    });
                }
                onDomEvent(e) {
                    this.fire(e.type, e);
                }
            }
            class _s extends ts {
                constructor(e52){
                    super(e52), this.domEventType = [
                        "beforeinput"
                    ];
                }
                onDomEvent(e) {
                    this.fire(e.type, e);
                }
            }
            class vs {
                constructor(){
                    this._replacedElements = [];
                }
                replace(e, t) {
                    this._replacedElements.push({
                        element: e,
                        newElement: t
                    }), e.style.display = "none", t && e.parentNode.insertBefore(t, e.nextSibling);
                }
                restore() {
                    this._replacedElements.forEach(({ element: e53 , newElement: t33  })=>{
                        e53.style.display = "", t33 && t33.remove();
                    }), this._replacedElements = [];
                }
            }
            var ys = function(e53) {
                return "string" == typeof e53 || !_e(e53) && me(e53) && "[object String]" == S(e53);
            };
            function xs(e53) {
                return "[object Range]" == Object.prototype.toString.apply(e53);
            }
            function As(e53) {
                const t33 = e53.ownerDocument.defaultView.getComputedStyle(e53);
                return {
                    top: parseInt(t33.borderTopWidth, 10),
                    right: parseInt(t33.borderRightWidth, 10),
                    bottom: parseInt(t33.borderBottomWidth, 10),
                    left: parseInt(t33.borderLeftWidth, 10)
                };
            }
            const Cs = [
                "top",
                "right",
                "bottom",
                "left",
                "width",
                "height"
            ];
            class Ts {
                constructor(e53){
                    const t33 = xs(e53);
                    if (Object.defineProperty(this, "_source", {
                        value: e53._source || e53,
                        writable: !0,
                        enumerable: !1
                    }), Yi(e53) || t33) {
                        if (t33) {
                            const t34 = Ts.getDomRangeRects(e53);
                            Es(this, Ts.getBoundingRect(t34));
                        } else Es(this, e53.getBoundingClientRect());
                    } else if (Pr(e53)) {
                        const { innerWidth: t34 , innerHeight: i21  } = e53;
                        Es(this, {
                            top: 0,
                            right: t34,
                            bottom: i21,
                            left: 0,
                            width: t34,
                            height: i21
                        });
                    } else Es(this, e53);
                }
                clone() {
                    return new Ts(this);
                }
                moveTo(e, t) {
                    return this.top = t, this.right = e + this.width, this.bottom = t + this.height, this.left = e, this;
                }
                moveBy(e, t) {
                    return this.top += t, this.right += e, this.left += e, this.bottom += t, this;
                }
                getIntersection(e) {
                    const t34 = {
                        top: Math.max(this.top, e.top),
                        right: Math.min(this.right, e.right),
                        bottom: Math.min(this.bottom, e.bottom),
                        left: Math.max(this.left, e.left)
                    };
                    return t34.width = t34.right - t34.left, t34.height = t34.bottom - t34.top, t34.width < 0 || t34.height < 0 ? null : new Ts(t34);
                }
                getIntersectionArea(e) {
                    const t34 = this.getIntersection(e);
                    return t34 ? t34.getArea() : 0;
                }
                getArea() {
                    return this.width * this.height;
                }
                getVisible() {
                    const e54 = this._source;
                    let t34 = this.clone();
                    if (!Is(e54)) {
                        let i21 = e54.parentNode || e54.commonAncestorContainer;
                        for(; i21 && !Is(i21);){
                            const e55 = new Ts(i21), n14 = t34.getIntersection(e55);
                            if (!n14) return null;
                            n14.getArea() < t34.getArea() && (t34 = n14), i21 = i21.parentNode;
                        }
                    }
                    return t34;
                }
                isEqual(e) {
                    for (const t34 of Cs)if (this[t34] !== e[t34]) return !1;
                    return !0;
                }
                contains(e) {
                    const t34 = this.getIntersection(e);
                    return !(!t34 || !t34.isEqual(e));
                }
                excludeScrollbarsAndBorders() {
                    const e54 = this._source;
                    let t34, i21, n14;
                    if (Pr(e54)) t34 = e54.innerWidth - e54.document.documentElement.clientWidth, i21 = e54.innerHeight - e54.document.documentElement.clientHeight, n14 = e54.getComputedStyle(e54.document.documentElement).direction;
                    else {
                        const o4 = As(this._source);
                        t34 = e54.offsetWidth - e54.clientWidth - o4.left - o4.right, i21 = e54.offsetHeight - e54.clientHeight - o4.top - o4.bottom, n14 = e54.ownerDocument.defaultView.getComputedStyle(e54).direction, this.left += o4.left, this.top += o4.top, this.right -= o4.right, this.bottom -= o4.bottom, this.width = this.right - this.left, this.height = this.bottom - this.top;
                    }
                    return this.width -= t34, "ltr" === n14 ? this.right -= t34 : this.left += t34, this.height -= i21, this.bottom -= i21, this;
                }
                static getDomRangeRects(e) {
                    const t34 = [], i21 = Array.from(e.getClientRects());
                    if (i21.length) for (const e54 of i21)t34.push(new Ts(e54));
                    else {
                        let i22 = e.startContainer;
                        tr(i22) && (i22 = i22.parentNode);
                        const n14 = new Ts(i22.getBoundingClientRect());
                        n14.right = n14.left, n14.width = 0, t34.push(n14);
                    }
                    return t34;
                }
                static getBoundingRect(e) {
                    const t34 = {
                        left: Number.POSITIVE_INFINITY,
                        top: Number.POSITIVE_INFINITY,
                        right: Number.NEGATIVE_INFINITY,
                        bottom: Number.NEGATIVE_INFINITY
                    };
                    let i21 = 0;
                    for (const n14 of e)i21++, t34.left = Math.min(t34.left, n14.left), t34.top = Math.min(t34.top, n14.top), t34.right = Math.max(t34.right, n14.right), t34.bottom = Math.max(t34.bottom, n14.bottom);
                    return 0 == i21 ? null : (t34.width = t34.right - t34.left, t34.height = t34.bottom - t34.top, new Ts(t34));
                }
            }
            function Es(e54, t34) {
                for (const i21 of Cs)e54[i21] = t34[i21];
            }
            function Is(e54) {
                return !!Yi(e54) && e54 === e54.ownerDocument.body;
            }
            class Ss {
                constructor(e54, t34){
                    Ss._observerInstance || Ss._createObserver(), this._element = e54, this._callback = t34, Ss._addElementCallback(e54, t34), Ss._observerInstance.observe(e54);
                }
                destroy() {
                    Ss._deleteElementCallback(this._element, this._callback);
                }
                static _addElementCallback(e, t) {
                    Ss._elementCallbacks || (Ss._elementCallbacks = new Map);
                    let i21 = Ss._elementCallbacks.get(e);
                    i21 || (i21 = new Set, Ss._elementCallbacks.set(e, i21)), i21.add(t);
                }
                static _deleteElementCallback(e, t) {
                    const i21 = Ss._getElementCallbacks(e);
                    i21 && (i21.delete(t), i21.size || (Ss._elementCallbacks.delete(e), Ss._observerInstance.unobserve(e))), Ss._elementCallbacks && !Ss._elementCallbacks.size && (Ss._observerInstance = null, Ss._elementCallbacks = null);
                }
                static _getElementCallbacks(e) {
                    return Ss._elementCallbacks ? Ss._elementCallbacks.get(e) : null;
                }
                static _createObserver() {
                    let e55;
                    e55 = "function" == typeof vr.window.ResizeObserver ? vr.window.ResizeObserver : Ps, Ss._observerInstance = new e55((e56)=>{
                        for (const t35 of e56){
                            const e57 = Ss._getElementCallbacks(t35.target);
                            if (e57) for (const i21 of e57)i21(t35);
                        }
                    });
                }
            }
            Ss._observerInstance = null, Ss._elementCallbacks = null;
            class Ps {
                constructor(e55){
                    this._callback = e55, this._elements = new Set, this._previousRects = new Map, this._periodicCheckTimeout = null;
                }
                observe(e) {
                    this._elements.add(e), this._checkElementRectsAndExecuteCallback(), 1 === this._elements.size && this._startPeriodicCheck();
                }
                unobserve(e) {
                    this._elements.delete(e), this._previousRects.delete(e), this._elements.size || this._stopPeriodicCheck();
                }
                _startPeriodicCheck() {
                    const e56 = ()=>{
                        this._checkElementRectsAndExecuteCallback(), this._periodicCheckTimeout = setTimeout(e56, 100);
                    };
                    this.listenTo(vr.window, "resize", ()=>{
                        this._checkElementRectsAndExecuteCallback();
                    }), this._periodicCheckTimeout = setTimeout(e56, 100);
                }
                _stopPeriodicCheck() {
                    clearTimeout(this._periodicCheckTimeout), this.stopListening(), this._previousRects.clear();
                }
                _checkElementRectsAndExecuteCallback() {
                    const e56 = [];
                    for (const t35 of this._elements)this._hasRectChanged(t35) && e56.push({
                        target: t35,
                        contentRect: this._previousRects.get(t35)
                    });
                    e56.length && this._callback(e56);
                }
                _hasRectChanged(e) {
                    if (!e.ownerDocument.body.contains(e)) return !1;
                    const t35 = new Ts(e), i21 = this._previousRects.get(e), n14 = !i21 || !i21.isEqual(t35);
                    return this._previousRects.set(e, t35), n14;
                }
            }
            function Ms(e56) {
                return (t35)=>t35 + e56
                ;
            }
            function Ns(e56) {
                const t35 = e56.next();
                return t35.done ? null : t35.value;
            }
            Ke(Ps, Mr);
            class Rs {
                constructor(){
                    this.set("isFocused", !1), this.set("focusedElement", null), this._elements = new Set, this._nextEventLoopTimeout = null;
                }
                add(e) {
                    if (this._elements.has(e)) throw new c2.a("focustracker-add-element-already-exist", this);
                    this.listenTo(e, "focus", ()=>this._focus(e)
                    , {
                        useCapture: !0
                    }), this.listenTo(e, "blur", ()=>this._blur()
                    , {
                        useCapture: !0
                    }), this._elements.add(e);
                }
                remove(e) {
                    e === this.focusedElement && this._blur(e), this._elements.has(e) && (this.stopListening(e), this._elements.delete(e));
                }
                destroy() {
                    this.stopListening();
                }
                _focus(e) {
                    clearTimeout(this._nextEventLoopTimeout), this.focusedElement = e, this.isFocused = !0;
                }
                _blur() {
                    clearTimeout(this._nextEventLoopTimeout), this._nextEventLoopTimeout = setTimeout(()=>{
                        this.focusedElement = null, this.isFocused = !1;
                    }, 0);
                }
            }
            Ke(Rs, Mr), Ke(Rs, Ue);
            class Os {
                constructor(){
                    this._listener = Object.create(Mr);
                }
                listenTo(e) {
                    this._listener.listenTo(e, "keydown", (e56, t35)=>{
                        this._listener.fire("_keydown:" + Oo(t35), t35);
                    });
                }
                set(e, t, i = {
                }) {
                    const n14 = zo(e), o4 = i.priority;
                    this._listener.listenTo(this._listener, "_keydown:" + n14, (e56, i21)=>{
                        t(i21, ()=>{
                            i21.preventDefault(), i21.stopPropagation(), e56.stop();
                        }), e56.return = !0;
                    }, {
                        priority: o4
                    });
                }
                press(e) {
                    return !!this._listener.fire("_keydown:" + Oo(e), e);
                }
                destroy() {
                    this._listener.stopListening();
                }
            }
            class zs extends Or {
                constructor(e56){
                    super(e56), this.document.on("keydown", (e57, t35)=>{
                        if (this.isEnabled && ((i21 = t35.keyCode) == No.arrowright || i21 == No.arrowleft || i21 == No.arrowup || i21 == No.arrowdown)) {
                            const i21 = new fo(this.document, "arrowKey", this.document.selection.getFirstRange());
                            this.document.fire(i21, t35), i21.stop.called && e57.stop();
                        }
                        var i21;
                    });
                }
                observe() {
                }
            }
            function Ds({ target: e57 , viewportOffset: t35 = 0  }) {
                const i22 = Us(e57);
                let n14 = i22, o4 = null;
                for(; n14;){
                    let r6;
                    r6 = Ws(n14 == i22 ? e57 : o4), Vs(r6, ()=>qs(e57, n14)
                    );
                    const s5 = qs(e57, n14);
                    if (Ls(n14, s5, t35), n14.parent != n14) {
                        if (o4 = n14.frameElement, n14 = n14.parent, !o4) return;
                    } else n14 = null;
                }
            }
            function Ls(e57, t35, i22) {
                const n14 = t35.clone().moveBy(0, i22), o4 = t35.clone().moveBy(0, -i22), r6 = new Ts(e57).excludeScrollbarsAndBorders();
                if (![
                    o4,
                    n14
                ].every((e58)=>r6.contains(e58)
                )) {
                    let { scrollX: s5 , scrollY: a4  } = e57;
                    Bs(o4, r6) ? a4 -= r6.top - t35.top + i22 : js(n14, r6) && (a4 += t35.bottom - r6.bottom + i22), Fs(t35, r6) ? s5 -= r6.left - t35.left + i22 : Hs(t35, r6) && (s5 += t35.right - r6.right + i22), e57.scrollTo(s5, a4);
                }
            }
            function Vs(e57, t35) {
                const i22 = Us(e57);
                let n14, o4;
                for(; e57 != i22.document.body;)o4 = t35(), n14 = new Ts(e57).excludeScrollbarsAndBorders(), n14.contains(o4) || (Bs(o4, n14) ? e57.scrollTop -= n14.top - o4.top : js(o4, n14) && (e57.scrollTop += o4.bottom - n14.bottom), Fs(o4, n14) ? e57.scrollLeft -= n14.left - o4.left : Hs(o4, n14) && (e57.scrollLeft += o4.right - n14.right)), e57 = e57.parentNode;
            }
            function js(e57, t35) {
                return e57.bottom > t35.bottom;
            }
            function Bs(e57, t35) {
                return e57.top < t35.top;
            }
            function Fs(e57, t35) {
                return e57.left < t35.left;
            }
            function Hs(e57, t35) {
                return e57.right > t35.right;
            }
            function Us(e57) {
                return xs(e57) ? e57.startContainer.ownerDocument.defaultView : e57.ownerDocument.defaultView;
            }
            function Ws(e57) {
                if (xs(e57)) {
                    let t35 = e57.commonAncestorContainer;
                    return tr(t35) && (t35 = t35.parentNode), t35;
                }
                return e57.parentNode;
            }
            function qs(e57, t35) {
                const i22 = Us(e57), n14 = new Ts(e57);
                if (i22 === t35) return n14;
                {
                    let e58 = i22;
                    for(; e58 != t35;){
                        const t36 = e58.frameElement, i23 = new Ts(t36).excludeScrollbarsAndBorders();
                        n14.moveBy(i23.left, i23.top), e58 = e58.parent;
                    }
                }
                return n14;
            }
            Object.assign({
            }, {
                scrollViewportToShowTarget: Ds,
                scrollAncestorsToShowTarget: function(e57) {
                    Vs(Ws(e57), ()=>new Ts(e57)
                    );
                }
            });
            class $s {
                constructor(e57){
                    this.document = new yo(e57), this.domConverter = new Er(this.document), this.domRoots = new Map, this.set("isRenderingInProgress", !1), this.set("hasDomSelection", !1), this._renderer = new br(this.domConverter, this.document.selection), this._renderer.bind("isFocused").to(this.document), this._initialDomRootAttributes = new WeakMap, this._observers = new Map, this._ongoingChange = !1, this._postFixersInProgress = !1, this._renderingDisabled = !1, this._hasChangedSinceTheLastRendering = !1, this._writer = new qo(this.document), this.addObserver(Xr), this.addObserver(bs), this.addObserver(ws), this.addObserver(is), this.addObserver(ps), this.addObserver(ks), this.addObserver(zs), So.isAndroid && this.addObserver(_s), this.document.on("arrowKey", lr, {
                        priority: "low"
                    }), Bo(this), this.on("render", ()=>{
                        this._render(), this.document.fire("layoutChanged"), this._hasChangedSinceTheLastRendering = !1;
                    }), this.listenTo(this.document.selection, "change", ()=>{
                        this._hasChangedSinceTheLastRendering = !0;
                    }), this.listenTo(this.document, "change:isFocused", ()=>{
                        this._hasChangedSinceTheLastRendering = !0;
                    });
                }
                attachDomRoot(e, t = "main") {
                    const i22 = this.document.getRoot(t);
                    i22._name = e.tagName.toLowerCase();
                    const n14 = {
                    };
                    for (const { name: t35 , value: o4  } of Array.from(e.attributes))n14[t35] = o4, "class" === t35 ? this._writer.addClass(o4.split(" "), i22) : this._writer.setAttribute(t35, o4, i22);
                    this._initialDomRootAttributes.set(e, n14);
                    const o5 = ()=>{
                        this._writer.setAttribute("contenteditable", !i22.isReadOnly, i22), i22.isReadOnly ? this._writer.addClass("ck-read-only", i22) : this._writer.removeClass("ck-read-only", i22);
                    };
                    o5(), this.domRoots.set(t, e), this.domConverter.bindElements(e, i22), this._renderer.markToSync("children", i22), this._renderer.markToSync("attributes", i22), this._renderer.domDocuments.add(e.ownerDocument), i22.on("change:children", (e58, t36)=>this._renderer.markToSync("children", t36)
                    ), i22.on("change:attributes", (e58, t36)=>this._renderer.markToSync("attributes", t36)
                    ), i22.on("change:text", (e58, t36)=>this._renderer.markToSync("text", t36)
                    ), i22.on("change:isReadOnly", ()=>this.change(o5)
                    ), i22.on("change", ()=>{
                        this._hasChangedSinceTheLastRendering = !0;
                    });
                    for (const i23 of this._observers.values())i23.observe(e, t);
                }
                detachDomRoot(e) {
                    const t35 = this.domRoots.get(e);
                    Array.from(t35.attributes).forEach(({ name: e58  })=>t35.removeAttribute(e58)
                    );
                    const i22 = this._initialDomRootAttributes.get(t35);
                    for(const e58 in i22)t35.setAttribute(e58, i22[e58]);
                    this.domRoots.delete(e), this.domConverter.unbindDomElement(t35);
                }
                getDomRoot(e = "main") {
                    return this.domRoots.get(e);
                }
                addObserver(e) {
                    let t35 = this._observers.get(e);
                    if (t35) return t35;
                    t35 = new e(this), this._observers.set(e, t35);
                    for (const [e58, i22] of this.domRoots)t35.observe(i22, e58);
                    return t35.enable(), t35;
                }
                getObserver(e) {
                    return this._observers.get(e);
                }
                disableObservers() {
                    for (const e58 of this._observers.values())e58.disable();
                }
                enableObservers() {
                    for (const e58 of this._observers.values())e58.enable();
                }
                scrollToTheSelection() {
                    const e58 = this.document.selection.getFirstRange();
                    e58 && Ds({
                        target: this.domConverter.viewRangeToDom(e58),
                        viewportOffset: 20
                    });
                }
                focus() {
                    if (!this.document.isFocused) {
                        const e58 = this.document.selection.editableElement;
                        e58 && (this.domConverter.focus(e58), this.forceRender());
                    }
                }
                change(e) {
                    if (this.isRenderingInProgress || this._postFixersInProgress) throw new c2.a("cannot-change-view-tree", this);
                    try {
                        if (this._ongoingChange) return e(this._writer);
                        this._ongoingChange = !0;
                        const t35 = e(this._writer);
                        return this._ongoingChange = !1, !this._renderingDisabled && this._hasChangedSinceTheLastRendering && (this._postFixersInProgress = !0, this.document._callPostFixers(this._writer), this._postFixersInProgress = !1, this.fire("render")), t35;
                    } catch (e58) {
                        c2.a.rethrowUnexpectedError(e58, this);
                    }
                }
                forceRender() {
                    this._hasChangedSinceTheLastRendering = !0, this.change(()=>{
                    });
                }
                destroy() {
                    for (const e58 of this._observers.values())e58.destroy();
                    this.document.destroy(), this.stopListening();
                }
                createPositionAt(e, t) {
                    return co._createAt(e, t);
                }
                createPositionAfter(e) {
                    return co._createAfter(e);
                }
                createPositionBefore(e) {
                    return co._createBefore(e);
                }
                createRange(e, t) {
                    return new lo(e, t);
                }
                createRangeOn(e) {
                    return lo._createOn(e);
                }
                createRangeIn(e) {
                    return lo._createIn(e);
                }
                createSelection(e, t, i) {
                    return new go(e, t, i);
                }
                _disableRendering(e) {
                    this._renderingDisabled = e, 0 == e && this.change(()=>{
                    });
                }
                _render() {
                    this.isRenderingInProgress = !0, this.disableObservers(), this._renderer.render(), this.enableObservers(), this.isRenderingInProgress = !1;
                }
            }
            Ke($s, Ue);
            class Ys {
                constructor(e58){
                    this.parent = null, this._attrs = gn(e58);
                }
                get index() {
                    let e59;
                    if (!this.parent) return null;
                    if (null === (e59 = this.parent.getChildIndex(this))) throw new c2.a("model-node-not-found-in-parent", this);
                    return e59;
                }
                get startOffset() {
                    let e59;
                    if (!this.parent) return null;
                    if (null === (e59 = this.parent.getChildStartOffset(this))) throw new c2.a("model-node-not-found-in-parent", this);
                    return e59;
                }
                get offsetSize() {
                    return 1;
                }
                get endOffset() {
                    return this.parent ? this.startOffset + this.offsetSize : null;
                }
                get nextSibling() {
                    const e59 = this.index;
                    return null !== e59 && this.parent.getChild(e59 + 1) || null;
                }
                get previousSibling() {
                    const e59 = this.index;
                    return null !== e59 && this.parent.getChild(e59 - 1) || null;
                }
                get root() {
                    let e59 = this;
                    for(; e59.parent;)e59 = e59.parent;
                    return e59;
                }
                isAttached() {
                    return this.root.is("rootElement");
                }
                getPath() {
                    const e59 = [];
                    let t35 = this;
                    for(; t35.parent;)e59.unshift(t35.startOffset), t35 = t35.parent;
                    return e59;
                }
                getAncestors(e = {
                    includeSelf: !1,
                    parentFirst: !1
                }) {
                    const t35 = [];
                    let i22 = e.includeSelf ? this : this.parent;
                    for(; i22;)t35[e.parentFirst ? "push" : "unshift"](i22), i22 = i22.parent;
                    return t35;
                }
                getCommonAncestor(e, t = {
                }) {
                    const i22 = this.getAncestors(t), n14 = e.getAncestors(t);
                    let o4 = 0;
                    for(; i22[o4] == n14[o4] && i22[o4];)o4++;
                    return 0 === o4 ? null : i22[o4 - 1];
                }
                isBefore(e) {
                    if (this == e) return !1;
                    if (this.root !== e.root) return !1;
                    const t35 = this.getPath(), i22 = e.getPath(), n14 = cn(t35, i22);
                    switch(n14){
                        case "prefix":
                            return !0;
                        case "extension":
                            return !1;
                        default:
                            return t35[n14] < i22[n14];
                    }
                }
                isAfter(e) {
                    return this != e && this.root === e.root && !this.isBefore(e);
                }
                hasAttribute(e) {
                    return this._attrs.has(e);
                }
                getAttribute(e) {
                    return this._attrs.get(e);
                }
                getAttributes() {
                    return this._attrs.entries();
                }
                getAttributeKeys() {
                    return this._attrs.keys();
                }
                toJSON() {
                    const e59 = {
                    };
                    return this._attrs.size && (e59.attributes = Array.from(this._attrs).reduce((e60, t35)=>(e60[t35[0]] = t35[1], e60)
                    , {
                    })), e59;
                }
                is(e) {
                    return "node" === e || "model:node" === e;
                }
                _clone() {
                    return new Ys(this._attrs);
                }
                _remove() {
                    this.parent._removeChildren(this.index);
                }
                _setAttribute(e, t) {
                    this._attrs.set(e, t);
                }
                _setAttributesTo(e) {
                    this._attrs = gn(e);
                }
                _removeAttribute(e) {
                    return this._attrs.delete(e);
                }
                _clearAttributes() {
                    this._attrs.clear();
                }
            }
            class Gs extends Ys {
                constructor(e59, t35){
                    super(t35), this._data = e59 || "";
                }
                get offsetSize() {
                    return this.data.length;
                }
                get data() {
                    return this._data;
                }
                is(e) {
                    return "$text" === e || "model:$text" === e || "text" === e || "model:text" === e || "node" === e || "model:node" === e;
                }
                toJSON() {
                    const e60 = super.toJSON();
                    return e60.data = this.data, e60;
                }
                _clone() {
                    return new Gs(this.data, this.getAttributes());
                }
                static fromJSON(e) {
                    return new Gs(e.data, e.attributes);
                }
            }
            class Ks {
                constructor(e60, t36, i22){
                    if (this.textNode = e60, t36 < 0 || t36 > e60.offsetSize) throw new c2.a("model-textproxy-wrong-offsetintext", this);
                    if (i22 < 0 || t36 + i22 > e60.offsetSize) throw new c2.a("model-textproxy-wrong-length", this);
                    this.data = e60.data.substring(t36, t36 + i22), this.offsetInText = t36;
                }
                get startOffset() {
                    return null !== this.textNode.startOffset ? this.textNode.startOffset + this.offsetInText : null;
                }
                get offsetSize() {
                    return this.data.length;
                }
                get endOffset() {
                    return null !== this.startOffset ? this.startOffset + this.offsetSize : null;
                }
                get isPartial() {
                    return this.offsetSize !== this.textNode.offsetSize;
                }
                get parent() {
                    return this.textNode.parent;
                }
                get root() {
                    return this.textNode.root;
                }
                is(e) {
                    return "$textProxy" === e || "model:$textProxy" === e || "textProxy" === e || "model:textProxy" === e;
                }
                getPath() {
                    const e61 = this.textNode.getPath();
                    return e61.length > 0 && (e61[e61.length - 1] += this.offsetInText), e61;
                }
                getAncestors(e = {
                    includeSelf: !1,
                    parentFirst: !1
                }) {
                    const t37 = [];
                    let i23 = e.includeSelf ? this : this.parent;
                    for(; i23;)t37[e.parentFirst ? "push" : "unshift"](i23), i23 = i23.parent;
                    return t37;
                }
                hasAttribute(e) {
                    return this.textNode.hasAttribute(e);
                }
                getAttribute(e) {
                    return this.textNode.getAttribute(e);
                }
                getAttributes() {
                    return this.textNode.getAttributes();
                }
                getAttributeKeys() {
                    return this.textNode.getAttributeKeys();
                }
            }
            class Qs {
                constructor(e61){
                    this._nodes = [], e61 && this._insertNodes(0, e61);
                }
                [Symbol.iterator]() {
                    return this._nodes[Symbol.iterator]();
                }
                get length() {
                    return this._nodes.length;
                }
                get maxOffset() {
                    return this._nodes.reduce((e62, t37)=>e62 + t37.offsetSize
                    , 0);
                }
                getNode(e) {
                    return this._nodes[e] || null;
                }
                getNodeIndex(e) {
                    const t37 = this._nodes.indexOf(e);
                    return -1 == t37 ? null : t37;
                }
                getNodeStartOffset(e) {
                    const t37 = this.getNodeIndex(e);
                    return null === t37 ? null : this._nodes.slice(0, t37).reduce((e62, t38)=>e62 + t38.offsetSize
                    , 0);
                }
                indexToOffset(e) {
                    if (e == this._nodes.length) return this.maxOffset;
                    const t37 = this._nodes[e];
                    if (!t37) throw new c2.a("model-nodelist-index-out-of-bounds", this);
                    return this.getNodeStartOffset(t37);
                }
                offsetToIndex(e) {
                    let t37 = 0;
                    for (const i23 of this._nodes){
                        if (e >= t37 && e < t37 + i23.offsetSize) return this.getNodeIndex(i23);
                        t37 += i23.offsetSize;
                    }
                    if (t37 != e) throw new c2.a("model-nodelist-offset-out-of-bounds", this, {
                        offset: e,
                        nodeList: this
                    });
                    return this.length;
                }
                _insertNodes(e, t) {
                    for (const e62 of t)if (!(e62 instanceof Ys)) throw new c2.a("model-nodelist-insertnodes-not-node", this);
                    this._nodes.splice(e, 0, ...t);
                }
                _removeNodes(e, t = 1) {
                    return this._nodes.splice(e, t);
                }
                toJSON() {
                    return this._nodes.map((e62)=>e62.toJSON()
                    );
                }
            }
            class Js extends Ys {
                constructor(e62, t37, i23){
                    super(t37), this.name = e62, this._children = new Qs, i23 && this._insertChild(0, i23);
                }
                get childCount() {
                    return this._children.length;
                }
                get maxOffset() {
                    return this._children.maxOffset;
                }
                get isEmpty() {
                    return 0 === this.childCount;
                }
                is(e, t = null) {
                    return t ? t === this.name && ("element" === e || "model:element" === e) : "element" === e || "model:element" === e || "node" === e || "model:node" === e;
                }
                getChild(e) {
                    return this._children.getNode(e);
                }
                getChildren() {
                    return this._children[Symbol.iterator]();
                }
                getChildIndex(e) {
                    return this._children.getNodeIndex(e);
                }
                getChildStartOffset(e) {
                    return this._children.getNodeStartOffset(e);
                }
                offsetToIndex(e) {
                    return this._children.offsetToIndex(e);
                }
                getNodeByPath(e) {
                    let t38 = this;
                    for (const i24 of e)t38 = t38.getChild(t38.offsetToIndex(i24));
                    return t38;
                }
                findAncestor(e, t = {
                    includeSelf: !1
                }) {
                    let i24 = t.includeSelf ? this : this.parent;
                    for(; i24;){
                        if (i24.name === e) return i24;
                        i24 = i24.parent;
                    }
                    return null;
                }
                toJSON() {
                    const e63 = super.toJSON();
                    if (e63.name = this.name, this._children.length > 0) {
                        e63.children = [];
                        for (const t38 of this._children)e63.children.push(t38.toJSON());
                    }
                    return e63;
                }
                _clone(e = !1) {
                    const t38 = e ? Array.from(this._children).map((e63)=>e63._clone(!0)
                    ) : null;
                    return new Js(this.name, this.getAttributes(), t38);
                }
                _appendChild(e) {
                    this._insertChild(this.childCount, e);
                }
                _insertChild(e, t) {
                    const i24 = function(e63) {
                        if ("string" == typeof e63) return [
                            new Gs(e63)
                        ];
                        Ji(e63) || (e63 = [
                            e63
                        ]);
                        return Array.from(e63).map((e64)=>"string" == typeof e64 ? new Gs(e64) : e64 instanceof Ks ? new Gs(e64.data, e64.getAttributes()) : e64
                        );
                    }(t);
                    for (const e63 of i24)null !== e63.parent && e63._remove(), e63.parent = this;
                    this._children._insertNodes(e, i24);
                }
                _removeChildren(e, t = 1) {
                    const i24 = this._children._removeNodes(e, t);
                    for (const e63 of i24)e63.parent = null;
                    return i24;
                }
                static fromJSON(e) {
                    let t38 = null;
                    if (e.children) {
                        t38 = [];
                        for (const i24 of e.children)i24.name ? t38.push(Js.fromJSON(i24)) : t38.push(Gs.fromJSON(i24));
                    }
                    return new Js(e.name, e.attributes, t38);
                }
            }
            class Zs {
                constructor(e63 = {
                }){
                    if (!e63.boundaries && !e63.startPosition) throw new c2.a("model-tree-walker-no-start-position", null);
                    const t38 = e63.direction || "forward";
                    if ("forward" != t38 && "backward" != t38) throw new c2.a("model-tree-walker-unknown-direction", e63, {
                        direction: t38
                    });
                    this.direction = t38, this.boundaries = e63.boundaries || null, e63.startPosition ? this.position = e63.startPosition.clone() : this.position = ea._createAt(this.boundaries["backward" == this.direction ? "end" : "start"]), this.position.stickiness = "toNone", this.singleCharacters = !!e63.singleCharacters, this.shallow = !!e63.shallow, this.ignoreElementEnd = !!e63.ignoreElementEnd, this._boundaryStartParent = this.boundaries ? this.boundaries.start.parent : null, this._boundaryEndParent = this.boundaries ? this.boundaries.end.parent : null, this._visitedParent = this.position.parent;
                }
                [Symbol.iterator]() {
                    return this;
                }
                skip(e) {
                    let t39, i24, n14, o4;
                    do n14 = this.position, o4 = this._visitedParent, { done: t39 , value: i24  } = this.next();
                    while (!t39 && e(i24))
                    t39 || (this.position = n14, this._visitedParent = o4);
                }
                next() {
                    return "forward" == this.direction ? this._next() : this._previous();
                }
                _next() {
                    const e64 = this.position, t39 = this.position.clone(), i24 = this._visitedParent;
                    if (null === i24.parent && t39.offset === i24.maxOffset) return {
                        done: !0
                    };
                    if (i24 === this._boundaryEndParent && t39.offset == this.boundaries.end.offset) return {
                        done: !0
                    };
                    const n14 = t39.parent, o4 = ta(t39, n14), r6 = o4 || ia(t39, n14, o4);
                    if (r6 instanceof Js) return this.shallow ? t39.offset++ : (t39.path.push(0), this._visitedParent = r6), this.position = t39, Xs("elementStart", r6, e64, t39, 1);
                    if (r6 instanceof Gs) {
                        let n15;
                        if (this.singleCharacters) n15 = 1;
                        else {
                            let e65 = r6.endOffset;
                            this._boundaryEndParent == i24 && this.boundaries.end.offset < e65 && (e65 = this.boundaries.end.offset), n15 = e65 - t39.offset;
                        }
                        const o5 = t39.offset - r6.startOffset, s5 = new Ks(r6, o5, n15);
                        return t39.offset += n15, this.position = t39, Xs("text", s5, e64, t39, n15);
                    }
                    return t39.path.pop(), t39.offset++, this.position = t39, this._visitedParent = i24.parent, this.ignoreElementEnd ? this._next() : Xs("elementEnd", i24, e64, t39);
                }
                _previous() {
                    const e64 = this.position, t39 = this.position.clone(), i24 = this._visitedParent;
                    if (null === i24.parent && 0 === t39.offset) return {
                        done: !0
                    };
                    if (i24 == this._boundaryStartParent && t39.offset == this.boundaries.start.offset) return {
                        done: !0
                    };
                    const n14 = t39.parent, o4 = ta(t39, n14), r6 = o4 || na(t39, n14, o4);
                    if (r6 instanceof Js) return t39.offset--, this.shallow ? (this.position = t39, Xs("elementStart", r6, e64, t39, 1)) : (t39.path.push(r6.maxOffset), this.position = t39, this._visitedParent = r6, this.ignoreElementEnd ? this._previous() : Xs("elementEnd", r6, e64, t39));
                    if (r6 instanceof Gs) {
                        let n15;
                        if (this.singleCharacters) n15 = 1;
                        else {
                            let e65 = r6.startOffset;
                            this._boundaryStartParent == i24 && this.boundaries.start.offset > e65 && (e65 = this.boundaries.start.offset), n15 = t39.offset - e65;
                        }
                        const o5 = t39.offset - r6.startOffset, s5 = new Ks(r6, o5 - n15, n15);
                        return t39.offset -= n15, this.position = t39, Xs("text", s5, e64, t39, n15);
                    }
                    return t39.path.pop(), this.position = t39, this._visitedParent = i24.parent, Xs("elementStart", i24, e64, t39, 1);
                }
            }
            function Xs(e64, t39, i24, n14, o4) {
                return {
                    done: !1,
                    value: {
                        type: e64,
                        item: t39,
                        previousPosition: i24,
                        nextPosition: n14,
                        length: o4
                    }
                };
            }
            class ea {
                constructor(e64, t39, i24 = "toNone"){
                    if (!e64.is("element") && !e64.is("documentFragment")) throw new c2.a("model-position-root-invalid", e64);
                    if (!(t39 instanceof Array) || 0 === t39.length) throw new c2.a("model-position-path-incorrect-format", e64, {
                        path: t39
                    });
                    e64.is("rootElement") ? t39 = t39.slice() : (t39 = [
                        ...e64.getPath(),
                        ...t39
                    ], e64 = e64.root), this.root = e64, this.path = t39, this.stickiness = i24;
                }
                get offset() {
                    return this.path[this.path.length - 1];
                }
                set offset(e) {
                    this.path[this.path.length - 1] = e;
                }
                get parent() {
                    let e65 = this.root;
                    for(let t40 = 0; t40 < this.path.length - 1; t40++)if (e65 = e65.getChild(e65.offsetToIndex(this.path[t40])), !e65) throw new c2.a("model-position-path-incorrect", this, {
                        position: this
                    });
                    if (e65.is("$text")) throw new c2.a("model-position-path-incorrect", this, {
                        position: this
                    });
                    return e65;
                }
                get index() {
                    return this.parent.offsetToIndex(this.offset);
                }
                get textNode() {
                    return ta(this, this.parent);
                }
                get nodeAfter() {
                    const e65 = this.parent;
                    return ia(this, e65, ta(this, e65));
                }
                get nodeBefore() {
                    const e65 = this.parent;
                    return na(this, e65, ta(this, e65));
                }
                get isAtStart() {
                    return 0 === this.offset;
                }
                get isAtEnd() {
                    return this.offset == this.parent.maxOffset;
                }
                compareWith(e) {
                    if (this.root != e.root) return "different";
                    const t40 = cn(this.path, e.path);
                    switch(t40){
                        case "same":
                            return "same";
                        case "prefix":
                            return "before";
                        case "extension":
                            return "after";
                        default:
                            return this.path[t40] < e.path[t40] ? "before" : "after";
                    }
                }
                getLastMatchingPosition(e, t = {
                }) {
                    t.startPosition = this;
                    const i25 = new Zs(t);
                    return i25.skip(e), i25.position;
                }
                getParentPath() {
                    return this.path.slice(0, -1);
                }
                getAncestors() {
                    const e65 = this.parent;
                    return e65.is("documentFragment") ? [
                        e65
                    ] : e65.getAncestors({
                        includeSelf: !0
                    });
                }
                findAncestor(e) {
                    const t40 = this.parent;
                    return t40.is("element") ? t40.findAncestor(e, {
                        includeSelf: !0
                    }) : null;
                }
                getCommonPath(e) {
                    if (this.root != e.root) return [];
                    const t40 = cn(this.path, e.path), i25 = "string" == typeof t40 ? Math.min(this.path.length, e.path.length) : t40;
                    return this.path.slice(0, i25);
                }
                getCommonAncestor(e) {
                    const t40 = this.getAncestors(), i25 = e.getAncestors();
                    let n14 = 0;
                    for(; t40[n14] == i25[n14] && t40[n14];)n14++;
                    return 0 === n14 ? null : t40[n14 - 1];
                }
                getShiftedBy(e) {
                    const t40 = this.clone(), i25 = t40.offset + e;
                    return t40.offset = i25 < 0 ? 0 : i25, t40;
                }
                isAfter(e) {
                    return "after" == this.compareWith(e);
                }
                isBefore(e) {
                    return "before" == this.compareWith(e);
                }
                isEqual(e) {
                    return "same" == this.compareWith(e);
                }
                isTouching(e) {
                    let t40 = null, i25 = null;
                    switch(this.compareWith(e)){
                        case "same":
                            return !0;
                        case "before":
                            t40 = ea._createAt(this), i25 = ea._createAt(e);
                            break;
                        case "after":
                            t40 = ea._createAt(e), i25 = ea._createAt(this);
                            break;
                        default:
                            return !1;
                    }
                    let n14 = t40.parent;
                    for(; t40.path.length + i25.path.length;){
                        if (t40.isEqual(i25)) return !0;
                        if (t40.path.length > i25.path.length) {
                            if (t40.offset !== n14.maxOffset) return !1;
                            t40.path = t40.path.slice(0, -1), n14 = n14.parent, t40.offset++;
                        } else {
                            if (0 !== i25.offset) return !1;
                            i25.path = i25.path.slice(0, -1);
                        }
                    }
                }
                is(e) {
                    return "position" === e || "model:position" === e;
                }
                hasSameParentAs(e) {
                    if (this.root !== e.root) return !1;
                    return "same" == cn(this.getParentPath(), e.getParentPath());
                }
                getTransformedByOperation(e) {
                    let t40;
                    switch(e.type){
                        case "insert":
                            t40 = this._getTransformedByInsertOperation(e);
                            break;
                        case "move":
                        case "remove":
                        case "reinsert":
                            t40 = this._getTransformedByMoveOperation(e);
                            break;
                        case "split":
                            t40 = this._getTransformedBySplitOperation(e);
                            break;
                        case "merge":
                            t40 = this._getTransformedByMergeOperation(e);
                            break;
                        default:
                            t40 = ea._createAt(this);
                    }
                    return t40;
                }
                _getTransformedByInsertOperation(e) {
                    return this._getTransformedByInsertion(e.position, e.howMany);
                }
                _getTransformedByMoveOperation(e) {
                    return this._getTransformedByMove(e.sourcePosition, e.targetPosition, e.howMany);
                }
                _getTransformedBySplitOperation(e) {
                    const t40 = e.movedRange;
                    return t40.containsPosition(this) || t40.start.isEqual(this) && "toNext" == this.stickiness ? this._getCombined(e.splitPosition, e.moveTargetPosition) : e.graveyardPosition ? this._getTransformedByMove(e.graveyardPosition, e.insertionPosition, 1) : this._getTransformedByInsertion(e.insertionPosition, 1);
                }
                _getTransformedByMergeOperation(e) {
                    const t40 = e.movedRange;
                    let i25;
                    return t40.containsPosition(this) || t40.start.isEqual(this) ? (i25 = this._getCombined(e.sourcePosition, e.targetPosition), e.sourcePosition.isBefore(e.targetPosition) && (i25 = i25._getTransformedByDeletion(e.deletionPosition, 1))) : i25 = this.isEqual(e.deletionPosition) ? ea._createAt(e.deletionPosition) : this._getTransformedByMove(e.deletionPosition, e.graveyardPosition, 1), i25;
                }
                _getTransformedByDeletion(e, t) {
                    const i25 = ea._createAt(this);
                    if (this.root != e.root) return i25;
                    if ("same" == cn(e.getParentPath(), this.getParentPath())) {
                        if (e.offset < this.offset) {
                            if (e.offset + t > this.offset) return null;
                            i25.offset -= t;
                        }
                    } else if ("prefix" == cn(e.getParentPath(), this.getParentPath())) {
                        const n14 = e.path.length - 1;
                        if (e.offset <= this.path[n14]) {
                            if (e.offset + t > this.path[n14]) return null;
                            i25.path[n14] -= t;
                        }
                    }
                    return i25;
                }
                _getTransformedByInsertion(e, t) {
                    const i25 = ea._createAt(this);
                    if (this.root != e.root) return i25;
                    if ("same" == cn(e.getParentPath(), this.getParentPath())) (e.offset < this.offset || e.offset == this.offset && "toPrevious" != this.stickiness) && (i25.offset += t);
                    else if ("prefix" == cn(e.getParentPath(), this.getParentPath())) {
                        const n14 = e.path.length - 1;
                        e.offset <= this.path[n14] && (i25.path[n14] += t);
                    }
                    return i25;
                }
                _getTransformedByMove(e, t, i) {
                    if (t = t._getTransformedByDeletion(e, i), e.isEqual(t)) return ea._createAt(this);
                    const n14 = this._getTransformedByDeletion(e, i);
                    return null === n14 || e.isEqual(this) && "toNext" == this.stickiness || e.getShiftedBy(i).isEqual(this) && "toPrevious" == this.stickiness ? this._getCombined(e, t) : n14._getTransformedByInsertion(t, i);
                }
                _getCombined(e, t) {
                    const i25 = e.path.length - 1, n14 = ea._createAt(t);
                    return n14.stickiness = this.stickiness, n14.offset = n14.offset + this.path[i25] - e.offset, n14.path = [
                        ...n14.path,
                        ...this.path.slice(i25 + 1)
                    ], n14;
                }
                toJSON() {
                    return {
                        root: this.root.toJSON(),
                        path: Array.from(this.path),
                        stickiness: this.stickiness
                    };
                }
                clone() {
                    return new this.constructor(this.root, this.path, this.stickiness);
                }
                static _createAt(e, t, i = "toNone") {
                    if (e instanceof ea) return new ea(e.root, e.path, e.stickiness);
                    {
                        const n14 = e;
                        if ("end" == t) t = n14.maxOffset;
                        else {
                            if ("before" == t) return this._createBefore(n14, i);
                            if ("after" == t) return this._createAfter(n14, i);
                            if (0 !== t && !t) throw new c2.a("model-createpositionat-offset-required", [
                                this,
                                e
                            ]);
                        }
                        if (!n14.is("element") && !n14.is("documentFragment")) throw new c2.a("model-position-parent-incorrect", [
                            this,
                            e
                        ]);
                        const o4 = n14.getPath();
                        return o4.push(t), new this(n14.root, o4, i);
                    }
                }
                static _createAfter(e, t) {
                    if (!e.parent) throw new c2.a("model-position-after-root", [
                        this,
                        e
                    ], {
                        root: e
                    });
                    return this._createAt(e.parent, e.endOffset, t);
                }
                static _createBefore(e, t) {
                    if (!e.parent) throw new c2.a("model-position-before-root", e, {
                        root: e
                    });
                    return this._createAt(e.parent, e.startOffset, t);
                }
                static fromJSON(e, t) {
                    if ("$graveyard" === e.root) {
                        const i25 = new ea(t.graveyard, e.path);
                        return i25.stickiness = e.stickiness, i25;
                    }
                    if (!t.getRoot(e.root)) throw new c2.a("model-position-fromjson-no-root", t, {
                        rootName: e.root
                    });
                    return new ea(t.getRoot(e.root), e.path, e.stickiness);
                }
            }
            function ta(e65, t40) {
                const i25 = t40.getChild(t40.offsetToIndex(e65.offset));
                return i25 && i25.is("$text") && i25.startOffset < e65.offset ? i25 : null;
            }
            function ia(e65, t40, i25) {
                return null !== i25 ? null : t40.getChild(t40.offsetToIndex(e65.offset));
            }
            function na(e65, t40, i25) {
                return null !== i25 ? null : t40.getChild(t40.offsetToIndex(e65.offset) - 1);
            }
            class oa {
                constructor(e65, t40 = null){
                    this.start = ea._createAt(e65), this.end = t40 ? ea._createAt(t40) : ea._createAt(e65), this.start.stickiness = this.isCollapsed ? "toNone" : "toNext", this.end.stickiness = this.isCollapsed ? "toNone" : "toPrevious";
                }
                *[Symbol.iterator]() {
                    yield* new Zs({
                        boundaries: this,
                        ignoreElementEnd: !0
                    });
                }
                get isCollapsed() {
                    return this.start.isEqual(this.end);
                }
                get isFlat() {
                    return "same" == cn(this.start.getParentPath(), this.end.getParentPath());
                }
                get root() {
                    return this.start.root;
                }
                containsPosition(e) {
                    return e.isAfter(this.start) && e.isBefore(this.end);
                }
                containsRange(e, t = !1) {
                    e.isCollapsed && (t = !1);
                    const i25 = this.containsPosition(e.start) || t && this.start.isEqual(e.start), n14 = this.containsPosition(e.end) || t && this.end.isEqual(e.end);
                    return i25 && n14;
                }
                containsItem(e) {
                    const t41 = ea._createBefore(e);
                    return this.containsPosition(t41) || this.start.isEqual(t41);
                }
                is(e) {
                    return "range" === e || "model:range" === e;
                }
                isEqual(e) {
                    return this.start.isEqual(e.start) && this.end.isEqual(e.end);
                }
                isIntersecting(e) {
                    return this.start.isBefore(e.end) && this.end.isAfter(e.start);
                }
                getDifference(e) {
                    const t41 = [];
                    return this.isIntersecting(e) ? (this.containsPosition(e.start) && t41.push(new oa(this.start, e.start)), this.containsPosition(e.end) && t41.push(new oa(e.end, this.end))) : t41.push(new oa(this.start, this.end)), t41;
                }
                getIntersection(e) {
                    if (this.isIntersecting(e)) {
                        let t41 = this.start, i25 = this.end;
                        return this.containsPosition(e.start) && (t41 = e.start), this.containsPosition(e.end) && (i25 = e.end), new oa(t41, i25);
                    }
                    return null;
                }
                getJoined(e, t = !1) {
                    let i25 = this.isIntersecting(e);
                    if (i25 || (i25 = this.start.isBefore(e.start) ? t ? this.end.isTouching(e.start) : this.end.isEqual(e.start) : t ? e.end.isTouching(this.start) : e.end.isEqual(this.start)), !i25) return null;
                    let n14 = this.start, o4 = this.end;
                    return e.start.isBefore(n14) && (n14 = e.start), e.end.isAfter(o4) && (o4 = e.end), new oa(n14, o4);
                }
                getMinimalFlatRanges() {
                    const e66 = [], t41 = this.start.getCommonPath(this.end).length, i25 = ea._createAt(this.start);
                    let n14 = i25.parent;
                    for(; i25.path.length > t41 + 1;){
                        const t42 = n14.maxOffset - i25.offset;
                        0 !== t42 && e66.push(new oa(i25, i25.getShiftedBy(t42))), i25.path = i25.path.slice(0, -1), i25.offset++, n14 = n14.parent;
                    }
                    for(; i25.path.length <= this.end.path.length;){
                        const t42 = this.end.path[i25.path.length - 1], n15 = t42 - i25.offset;
                        0 !== n15 && e66.push(new oa(i25, i25.getShiftedBy(n15))), i25.offset = t42, i25.path.push(0);
                    }
                    return e66;
                }
                getWalker(e = {
                }) {
                    return e.boundaries = this, new Zs(e);
                }
                *getItems(e = {
                }) {
                    e.boundaries = this, e.ignoreElementEnd = !0;
                    const t41 = new Zs(e);
                    for (const e66 of t41)yield e66.item;
                }
                *getPositions(e = {
                }) {
                    e.boundaries = this;
                    const t41 = new Zs(e);
                    yield t41.position;
                    for (const e66 of t41)yield e66.nextPosition;
                }
                getTransformedByOperation(e) {
                    switch(e.type){
                        case "insert":
                            return this._getTransformedByInsertOperation(e);
                        case "move":
                        case "remove":
                        case "reinsert":
                            return this._getTransformedByMoveOperation(e);
                        case "split":
                            return [
                                this._getTransformedBySplitOperation(e)
                            ];
                        case "merge":
                            return [
                                this._getTransformedByMergeOperation(e)
                            ];
                    }
                    return [
                        new oa(this.start, this.end)
                    ];
                }
                getTransformedByOperations(e) {
                    const t41 = [
                        new oa(this.start, this.end)
                    ];
                    for (const i25 of e)for(let e66 = 0; e66 < t41.length; e66++){
                        const n14 = t41[e66].getTransformedByOperation(i25);
                        t41.splice(e66, 1, ...n14), e66 += n14.length - 1;
                    }
                    for(let e67 = 0; e67 < t41.length; e67++){
                        const i26 = t41[e67];
                        for(let n14 = e67 + 1; n14 < t41.length; n14++){
                            const e68 = t41[n14];
                            (i26.containsRange(e68) || e68.containsRange(i26) || i26.isEqual(e68)) && t41.splice(n14, 1);
                        }
                    }
                    return t41;
                }
                getCommonAncestor() {
                    return this.start.getCommonAncestor(this.end);
                }
                getContainedElement() {
                    if (this.isCollapsed) return null;
                    const e66 = this.start.nodeAfter, t41 = this.end.nodeBefore;
                    return e66 && e66.is("element") && e66 === t41 ? e66 : null;
                }
                toJSON() {
                    return {
                        start: this.start.toJSON(),
                        end: this.end.toJSON()
                    };
                }
                clone() {
                    return new this.constructor(this.start, this.end);
                }
                _getTransformedByInsertOperation(e, t = !1) {
                    return this._getTransformedByInsertion(e.position, e.howMany, t);
                }
                _getTransformedByMoveOperation(e, t = !1) {
                    const i25 = e.sourcePosition, n14 = e.howMany, o4 = e.targetPosition;
                    return this._getTransformedByMove(i25, o4, n14, t);
                }
                _getTransformedBySplitOperation(e) {
                    const t41 = this.start._getTransformedBySplitOperation(e);
                    let i25 = this.end._getTransformedBySplitOperation(e);
                    return this.end.isEqual(e.insertionPosition) && (i25 = this.end.getShiftedBy(1)), t41.root != i25.root && (i25 = this.end.getShiftedBy(-1)), new oa(t41, i25);
                }
                _getTransformedByMergeOperation(e) {
                    if (this.start.isEqual(e.targetPosition) && this.end.isEqual(e.deletionPosition)) return new oa(this.start);
                    let t41 = this.start._getTransformedByMergeOperation(e), i25 = this.end._getTransformedByMergeOperation(e);
                    return t41.root != i25.root && (i25 = this.end.getShiftedBy(-1)), t41.isAfter(i25) ? (e.sourcePosition.isBefore(e.targetPosition) ? (t41 = ea._createAt(i25), t41.offset = 0) : (e.deletionPosition.isEqual(t41) || (i25 = e.deletionPosition), t41 = e.targetPosition), new oa(t41, i25)) : new oa(t41, i25);
                }
                _getTransformedByInsertion(e, t, i = !1) {
                    if (i && this.containsPosition(e)) return [
                        new oa(this.start, e),
                        new oa(e.getShiftedBy(t), this.end._getTransformedByInsertion(e, t))
                    ];
                    {
                        const i25 = new oa(this.start, this.end);
                        return i25.start = i25.start._getTransformedByInsertion(e, t), i25.end = i25.end._getTransformedByInsertion(e, t), [
                            i25
                        ];
                    }
                }
                _getTransformedByMove(e, t, i, n = !1) {
                    if (this.isCollapsed) {
                        const n14 = this.start._getTransformedByMove(e, t, i);
                        return [
                            new oa(n14)
                        ];
                    }
                    const o4 = oa._createFromPositionAndShift(e, i), r6 = t._getTransformedByDeletion(e, i);
                    if (this.containsPosition(t) && !n && (o4.containsPosition(this.start) || o4.containsPosition(this.end))) {
                        const n14 = this.start._getTransformedByMove(e, t, i), o5 = this.end._getTransformedByMove(e, t, i);
                        return [
                            new oa(n14, o5)
                        ];
                    }
                    let s5;
                    const a4 = this.getDifference(o4);
                    let c7 = null;
                    const l4 = this.getIntersection(o4);
                    if (1 == a4.length ? c7 = new oa(a4[0].start._getTransformedByDeletion(e, i), a4[0].end._getTransformedByDeletion(e, i)) : 2 == a4.length && (c7 = new oa(this.start, this.end._getTransformedByDeletion(e, i))), s5 = c7 ? c7._getTransformedByInsertion(r6, i, null !== l4 || n) : [], l4) {
                        const e66 = new oa(l4.start._getCombined(o4.start, r6), l4.end._getCombined(o4.start, r6));
                        2 == s5.length ? s5.splice(1, 0, e66) : s5.push(e66);
                    }
                    return s5;
                }
                _getTransformedByDeletion(e, t) {
                    let i25 = this.start._getTransformedByDeletion(e, t), n14 = this.end._getTransformedByDeletion(e, t);
                    return null == i25 && null == n14 ? null : (null == i25 && (i25 = e), null == n14 && (n14 = e), new oa(i25, n14));
                }
                static _createFromPositionAndShift(e, t) {
                    const i25 = e, n14 = e.getShiftedBy(t);
                    return t > 0 ? new this(i25, n14) : new this(n14, i25);
                }
                static _createIn(e) {
                    return new this(ea._createAt(e, 0), ea._createAt(e, e.maxOffset));
                }
                static _createOn(e) {
                    return this._createFromPositionAndShift(ea._createBefore(e), e.offsetSize);
                }
                static _createFromRanges(e) {
                    if (0 === e.length) throw new c2.a("range-create-from-ranges-empty-array", null);
                    if (1 == e.length) return e[0].clone();
                    const t41 = e[0];
                    e.sort((e66, t42)=>e66.start.isAfter(t42.start) ? 1 : -1
                    );
                    const i25 = e.indexOf(t41), n14 = new this(t41.start, t41.end);
                    if (i25 > 0) for(let t42 = i25 - 1; e[t42].end.isEqual(n14.start); t42++)n14.start = ea._createAt(e[t42].start);
                    for(let t43 = i25 + 1; t43 < e.length && e[t43].start.isEqual(n14.end); t43++)n14.end = ea._createAt(e[t43].end);
                    return n14;
                }
                static fromJSON(e, t) {
                    return new this(ea.fromJSON(e.start, t), ea.fromJSON(e.end, t));
                }
            }
            class ra {
                constructor(){
                    this._modelToViewMapping = new WeakMap, this._viewToModelMapping = new WeakMap, this._viewToModelLengthCallbacks = new Map, this._markerNameToElements = new Map, this._elementToMarkerNames = new Map, this._unboundMarkerNames = new Set, this.on("modelToViewPosition", (e66, t41)=>{
                        if (t41.viewPosition) return;
                        const i25 = this._modelToViewMapping.get(t41.modelPosition.parent);
                        t41.viewPosition = this.findPositionIn(i25, t41.modelPosition.offset);
                    }, {
                        priority: "low"
                    }), this.on("viewToModelPosition", (e66, t41)=>{
                        if (t41.modelPosition) return;
                        const i25 = this.findMappedViewAncestor(t41.viewPosition), n14 = this._viewToModelMapping.get(i25), o4 = this._toModelOffset(t41.viewPosition.parent, t41.viewPosition.offset, i25);
                        t41.modelPosition = ea._createAt(n14, o4);
                    }, {
                        priority: "low"
                    });
                }
                bindElements(e, t) {
                    this._modelToViewMapping.set(e, t), this._viewToModelMapping.set(t, e);
                }
                unbindViewElement(e) {
                    const t41 = this.toModelElement(e);
                    if (this._viewToModelMapping.delete(e), this._elementToMarkerNames.has(e)) for (const t42 of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(t42);
                    this._modelToViewMapping.get(t41) == e && this._modelToViewMapping.delete(t41);
                }
                unbindModelElement(e) {
                    const t41 = this.toViewElement(e);
                    this._modelToViewMapping.delete(e), this._viewToModelMapping.get(t41) == e && this._viewToModelMapping.delete(t41);
                }
                bindElementToMarker(e, t) {
                    const i25 = this._markerNameToElements.get(t) || new Set;
                    i25.add(e);
                    const n14 = this._elementToMarkerNames.get(e) || new Set;
                    n14.add(t), this._markerNameToElements.set(t, i25), this._elementToMarkerNames.set(e, n14);
                }
                unbindElementFromMarkerName(e, t) {
                    const i25 = this._markerNameToElements.get(t);
                    i25 && (i25.delete(e), 0 == i25.size && this._markerNameToElements.delete(t));
                    const n14 = this._elementToMarkerNames.get(e);
                    n14 && (n14.delete(t), 0 == n14.size && this._elementToMarkerNames.delete(e));
                }
                flushUnboundMarkerNames() {
                    const e66 = Array.from(this._unboundMarkerNames);
                    return this._unboundMarkerNames.clear(), e66;
                }
                clearBindings() {
                    this._modelToViewMapping = new WeakMap, this._viewToModelMapping = new WeakMap, this._markerNameToElements = new Map, this._elementToMarkerNames = new Map, this._unboundMarkerNames = new Set;
                }
                toModelElement(e) {
                    return this._viewToModelMapping.get(e);
                }
                toViewElement(e) {
                    return this._modelToViewMapping.get(e);
                }
                toModelRange(e) {
                    return new oa(this.toModelPosition(e.start), this.toModelPosition(e.end));
                }
                toViewRange(e) {
                    return new lo(this.toViewPosition(e.start), this.toViewPosition(e.end));
                }
                toModelPosition(e) {
                    const t41 = {
                        viewPosition: e,
                        mapper: this
                    };
                    return this.fire("viewToModelPosition", t41), t41.modelPosition;
                }
                toViewPosition(e, t = {
                    isPhantom: !1
                }) {
                    const i25 = {
                        modelPosition: e,
                        mapper: this,
                        isPhantom: t.isPhantom
                    };
                    return this.fire("modelToViewPosition", i25), i25.viewPosition;
                }
                markerNameToElements(e) {
                    const t41 = this._markerNameToElements.get(e);
                    if (!t41) return null;
                    const i25 = new Set;
                    for (const e66 of t41)if (e66.is("attributeElement")) for (const t42 of e66.getElementsWithSameId())i25.add(t42);
                    else i25.add(e66);
                    return i25;
                }
                registerViewToModelLength(e, t) {
                    this._viewToModelLengthCallbacks.set(e, t);
                }
                findMappedViewAncestor(e) {
                    let t41 = e.parent;
                    for(; !this._viewToModelMapping.has(t41);)t41 = t41.parent;
                    return t41;
                }
                _toModelOffset(e, t, i) {
                    if (i != e) return this._toModelOffset(e.parent, e.index, i) + this._toModelOffset(e, t, e);
                    if (e.is("$text")) return t;
                    let n14 = 0;
                    for(let i25 = 0; i25 < t; i25++)n14 += this.getModelLength(e.getChild(i25));
                    return n14;
                }
                getModelLength(e) {
                    if (this._viewToModelLengthCallbacks.get(e.name)) return this._viewToModelLengthCallbacks.get(e.name)(e);
                    if (this._viewToModelMapping.has(e)) return 1;
                    if (e.is("$text")) return e.data.length;
                    if (e.is("uiElement")) return 0;
                    {
                        let t41 = 0;
                        for (const i25 of e.getChildren())t41 += this.getModelLength(i25);
                        return t41;
                    }
                }
                findPositionIn(e, t) {
                    let i25, n14 = 0, o4 = 0, r6 = 0;
                    if (e.is("$text")) return new co(e, t);
                    for(; o4 < t;)i25 = e.getChild(r6), n14 = this.getModelLength(i25), o4 += n14, r6++;
                    return o4 == t ? this._moveViewPositionToTextNode(new co(e, r6)) : this.findPositionIn(i25, t - (o4 - n14));
                }
                _moveViewPositionToTextNode(e) {
                    const t41 = e.nodeBefore, i25 = e.nodeAfter;
                    return t41 instanceof hn ? new co(t41, t41.data.length) : i25 instanceof hn ? new co(i25, 0) : e;
                }
            }
            Ke(ra, h1);
            class sa {
                constructor(){
                    this._consumable = new Map, this._textProxyRegistry = new Map;
                }
                add(e, t) {
                    t = aa(t), e instanceof Ks && (e = this._getSymbolForTextProxy(e)), this._consumable.has(e) || this._consumable.set(e, new Map), this._consumable.get(e).set(t, !0);
                }
                consume(e, t) {
                    return t = aa(t), e instanceof Ks && (e = this._getSymbolForTextProxy(e)), !!this.test(e, t) && (this._consumable.get(e).set(t, !1), !0);
                }
                test(e, t) {
                    t = aa(t), e instanceof Ks && (e = this._getSymbolForTextProxy(e));
                    const i25 = this._consumable.get(e);
                    if ((void 0) === i25) return null;
                    const n14 = i25.get(t);
                    return (void 0) === n14 ? null : n14;
                }
                revert(e, t) {
                    t = aa(t), e instanceof Ks && (e = this._getSymbolForTextProxy(e));
                    const i25 = this.test(e, t);
                    return !1 === i25 ? (this._consumable.get(e).set(t, !0), !0) : !0 !== i25 && null;
                }
                _getSymbolForTextProxy(e) {
                    let t41 = null;
                    const i25 = this._textProxyRegistry.get(e.startOffset);
                    if (i25) {
                        const n14 = i25.get(e.endOffset);
                        n14 && (t41 = n14.get(e.parent));
                    }
                    return t41 || (t41 = this._addSymbolForTextProxy(e.startOffset, e.endOffset, e.parent)), t41;
                }
                _addSymbolForTextProxy(e, t, i) {
                    const n14 = Symbol("textProxySymbol");
                    let o4, r6;
                    return o4 = this._textProxyRegistry.get(e), o4 || (o4 = new Map, this._textProxyRegistry.set(e, o4)), r6 = o4.get(t), r6 || (r6 = new Map, o4.set(t, r6)), r6.set(i, n14), n14;
                }
            }
            function aa(e66) {
                const t41 = e66.split(":");
                return "addMarker" == t41[0] || "removeMarker" == t41[0] ? e66 : t41.length > 1 ? t41[0] + ":" + t41[1] : t41[0];
            }
            class ca {
                constructor(e66){
                    this.conversionApi = Object.assign({
                        dispatcher: this
                    }, e66), this._reconversionEventsMapping = new Map;
                }
                convertChanges(e, t, i) {
                    for (const t41 of e.getMarkersToRemove())this.convertMarkerRemove(t41.name, t41.range, i);
                    const n14 = this._mapChangesWithAutomaticReconversion(e);
                    for (const e67 of n14)"insert" === e67.type ? this.convertInsert(oa._createFromPositionAndShift(e67.position, e67.length), i) : "remove" === e67.type ? this.convertRemove(e67.position, e67.length, e67.name, i) : "reconvert" === e67.type ? this.reconvertElement(e67.element, i) : this.convertAttribute(e67.range, e67.attributeKey, e67.attributeOldValue, e67.attributeNewValue, i);
                    for (const e68 of this.conversionApi.mapper.flushUnboundMarkerNames()){
                        const n15 = t.get(e68).getRange();
                        this.convertMarkerRemove(e68, n15, i), this.convertMarkerAdd(e68, n15, i);
                    }
                    for (const t42 of e.getMarkersToAdd())this.convertMarkerAdd(t42.name, t42.range, i);
                }
                convertInsert(e, t) {
                    this.conversionApi.writer = t, this.conversionApi.consumable = this._createInsertConsumable(e);
                    for (const t41 of Array.from(e).map(da))this._convertInsertWithAttributes(t41);
                    this._clearConversionApi();
                }
                convertRemove(e, t, i, n) {
                    this.conversionApi.writer = n, this.fire("remove:" + i, {
                        position: e,
                        length: t
                    }, this.conversionApi), this._clearConversionApi();
                }
                convertAttribute(e, t, i, n, o) {
                    this.conversionApi.writer = o, this.conversionApi.consumable = this._createConsumableForRange(e, "attribute:" + t);
                    for (const o4 of e){
                        const e67 = {
                            item: o4.item,
                            range: oa._createFromPositionAndShift(o4.previousPosition, o4.length),
                            attributeKey: t,
                            attributeOldValue: i,
                            attributeNewValue: n
                        };
                        this._testAndFire("attribute:" + t, e67);
                    }
                    this._clearConversionApi();
                }
                reconvertElement(e, t) {
                    const i25 = oa._createOn(e);
                    this.conversionApi.writer = t, this.conversionApi.consumable = this._createInsertConsumable(i25);
                    const n14 = this.conversionApi.mapper, o4 = n14.toViewElement(e);
                    t.remove(o4), this._convertInsertWithAttributes({
                        item: e,
                        range: i25
                    });
                    const r6 = n14.toViewElement(e);
                    for (const i26 of oa._createIn(e)){
                        const { item: e67  } = i26, o5 = ha(e67, n14);
                        o5 ? o5.root !== r6.root && t.move(t.createRangeOn(o5), n14.toViewPosition(ea._createBefore(e67))) : this._convertInsertWithAttributes(da(i26));
                    }
                    n14.unbindViewElement(o4), this._clearConversionApi();
                }
                convertSelection(e, t, i) {
                    const n14 = Array.from(t.getMarkersAtPosition(e.getFirstPosition()));
                    if (this.conversionApi.writer = i, this.conversionApi.consumable = this._createSelectionConsumable(e, n14), this.fire("selection", {
                        selection: e
                    }, this.conversionApi), e.isCollapsed) {
                        for (const t41 of n14){
                            const i25 = t41.getRange();
                            if (!la(e.getFirstPosition(), t41, this.conversionApi.mapper)) continue;
                            const n15 = {
                                item: e,
                                markerName: t41.name,
                                markerRange: i25
                            };
                            this.conversionApi.consumable.test(e, "addMarker:" + t41.name) && this.fire("addMarker:" + t41.name, n15, this.conversionApi);
                        }
                        for (const t42 of e.getAttributeKeys()){
                            const i25 = {
                                item: e,
                                range: e.getFirstRange(),
                                attributeKey: t42,
                                attributeOldValue: null,
                                attributeNewValue: e.getAttribute(t42)
                            };
                            this.conversionApi.consumable.test(e, "attribute:" + i25.attributeKey) && this.fire("attribute:" + i25.attributeKey + ":$text", i25, this.conversionApi);
                        }
                        this._clearConversionApi();
                    } else this._clearConversionApi();
                }
                convertMarkerAdd(e, t, i) {
                    if ("$graveyard" == t.root.rootName) return;
                    this.conversionApi.writer = i;
                    const n14 = "addMarker:" + e, o4 = new sa;
                    if (o4.add(t, n14), this.conversionApi.consumable = o4, this.fire(n14, {
                        markerName: e,
                        markerRange: t
                    }, this.conversionApi), o4.test(t, n14)) {
                        this.conversionApi.consumable = this._createConsumableForRange(t, n14);
                        for (const i25 of t.getItems()){
                            if (!this.conversionApi.consumable.test(i25, n14)) continue;
                            const o5 = {
                                item: i25,
                                range: oa._createOn(i25),
                                markerName: e,
                                markerRange: t
                            };
                            this.fire(n14, o5, this.conversionApi);
                        }
                        this._clearConversionApi();
                    } else this._clearConversionApi();
                }
                convertMarkerRemove(e, t, i) {
                    "$graveyard" != t.root.rootName && (this.conversionApi.writer = i, this.fire("removeMarker:" + e, {
                        markerName: e,
                        markerRange: t
                    }, this.conversionApi), this._clearConversionApi());
                }
                _mapReconversionTriggerEvent(e, t) {
                    this._reconversionEventsMapping.set(t, e);
                }
                _createInsertConsumable(e) {
                    const t41 = new sa;
                    for (const i25 of e){
                        const e67 = i25.item;
                        t41.add(e67, "insert");
                        for (const i26 of e67.getAttributeKeys())t41.add(e67, "attribute:" + i26);
                    }
                    return t41;
                }
                _createConsumableForRange(e, t) {
                    const i25 = new sa;
                    for (const n14 of e.getItems())i25.add(n14, t);
                    return i25;
                }
                _createSelectionConsumable(e, t) {
                    const i25 = new sa;
                    i25.add(e, "selection");
                    for (const n14 of t)i25.add(e, "addMarker:" + n14.name);
                    for (const t41 of e.getAttributeKeys())i25.add(e, "attribute:" + t41);
                    return i25;
                }
                _testAndFire(e, t) {
                    this.conversionApi.consumable.test(t.item, e) && this.fire(function(e67, t41) {
                        const i25 = t41.item.name || "$text";
                        return `${e67}:${i25}`;
                    }(e, t), t, this.conversionApi);
                }
                _clearConversionApi() {
                    delete this.conversionApi.writer, delete this.conversionApi.consumable;
                }
                _convertInsertWithAttributes(e) {
                    this._testAndFire("insert", e);
                    for (const t41 of e.item.getAttributeKeys())e.attributeKey = t41, e.attributeOldValue = null, e.attributeNewValue = e.item.getAttribute(t41), this._testAndFire("attribute:" + t41, e);
                }
                _mapChangesWithAutomaticReconversion(e) {
                    const t41 = new Set, i25 = [];
                    for (const n14 of e.getChanges()){
                        const e67 = n14.position || n14.range.start, o4 = e67.parent;
                        if (ta(e67, o4)) {
                            i25.push(n14);
                            continue;
                        }
                        const r6 = "attribute" === n14.type ? ia(e67, o4, null) : o4;
                        if (r6.is("$text")) {
                            i25.push(n14);
                            continue;
                        }
                        let s5;
                        if (s5 = "attribute" === n14.type ? `attribute:${n14.attributeKey}:${r6.name}` : `${n14.type}:${n14.name}`, this._isReconvertTriggerEvent(s5, r6.name)) {
                            if (t41.has(r6)) continue;
                            t41.add(r6), i25.push({
                                type: "reconvert",
                                element: r6
                            });
                        } else i25.push(n14);
                    }
                    return i25;
                }
                _isReconvertTriggerEvent(e, t) {
                    return this._reconversionEventsMapping.get(e) === t;
                }
            }
            function la(e67, t41, i25) {
                const n14 = t41.getRange(), o4 = Array.from(e67.getAncestors());
                o4.shift(), o4.reverse();
                return !o4.some((e68)=>{
                    if (n14.containsItem(e68)) return !!i25.toViewElement(e68).getCustomProperty("addHighlight");
                });
            }
            function da(e67) {
                return {
                    item: e67.item,
                    range: oa._createFromPositionAndShift(e67.previousPosition, e67.length)
                };
            }
            function ha(e67, t41) {
                if (e67.is("textProxy")) {
                    const i25 = t41.toViewPosition(ea._createBefore(e67)).parent;
                    return i25.is("$text") ? i25 : null;
                }
                return t41.toViewElement(e67);
            }
            Ke(ca, h1);
            class ua {
                constructor(e67, t41, i25){
                    this._lastRangeBackward = !1, this._ranges = [], this._attrs = new Map, e67 && this.setTo(e67, t41, i25);
                }
                get anchor() {
                    if (this._ranges.length > 0) {
                        const e68 = this._ranges[this._ranges.length - 1];
                        return this._lastRangeBackward ? e68.end : e68.start;
                    }
                    return null;
                }
                get focus() {
                    if (this._ranges.length > 0) {
                        const e68 = this._ranges[this._ranges.length - 1];
                        return this._lastRangeBackward ? e68.start : e68.end;
                    }
                    return null;
                }
                get isCollapsed() {
                    return 1 === this._ranges.length && this._ranges[0].isCollapsed;
                }
                get rangeCount() {
                    return this._ranges.length;
                }
                get isBackward() {
                    return !this.isCollapsed && this._lastRangeBackward;
                }
                isEqual(e) {
                    if (this.rangeCount != e.rangeCount) return !1;
                    if (0 === this.rangeCount) return !0;
                    if (!this.anchor.isEqual(e.anchor) || !this.focus.isEqual(e.focus)) return !1;
                    for (const t42 of this._ranges){
                        let i26 = !1;
                        for (const n14 of e._ranges)if (t42.isEqual(n14)) {
                            i26 = !0;
                            break;
                        }
                        if (!i26) return !1;
                    }
                    return !0;
                }
                *getRanges() {
                    for (const e68 of this._ranges)yield new oa(e68.start, e68.end);
                }
                getFirstRange() {
                    let e68 = null;
                    for (const t42 of this._ranges)e68 && !t42.start.isBefore(e68.start) || (e68 = t42);
                    return e68 ? new oa(e68.start, e68.end) : null;
                }
                getLastRange() {
                    let e68 = null;
                    for (const t42 of this._ranges)e68 && !t42.end.isAfter(e68.end) || (e68 = t42);
                    return e68 ? new oa(e68.start, e68.end) : null;
                }
                getFirstPosition() {
                    const e68 = this.getFirstRange();
                    return e68 ? e68.start.clone() : null;
                }
                getLastPosition() {
                    const e68 = this.getLastRange();
                    return e68 ? e68.end.clone() : null;
                }
                setTo(e, t, i) {
                    if (null === e) this._setRanges([]);
                    else if (e instanceof ua) this._setRanges(e.getRanges(), e.isBackward);
                    else if (e && "function" == typeof e.getRanges) this._setRanges(e.getRanges(), e.isBackward);
                    else if (e instanceof oa) this._setRanges([
                        e
                    ], !!t && !!t.backward);
                    else if (e instanceof ea) this._setRanges([
                        new oa(e)
                    ]);
                    else if (e instanceof Ys) {
                        const n14 = !!i && !!i.backward;
                        let o4;
                        if ("in" == t) o4 = oa._createIn(e);
                        else if ("on" == t) o4 = oa._createOn(e);
                        else {
                            if ((void 0) === t) throw new c2.a("model-selection-setto-required-second-parameter", [
                                this,
                                e
                            ]);
                            o4 = new oa(ea._createAt(e, t));
                        }
                        this._setRanges([
                            o4
                        ], n14);
                    } else {
                        if (!Ji(e)) throw new c2.a("model-selection-setto-not-selectable", [
                            this,
                            e
                        ]);
                        this._setRanges(e, t && !!t.backward);
                    }
                }
                _setRanges(e, t = !1) {
                    const i26 = (e = Array.from(e)).some((t42)=>{
                        if (!(t42 instanceof oa)) throw new c2.a("model-selection-set-ranges-not-range", [
                            this,
                            e
                        ]);
                        return this._ranges.every((e68)=>!e68.isEqual(t42)
                        );
                    });
                    if (e.length !== this._ranges.length || i26) {
                        this._removeAllRanges();
                        for (const t42 of e)this._pushRange(t42);
                        this._lastRangeBackward = !!t, this.fire("change:range", {
                            directChange: !0
                        });
                    }
                }
                setFocus(e, t) {
                    if (null === this.anchor) throw new c2.a("model-selection-setfocus-no-ranges", [
                        this,
                        e
                    ]);
                    const i26 = ea._createAt(e, t);
                    if ("same" == i26.compareWith(this.focus)) return;
                    const n14 = this.anchor;
                    this._ranges.length && this._popRange(), "before" == i26.compareWith(n14) ? (this._pushRange(new oa(i26, n14)), this._lastRangeBackward = !0) : (this._pushRange(new oa(n14, i26)), this._lastRangeBackward = !1), this.fire("change:range", {
                        directChange: !0
                    });
                }
                getAttribute(e) {
                    return this._attrs.get(e);
                }
                getAttributes() {
                    return this._attrs.entries();
                }
                getAttributeKeys() {
                    return this._attrs.keys();
                }
                hasAttribute(e) {
                    return this._attrs.has(e);
                }
                removeAttribute(e) {
                    this.hasAttribute(e) && (this._attrs.delete(e), this.fire("change:attribute", {
                        attributeKeys: [
                            e
                        ],
                        directChange: !0
                    }));
                }
                setAttribute(e, t) {
                    this.getAttribute(e) !== t && (this._attrs.set(e, t), this.fire("change:attribute", {
                        attributeKeys: [
                            e
                        ],
                        directChange: !0
                    }));
                }
                getSelectedElement() {
                    return 1 !== this.rangeCount ? null : this.getFirstRange().getContainedElement();
                }
                is(e) {
                    return "selection" === e || "model:selection" === e;
                }
                *getSelectedBlocks() {
                    const e68 = new WeakSet;
                    for (const t42 of this.getRanges()){
                        const i26 = fa(t42.start, e68);
                        i26 && pa(i26, t42) && (yield i26);
                        for (const i27 of t42.getWalker()){
                            const n14 = i27.item;
                            "elementEnd" == i27.type && ma(n14, e68, t42) && (yield n14);
                        }
                        const n14 = fa(t42.end, e68);
                        n14 && !t42.end.isTouching(ea._createAt(n14, 0)) && pa(n14, t42) && (yield n14);
                    }
                }
                containsEntireContent(e = this.anchor.root) {
                    const t42 = ea._createAt(e, 0), i26 = ea._createAt(e, "end");
                    return t42.isTouching(this.getFirstPosition()) && i26.isTouching(this.getLastPosition());
                }
                _pushRange(e) {
                    this._checkRange(e), this._ranges.push(new oa(e.start, e.end));
                }
                _checkRange(e) {
                    for(let t42 = 0; t42 < this._ranges.length; t42++)if (e.isIntersecting(this._ranges[t42])) throw new c2.a("model-selection-range-intersects", [
                        this,
                        e
                    ], {
                        addedRange: e,
                        intersectingRange: this._ranges[t42]
                    });
                }
                _removeAllRanges() {
                    for(; this._ranges.length > 0;)this._popRange();
                }
                _popRange() {
                    this._ranges.pop();
                }
            }
            function ga(e68, t42) {
                return !t42.has(e68) && (t42.add(e68), e68.root.document.model.schema.isBlock(e68) && e68.parent);
            }
            function ma(e68, t42, i26) {
                return ga(e68, t42) && pa(e68, i26);
            }
            function fa(e68, t42) {
                const i26 = e68.parent.root.document.model.schema, n14 = e68.parent.getAncestors({
                    parentFirst: !0,
                    includeSelf: !0
                });
                let o4 = !1;
                const r6 = n14.find((e69)=>!o4 && (o4 = i26.isLimit(e69), !o4 && ga(e69, t42))
                );
                return n14.forEach((e69)=>t42.add(e69)
                ), r6;
            }
            function pa(e68, t42) {
                const i26 = function(e69) {
                    const t43 = e69.root.document.model.schema;
                    let i27 = e69.parent;
                    for(; i27;){
                        if (t43.isBlock(i27)) return i27;
                        i27 = i27.parent;
                    }
                }(e68);
                if (!i26) return !0;
                return !t42.containsRange(oa._createOn(i26), !0);
            }
            Ke(ua, h1);
            class ba extends oa {
                constructor(e68, t42){
                    super(e68, t42), wa.call(this);
                }
                detach() {
                    this.stopListening();
                }
                is(e) {
                    return "liveRange" === e || "model:liveRange" === e || "range" == e || "model:range" === e;
                }
                toRange() {
                    return new oa(this.start, this.end);
                }
                static fromRange(e) {
                    return new ba(e.start, e.end);
                }
            }
            function wa() {
                this.listenTo(this.root.document.model, "applyOperation", (e69, t43)=>{
                    const i26 = t43[0];
                    i26.isDocumentOperation && ka.call(this, i26);
                }, {
                    priority: "low"
                });
            }
            function ka(e69) {
                const t43 = this.getTransformedByOperation(e69), i26 = oa._createFromRanges(t43), n14 = !i26.isEqual(this), o4 = function(e70, t44) {
                    switch(t44.type){
                        case "insert":
                            return e70.containsPosition(t44.position);
                        case "move":
                        case "remove":
                        case "reinsert":
                        case "merge":
                            return e70.containsPosition(t44.sourcePosition) || e70.start.isEqual(t44.sourcePosition) || e70.containsPosition(t44.targetPosition);
                        case "split":
                            return e70.containsPosition(t44.splitPosition) || e70.containsPosition(t44.insertionPosition);
                    }
                    return !1;
                }(this, e69);
                let r6 = null;
                if (n14) {
                    "$graveyard" == i26.root.rootName && (r6 = "remove" == e69.type ? e69.sourcePosition : e69.deletionPosition);
                    const t44 = this.toRange();
                    this.start = i26.start, this.end = i26.end, this.fire("change:range", t44, {
                        deletionPosition: r6
                    });
                } else o4 && this.fire("change:content", this.toRange(), {
                    deletionPosition: r6
                });
            }
            Ke(ba, h1);
            class _a {
                constructor(e69){
                    this._selection = new va(e69), this._selection.delegate("change:range").to(this), this._selection.delegate("change:attribute").to(this), this._selection.delegate("change:marker").to(this);
                }
                get isCollapsed() {
                    return this._selection.isCollapsed;
                }
                get anchor() {
                    return this._selection.anchor;
                }
                get focus() {
                    return this._selection.focus;
                }
                get rangeCount() {
                    return this._selection.rangeCount;
                }
                get hasOwnRange() {
                    return this._selection.hasOwnRange;
                }
                get isBackward() {
                    return this._selection.isBackward;
                }
                get isGravityOverridden() {
                    return this._selection.isGravityOverridden;
                }
                get markers() {
                    return this._selection.markers;
                }
                get _ranges() {
                    return this._selection._ranges;
                }
                getRanges() {
                    return this._selection.getRanges();
                }
                getFirstPosition() {
                    return this._selection.getFirstPosition();
                }
                getLastPosition() {
                    return this._selection.getLastPosition();
                }
                getFirstRange() {
                    return this._selection.getFirstRange();
                }
                getLastRange() {
                    return this._selection.getLastRange();
                }
                getSelectedBlocks() {
                    return this._selection.getSelectedBlocks();
                }
                getSelectedElement() {
                    return this._selection.getSelectedElement();
                }
                containsEntireContent(e) {
                    return this._selection.containsEntireContent(e);
                }
                destroy() {
                    this._selection.destroy();
                }
                getAttributeKeys() {
                    return this._selection.getAttributeKeys();
                }
                getAttributes() {
                    return this._selection.getAttributes();
                }
                getAttribute(e) {
                    return this._selection.getAttribute(e);
                }
                hasAttribute(e) {
                    return this._selection.hasAttribute(e);
                }
                refresh() {
                    this._selection._updateMarkers(), this._selection._updateAttributes(!1);
                }
                observeMarkers(e) {
                    this._selection.observeMarkers(e);
                }
                is(e) {
                    return "selection" === e || "model:selection" == e || "documentSelection" == e || "model:documentSelection" == e;
                }
                _setFocus(e, t) {
                    this._selection.setFocus(e, t);
                }
                _setTo(e, t, i) {
                    this._selection.setTo(e, t, i);
                }
                _setAttribute(e, t) {
                    this._selection.setAttribute(e, t);
                }
                _removeAttribute(e) {
                    this._selection.removeAttribute(e);
                }
                _getStoredAttributes() {
                    return this._selection._getStoredAttributes();
                }
                _overrideGravity() {
                    return this._selection.overrideGravity();
                }
                _restoreGravity(e) {
                    this._selection.restoreGravity(e);
                }
                static _getStoreAttributeKey(e) {
                    return "selection:" + e;
                }
                static _isStoreAttributeKey(e) {
                    return e.startsWith("selection:");
                }
            }
            Ke(_a, h1);
            class va extends ua {
                constructor(e70){
                    super(), this.markers = new Zi({
                        idProperty: "name"
                    }), this._model = e70.model, this._document = e70, this._attributePriority = new Map, this._selectionRestorePosition = null, this._hasChangedRange = !1, this._overriddenGravityRegister = new Set, this._observedMarkers = new Set, this.listenTo(this._model, "applyOperation", (e71, t43)=>{
                        const i26 = t43[0];
                        i26.isDocumentOperation && "marker" != i26.type && "rename" != i26.type && "noop" != i26.type && (0 == this._ranges.length && this._selectionRestorePosition && this._fixGraveyardSelection(this._selectionRestorePosition), this._selectionRestorePosition = null, this._hasChangedRange && (this._hasChangedRange = !1, this.fire("change:range", {
                            directChange: !1
                        })));
                    }, {
                        priority: "lowest"
                    }), this.on("change:range", ()=>{
                        for (const e71 of this.getRanges())if (!this._document._validateSelectionRange(e71)) throw new c2.a("document-selection-wrong-position", this, {
                            range: e71
                        });
                    }), this.listenTo(this._model.markers, "update", (e71, t43, i26, n14)=>{
                        this._updateMarker(t43, n14);
                    }), this.listenTo(this._document, "change", (e71, t43)=>{
                        !function(e72, t44) {
                            const i26 = e72.document.differ;
                            for (const n14 of i26.getChanges()){
                                if ("insert" != n14.type) continue;
                                const i27 = n14.position.parent;
                                n14.length === i27.maxOffset && e72.enqueueChange(t44, (e73)=>{
                                    const t45 = Array.from(i27.getAttributeKeys()).filter((e74)=>e74.startsWith("selection:")
                                    );
                                    for (const n15 of t45)e73.removeAttribute(n15, i27);
                                });
                            }
                        }(this._model, t43);
                    });
                }
                get isCollapsed() {
                    return 0 === this._ranges.length ? this._document._getDefaultRange().isCollapsed : super.isCollapsed;
                }
                get anchor() {
                    return super.anchor || this._document._getDefaultRange().start;
                }
                get focus() {
                    return super.focus || this._document._getDefaultRange().end;
                }
                get rangeCount() {
                    return this._ranges.length ? this._ranges.length : 1;
                }
                get hasOwnRange() {
                    return this._ranges.length > 0;
                }
                get isGravityOverridden() {
                    return !!this._overriddenGravityRegister.size;
                }
                destroy() {
                    for(let e71 = 0; e71 < this._ranges.length; e71++)this._ranges[e71].detach();
                    this.stopListening();
                }
                *getRanges() {
                    this._ranges.length ? yield* super.getRanges() : yield this._document._getDefaultRange();
                }
                getFirstRange() {
                    return super.getFirstRange() || this._document._getDefaultRange();
                }
                getLastRange() {
                    return super.getLastRange() || this._document._getDefaultRange();
                }
                setTo(e, t, i) {
                    super.setTo(e, t, i), this._updateAttributes(!0), this._updateMarkers();
                }
                setFocus(e, t) {
                    super.setFocus(e, t), this._updateAttributes(!0), this._updateMarkers();
                }
                setAttribute(e, t) {
                    if (this._setAttribute(e, t)) {
                        const t43 = [
                            e
                        ];
                        this.fire("change:attribute", {
                            attributeKeys: t43,
                            directChange: !0
                        });
                    }
                }
                removeAttribute(e) {
                    if (this._removeAttribute(e)) {
                        const t43 = [
                            e
                        ];
                        this.fire("change:attribute", {
                            attributeKeys: t43,
                            directChange: !0
                        });
                    }
                }
                overrideGravity() {
                    const e71 = s3();
                    return this._overriddenGravityRegister.add(e71), 1 === this._overriddenGravityRegister.size && this._updateAttributes(!0), e71;
                }
                restoreGravity(e) {
                    if (!this._overriddenGravityRegister.has(e)) throw new c2.a("document-selection-gravity-wrong-restore", this, {
                        uid: e
                    });
                    this._overriddenGravityRegister.delete(e), this.isGravityOverridden || this._updateAttributes(!0);
                }
                observeMarkers(e) {
                    this._observedMarkers.add(e), this._updateMarkers();
                }
                _popRange() {
                    this._ranges.pop().detach();
                }
                _pushRange(e) {
                    const t43 = this._prepareRange(e);
                    t43 && this._ranges.push(t43);
                }
                _prepareRange(e) {
                    if (this._checkRange(e), e.root == this._document.graveyard) return;
                    const t43 = ba.fromRange(e);
                    return t43.on("change:range", (e71, i26, n14)=>{
                        if (this._hasChangedRange = !0, t43.root == this._document.graveyard) {
                            this._selectionRestorePosition = n14.deletionPosition;
                            const e72 = this._ranges.indexOf(t43);
                            this._ranges.splice(e72, 1), t43.detach();
                        }
                    }), t43;
                }
                _updateMarkers() {
                    if (!this._observedMarkers.size) return;
                    const e71 = [];
                    let t43 = !1;
                    for (const t44 of this._model.markers){
                        const i26 = t44.name.split(":", 1)[0];
                        if (!this._observedMarkers.has(i26)) continue;
                        const n14 = t44.getRange();
                        for (const i27 of this.getRanges())n14.containsRange(i27, !i27.isCollapsed) && e71.push(t44);
                    }
                    const i26 = Array.from(this.markers);
                    for (const i27 of e71)this.markers.has(i27) || (this.markers.add(i27), t43 = !0);
                    for (const i28 of Array.from(this.markers))e71.includes(i28) || (this.markers.remove(i28), t43 = !0);
                    t43 && this.fire("change:marker", {
                        oldMarkers: i26,
                        directChange: !1
                    });
                }
                _updateMarker(e, t) {
                    const i26 = e.name.split(":", 1)[0];
                    if (!this._observedMarkers.has(i26)) return;
                    let n14 = !1;
                    const o4 = Array.from(this.markers), r6 = this.markers.has(e);
                    if (t) {
                        let i27 = !1;
                        for (const e71 of this.getRanges())if (t.containsRange(e71, !e71.isCollapsed)) {
                            i27 = !0;
                            break;
                        }
                        i27 && !r6 ? (this.markers.add(e), n14 = !0) : !i27 && r6 && (this.markers.remove(e), n14 = !0);
                    } else r6 && (this.markers.remove(e), n14 = !0);
                    n14 && this.fire("change:marker", {
                        oldMarkers: o4,
                        directChange: !1
                    });
                }
                _updateAttributes(e) {
                    const t43 = gn(this._getSurroundingAttributes()), i26 = gn(this.getAttributes());
                    if (e) this._attributePriority = new Map, this._attrs = new Map;
                    else for (const [e71, t44] of this._attributePriority)"low" == t44 && (this._attrs.delete(e71), this._attributePriority.delete(e71));
                    this._setAttributesTo(t43);
                    const n14 = [];
                    for (const [e72, t45] of this.getAttributes())i26.has(e72) && i26.get(e72) === t45 || n14.push(e72);
                    for (const [e73] of i26)this.hasAttribute(e73) || n14.push(e73);
                    n14.length > 0 && this.fire("change:attribute", {
                        attributeKeys: n14,
                        directChange: !1
                    });
                }
                _setAttribute(e, t, i = !0) {
                    const n14 = i ? "normal" : "low";
                    if ("low" == n14 && "normal" == this._attributePriority.get(e)) return !1;
                    return super.getAttribute(e) !== t && (this._attrs.set(e, t), this._attributePriority.set(e, n14), !0);
                }
                _removeAttribute(e, t = !0) {
                    const i26 = t ? "normal" : "low";
                    return ("low" != i26 || "normal" != this._attributePriority.get(e)) && (this._attributePriority.set(e, i26), !!super.hasAttribute(e) && (this._attrs.delete(e), !0));
                }
                _setAttributesTo(e) {
                    const t43 = new Set;
                    for (const [t44, i26] of this.getAttributes())e.get(t44) !== i26 && this._removeAttribute(t44, !1);
                    for (const [i27, n14] of e)this._setAttribute(i27, n14, !1) && t43.add(i27);
                    return t43;
                }
                *_getStoredAttributes() {
                    const e71 = this.getFirstPosition().parent;
                    if (this.isCollapsed && e71.isEmpty) for (const t43 of e71.getAttributeKeys())if (t43.startsWith("selection:")) {
                        const i26 = t43.substr(10);
                        yield [
                            i26,
                            e71.getAttribute(t43)
                        ];
                    }
                }
                _getSurroundingAttributes() {
                    const e71 = this.getFirstPosition(), t43 = this._model.schema;
                    let i26 = null;
                    if (this.isCollapsed) {
                        const n14 = e71.textNode ? e71.textNode : e71.nodeBefore, o4 = e71.textNode ? e71.textNode : e71.nodeAfter;
                        if (this.isGravityOverridden || (i26 = ya(n14)), i26 || (i26 = ya(o4)), !this.isGravityOverridden && !i26) {
                            let e72 = n14;
                            for(; e72 && !t43.isInline(e72) && !i26;)e72 = e72.previousSibling, i26 = ya(e72);
                        }
                        if (!i26) {
                            let e72 = o4;
                            for(; e72 && !t43.isInline(e72) && !i26;)e72 = e72.nextSibling, i26 = ya(e72);
                        }
                        i26 || (i26 = this._getStoredAttributes());
                    } else {
                        const e72 = this.getFirstRange();
                        for (const n14 of e72){
                            if (n14.item.is("element") && t43.isObject(n14.item)) break;
                            if ("text" == n14.type) {
                                i26 = n14.item.getAttributes();
                                break;
                            }
                        }
                    }
                    return i26;
                }
                _fixGraveyardSelection(e) {
                    const t43 = this._model.schema.getNearestSelectionRange(e);
                    t43 && this._pushRange(t43);
                }
            }
            function ya(e71) {
                return e71 instanceof Ks || e71 instanceof Gs ? e71.getAttributes() : null;
            }
            class xa {
                constructor(e71){
                    this._dispatchers = e71;
                }
                add(e) {
                    for (const t43 of this._dispatchers)e(t43);
                    return this;
                }
            }
            var Aa = function(e72) {
                return qi(e72, 5);
            };
            class Ca extends xa {
                elementToElement(e) {
                    return this.add(function(e72) {
                        return (e72 = Aa(e72)).view = Ia(e72.view, "container"), (t43)=>{
                            var i26;
                            if (t43.on("insert:" + e72.model, (i26 = e72.view, (e73, t44, n14)=>{
                                const o4 = i26(t44.item, n14);
                                if (!o4) return;
                                if (!n14.consumable.consume(t44.item, "insert")) return;
                                const r6 = n14.mapper.toViewPosition(t44.range.start);
                                n14.mapper.bindElements(t44.item, o4), n14.writer.insert(r6, o4);
                            }), {
                                priority: e72.converterPriority || "normal"
                            }), e72.triggerBy) {
                                if (e72.triggerBy.attributes) for (const i27 of e72.triggerBy.attributes)t43._mapReconversionTriggerEvent(e72.model, `attribute:${i27}:${e72.model}`);
                                if (e72.triggerBy.children) for (const i28 of e72.triggerBy.children)t43._mapReconversionTriggerEvent(e72.model, "insert:" + i28), t43._mapReconversionTriggerEvent(e72.model, "remove:" + i28);
                            }
                        };
                    }(e));
                }
                attributeToElement(e) {
                    return this.add(function(e72) {
                        e72 = Aa(e72);
                        let t43 = "attribute:" + (e72.model.key ? e72.model.key : e72.model);
                        e72.model.name && (t43 += ":" + e72.model.name);
                        if (e72.model.values) for (const t44 of e72.model.values)e72.view[t44] = Ia(e72.view[t44], "attribute");
                        else e72.view = Ia(e72.view, "attribute");
                        const i27 = Sa(e72);
                        return (n14)=>{
                            n14.on(t43, function(e73) {
                                return (t45, i28, n15)=>{
                                    const o4 = e73(i28.attributeOldValue, n15), r6 = e73(i28.attributeNewValue, n15);
                                    if (!o4 && !r6) return;
                                    if (!n15.consumable.consume(i28.item, t45.name)) return;
                                    const s5 = n15.writer, a4 = s5.document.selection;
                                    if (i28.item instanceof ua || i28.item instanceof _a) s5.wrap(a4.getFirstRange(), r6);
                                    else {
                                        let e74 = n15.mapper.toViewRange(i28.range);
                                        null !== i28.attributeOldValue && o4 && (e74 = s5.unwrap(e74, o4)), null !== i28.attributeNewValue && r6 && s5.wrap(e74, r6);
                                    }
                                };
                            }(i27), {
                                priority: e72.converterPriority || "normal"
                            });
                        };
                    }(e));
                }
                attributeToAttribute(e) {
                    return this.add(function(e72) {
                        e72 = Aa(e72);
                        let t43 = "attribute:" + (e72.model.key ? e72.model.key : e72.model);
                        e72.model.name && (t43 += ":" + e72.model.name);
                        if (e72.model.values) for (const t44 of e72.model.values)e72.view[t44] = Pa(e72.view[t44]);
                        else e72.view = Pa(e72.view);
                        const i27 = Sa(e72);
                        return (n14)=>{
                            var o4;
                            n14.on(t43, (o4 = i27, (e73, t45, i28)=>{
                                const n15 = o4(t45.attributeOldValue, i28), r6 = o4(t45.attributeNewValue, i28);
                                if (!n15 && !r6) return;
                                if (!i28.consumable.consume(t45.item, e73.name)) return;
                                const s5 = i28.mapper.toViewElement(t45.item), a4 = i28.writer;
                                if (!s5) throw new c2.a("conversion-attribute-to-attribute-on-text", [
                                    t45,
                                    i28
                                ]);
                                if (null !== t45.attributeOldValue && n15) {
                                    if ("class" == n15.key) {
                                        const e74 = en(n15.value);
                                        for (const t46 of e74)a4.removeClass(t46, s5);
                                    } else if ("style" == n15.key) {
                                        const e74 = Object.keys(n15.value);
                                        for (const t46 of e74)a4.removeStyle(t46, s5);
                                    } else a4.removeAttribute(n15.key, s5);
                                }
                                if (null !== t45.attributeNewValue && r6) {
                                    if ("class" == r6.key) {
                                        const e74 = en(r6.value);
                                        for (const t46 of e74)a4.addClass(t46, s5);
                                    } else if ("style" == r6.key) {
                                        const e74 = Object.keys(r6.value);
                                        for (const t46 of e74)a4.setStyle(t46, r6.value[t46], s5);
                                    } else a4.setAttribute(r6.key, r6.value, s5);
                                }
                            }), {
                                priority: e72.converterPriority || "normal"
                            });
                        };
                    }(e));
                }
                markerToElement(e) {
                    return this.add(function(e72) {
                        return (e72 = Aa(e72)).view = Ia(e72.view, "ui"), (t43)=>{
                            var i27;
                            t43.on("addMarker:" + e72.model, (i27 = e72.view, (e73, t44, n14)=>{
                                t44.isOpening = !0;
                                const o5 = i27(t44, n14);
                                t44.isOpening = !1;
                                const r6 = i27(t44, n14);
                                if (!o5 || !r6) return;
                                const s5 = t44.markerRange;
                                if (s5.isCollapsed && !n14.consumable.consume(s5, e73.name)) return;
                                for (const t45 of s5)if (!n14.consumable.consume(t45.item, e73.name)) return;
                                const a4 = n14.mapper, c7 = n14.writer;
                                c7.insert(a4.toViewPosition(s5.start), o5), n14.mapper.bindElementToMarker(o5, t44.markerName), s5.isCollapsed || (c7.insert(a4.toViewPosition(s5.end), r6), n14.mapper.bindElementToMarker(r6, t44.markerName)), e73.stop();
                            }), {
                                priority: e72.converterPriority || "normal"
                            }), t43.on("removeMarker:" + e72.model, (e72.view, (e73, t44, i28)=>{
                                const n14 = i28.mapper.markerNameToElements(t44.markerName);
                                if (n14) {
                                    for (const e74 of n14)i28.mapper.unbindElementFromMarkerName(e74, t44.markerName), i28.writer.clear(i28.writer.createRangeOn(e74), e74);
                                    i28.writer.clearClonedElementsGroup(t44.markerName), e73.stop();
                                }
                            }), {
                                priority: e72.converterPriority || "normal"
                            });
                        };
                    }(e));
                }
                markerToHighlight(e) {
                    return this.add(function(e72) {
                        return (t43)=>{
                            var i28;
                            t43.on("addMarker:" + e72.model, (i28 = e72.view, (e73, t44, n14)=>{
                                if (!t44.item) return;
                                if (!(t44.item instanceof ua || t44.item instanceof _a || t44.item.is("$textProxy"))) return;
                                const o5 = Ma(i28, t44, n14);
                                if (!o5) return;
                                if (!n14.consumable.consume(t44.item, e73.name)) return;
                                const r6 = n14.writer, s5 = Ta(r6, o5), a4 = r6.document.selection;
                                if (t44.item instanceof ua || t44.item instanceof _a) r6.wrap(a4.getFirstRange(), s5, a4);
                                else {
                                    const e74 = n14.mapper.toViewRange(t44.range), i29 = r6.wrap(e74, s5);
                                    for (const e75 of i29.getItems())if (e75.is("attributeElement") && e75.isSimilar(s5)) {
                                        n14.mapper.bindElementToMarker(e75, t44.markerName);
                                        break;
                                    }
                                }
                            }), {
                                priority: e72.converterPriority || "normal"
                            }), t43.on("addMarker:" + e72.model, function(e73) {
                                return (t44, i29, n14)=>{
                                    if (!i29.item) return;
                                    if (!(i29.item instanceof Js)) return;
                                    const o5 = Ma(e73, i29, n14);
                                    if (!o5) return;
                                    if (!n14.consumable.test(i29.item, t44.name)) return;
                                    const r6 = n14.mapper.toViewElement(i29.item);
                                    if (r6 && r6.getCustomProperty("addHighlight")) {
                                        n14.consumable.consume(i29.item, t44.name);
                                        for (const e74 of oa._createIn(i29.item))n14.consumable.consume(e74.item, t44.name);
                                        r6.getCustomProperty("addHighlight")(r6, o5, n14.writer), n14.mapper.bindElementToMarker(r6, i29.markerName);
                                    }
                                };
                            }(e72.view), {
                                priority: e72.converterPriority || "normal"
                            }), t43.on("removeMarker:" + e72.model, function(e73) {
                                return (t44, i29, n14)=>{
                                    if (i29.markerRange.isCollapsed) return;
                                    const o5 = Ma(e73, i29, n14);
                                    if (!o5) return;
                                    const r6 = Ta(n14.writer, o5), s5 = n14.mapper.markerNameToElements(i29.markerName);
                                    if (s5) {
                                        for (const e74 of s5)n14.mapper.unbindElementFromMarkerName(e74, i29.markerName), e74.is("attributeElement") ? n14.writer.unwrap(n14.writer.createRangeOn(e74), r6) : e74.getCustomProperty("removeHighlight")(e74, o5.id, n14.writer);
                                        n14.writer.clearClonedElementsGroup(i29.markerName), t44.stop();
                                    }
                                };
                            }(e72.view), {
                                priority: e72.converterPriority || "normal"
                            });
                        };
                    }(e));
                }
                markerToData(e) {
                    return this.add(function(e72) {
                        const t43 = (e72 = Aa(e72)).model;
                        e72.view || (e72.view = (i29)=>({
                                group: t43,
                                name: i29.substr(e72.model.length + 1)
                            })
                        );
                        return (i29)=>{
                            var n14;
                            i29.on("addMarker:" + t43, (n14 = e72.view, (e73, t44, i30)=>{
                                const o5 = n14(t44.markerName, i30);
                                if (!o5) return;
                                const r6 = t44.markerRange;
                                i30.consumable.consume(r6, e73.name) && (Ea(r6, !1, i30, t44, o5), Ea(r6, !0, i30, t44, o5), e73.stop());
                            }), {
                                priority: e72.converterPriority || "normal"
                            }), i29.on("removeMarker:" + t43, function(e73) {
                                return (t44, i30, n15)=>{
                                    const o5 = e73(i30.markerName, n15);
                                    if (!o5) return;
                                    const r6 = n15.mapper.markerNameToElements(i30.markerName);
                                    if (r6) {
                                        for (const e74 of r6)n15.mapper.unbindElementFromMarkerName(e74, i30.markerName), e74.is("containerElement") ? (s5(`data-${o5.group}-start-before`, e74), s5(`data-${o5.group}-start-after`, e74), s5(`data-${o5.group}-end-before`, e74), s5(`data-${o5.group}-end-after`, e74)) : n15.writer.clear(n15.writer.createRangeOn(e74), e74);
                                        n15.writer.clearClonedElementsGroup(i30.markerName), t44.stop();
                                    }
                                    function s5(e74, t45) {
                                        if (t45.hasAttribute(e74)) {
                                            const i31 = new Set(t45.getAttribute(e74).split(","));
                                            i31.delete(o5.name), 0 == i31.size ? n15.writer.removeAttribute(e74, t45) : n15.writer.setAttribute(e74, Array.from(i31).join(","), t45);
                                        }
                                    }
                                };
                            }(e72.view), {
                                priority: e72.converterPriority || "normal"
                            });
                        };
                    }(e));
                }
            }
            function Ta(e72, t43) {
                const i29 = e72.createAttributeElement("span", t43.attributes);
                return t43.classes && i29._addClass(t43.classes), "number" == typeof t43.priority && (i29._priority = t43.priority), i29._id = t43.id, i29;
            }
            function Ea(e72, t43, i29, n15, o5) {
                const r6 = t43 ? e72.start : e72.end, s5 = r6.nodeAfter && r6.nodeAfter.is("element") ? r6.nodeAfter : null, a4 = r6.nodeBefore && r6.nodeBefore.is("element") ? r6.nodeBefore : null;
                if (s5 || a4) {
                    let e73, r7;
                    t43 && s5 || !t43 && !a4 ? (e73 = s5, r7 = !0) : (e73 = a4, r7 = !1);
                    const c7 = i29.mapper.toViewElement(e73);
                    if (c7) return void function(e74, t44, i30, n16, o6, r8) {
                        const s6 = `data-${r8.group}-${t44 ? "start" : "end"}-${i30 ? "before" : "after"}`, a5 = e74.hasAttribute(s6) ? e74.getAttribute(s6).split(",") : [];
                        a5.unshift(r8.name), n16.writer.setAttribute(s6, a5.join(","), e74), n16.mapper.bindElementToMarker(e74, o6.markerName);
                    }(c7, t43, r7, i29, n15, o5);
                }
                !function(e73, t44, i30, n16, o6) {
                    const r7 = `${o6.group}-${t44 ? "start" : "end"}`, s6 = o6.name ? {
                        name: o6.name
                    } : null, a5 = i30.writer.createUIElement(r7, s6);
                    i30.writer.insert(e73, a5), i30.mapper.bindElementToMarker(a5, n16.markerName);
                }(i29.mapper.toViewPosition(r6), t43, i29, n15, o5);
            }
            function Ia(e72, t43) {
                return "function" == typeof e72 ? e72 : (i29, n15)=>(function(e73, t44, i30) {
                        "string" == typeof e73 && (e73 = {
                            name: e73
                        });
                        let n16;
                        const o5 = t44.writer, r6 = Object.assign({
                        }, e73.attributes);
                        if ("container" == i30) n16 = o5.createContainerElement(e73.name, r6);
                        else if ("attribute" == i30) {
                            const t45 = {
                                priority: e73.priority || xo.DEFAULT_PRIORITY
                            };
                            n16 = o5.createAttributeElement(e73.name, r6, t45);
                        } else n16 = o5.createUIElement(e73.name, r6);
                        if (e73.styles) {
                            const t45 = Object.keys(e73.styles);
                            for (const i31 of t45)o5.setStyle(i31, e73.styles[i31], n16);
                        }
                        if (e73.classes) {
                            const t45 = e73.classes;
                            if ("string" == typeof t45) o5.addClass(t45, n16);
                            else for (const e74 of t45)o5.addClass(e74, n16);
                        }
                        return n16;
                    })(e72, n15, t43)
                ;
            }
            function Sa(e72) {
                return e72.model.values ? (t43, i29)=>{
                    const n15 = e72.view[t43];
                    return n15 ? n15(t43, i29) : null;
                } : e72.view;
            }
            function Pa(e72) {
                return "string" == typeof e72 ? (t43)=>({
                        key: e72,
                        value: t43
                    })
                 : "object" == typeof e72 ? e72.value ? ()=>e72
                 : (t43)=>({
                        key: e72.key,
                        value: t43
                    })
                 : e72;
            }
            function Ma(e72, t43, i29) {
                const n15 = "function" == typeof e72 ? e72(t43, i29) : e72;
                return n15 ? (n15.priority || (n15.priority = 10), n15.id || (n15.id = t43.markerName), n15) : null;
            }
            function Na(e72) {
                const { schema: t43 , document: i29  } = e72.model;
                for (const n15 of i29.getRootNames()){
                    const o5 = i29.getRoot(n15);
                    if (o5.isEmpty && !t43.checkChild(o5, "$text") && t43.checkChild(o5, "paragraph")) return e72.insertElement("paragraph", o5), !0;
                }
                return !1;
            }
            function Ra(e72, t43, i29) {
                const n15 = i29.createContext(e72);
                return !!i29.checkChild(n15, "paragraph") && !!i29.checkChild(n15.push("paragraph"), t43);
            }
            function Oa(e72, t43) {
                const i29 = t43.createElement("paragraph");
                return t43.insert(i29, e72), t43.createPositionAt(i29, 0);
            }
            class za extends xa {
                elementToElement(e) {
                    return this.add(Da(e));
                }
                elementToAttribute(e) {
                    return this.add(function(e72) {
                        ja(e72 = Aa(e72));
                        const t43 = Ba(e72, !1), i29 = La(e72.view), n15 = i29 ? "element:" + i29 : "element";
                        return (i30)=>{
                            i30.on(n15, t43, {
                                priority: e72.converterPriority || "low"
                            });
                        };
                    }(e));
                }
                attributeToAttribute(e) {
                    return this.add(function(e72) {
                        e72 = Aa(e72);
                        let t43 = null;
                        ("string" == typeof e72.view || e72.view.key) && (t43 = (function(e73) {
                            "string" == typeof e73.view && (e73.view = {
                                key: e73.view
                            });
                            const t44 = e73.view.key;
                            let i29;
                            if ("class" == t44 || "style" == t44) i29 = {
                                ["class" == t44 ? "classes" : "styles"]: e73.view.value
                            };
                            else {
                                const n15 = (void 0) === e73.view.value ? /[\s\S]*/ : e73.view.value;
                                i29 = {
                                    attributes: {
                                        [t44]: n15
                                    }
                                };
                            }
                            e73.view.name && (i29.name = e73.view.name);
                            return e73.view = i29, t44;
                        })(e72));
                        ja(e72, t43);
                        const i29 = Ba(e72, !0);
                        return (t44)=>{
                            t44.on("element", i29, {
                                priority: e72.converterPriority || "low"
                            });
                        };
                    }(e));
                }
                elementToMarker(e) {
                    return this.add(function(e72) {
                        return (function(e73) {
                            const t43 = e73.model;
                            e73.model = (e74, i29)=>{
                                const n15 = "string" == typeof t43 ? t43 : t43(e74, i29);
                                return i29.writer.createElement("$marker", {
                                    "data-name": n15
                                });
                            };
                        })(e72 = Aa(e72)), Da(e72);
                    }(e));
                }
                dataToMarker(e) {
                    return this.add(function(e72) {
                        (e72 = Aa(e72)).model || (e72.model = (t43)=>t43 ? e72.view + ":" + t43 : e72.view
                        );
                        const t43 = Va(Fa(e72, "start")), i29 = Va(Fa(e72, "end"));
                        return (n15)=>{
                            n15.on("element:" + e72.view + "-start", t43, {
                                priority: e72.converterPriority || "normal"
                            }), n15.on("element:" + e72.view + "-end", i29, {
                                priority: e72.converterPriority || "normal"
                            });
                            const o5 = a3.get("low"), r6 = a3.get("highest"), s5 = a3.get(e72.converterPriority) / r6;
                            n15.on("element", function(e73) {
                                return (t44, i30, n16)=>{
                                    const o6 = "data-" + e73.view;
                                    function r7(t45, o7) {
                                        for (const r8 of o7){
                                            const o8 = e73.model(r8, n16), s6 = n16.writer.createElement("$marker", {
                                                "data-name": o8
                                            });
                                            n16.writer.insert(s6, t45), i30.modelCursor.isEqual(t45) ? i30.modelCursor = i30.modelCursor.getShiftedBy(1) : i30.modelCursor = i30.modelCursor._getTransformedByInsertion(t45, 1), i30.modelRange = i30.modelRange._getTransformedByInsertion(t45, 1)[0];
                                        }
                                    }
                                    (n16.consumable.test(i30.viewItem, {
                                        attributes: o6 + "-end-after"
                                    }) || n16.consumable.test(i30.viewItem, {
                                        attributes: o6 + "-start-after"
                                    }) || n16.consumable.test(i30.viewItem, {
                                        attributes: o6 + "-end-before"
                                    }) || n16.consumable.test(i30.viewItem, {
                                        attributes: o6 + "-start-before"
                                    })) && (i30.modelRange || Object.assign(i30, n16.convertChildren(i30.viewItem, i30.modelCursor)), n16.consumable.consume(i30.viewItem, {
                                        attributes: o6 + "-end-after"
                                    }) && r7(i30.modelRange.end, i30.viewItem.getAttribute(o6 + "-end-after").split(",")), n16.consumable.consume(i30.viewItem, {
                                        attributes: o6 + "-start-after"
                                    }) && r7(i30.modelRange.end, i30.viewItem.getAttribute(o6 + "-start-after").split(",")), n16.consumable.consume(i30.viewItem, {
                                        attributes: o6 + "-end-before"
                                    }) && r7(i30.modelRange.start, i30.viewItem.getAttribute(o6 + "-end-before").split(",")), n16.consumable.consume(i30.viewItem, {
                                        attributes: o6 + "-start-before"
                                    }) && r7(i30.modelRange.start, i30.viewItem.getAttribute(o6 + "-start-before").split(",")));
                                };
                            }(e72), {
                                priority: o5 + s5
                            });
                        };
                    }(e));
                }
            }
            function Da(e72) {
                const t43 = Va(e72 = Aa(e72)), i29 = La(e72.view), n15 = i29 ? "element:" + i29 : "element";
                return (i30)=>{
                    i30.on(n15, t43, {
                        priority: e72.converterPriority || "normal"
                    });
                };
            }
            function La(e72) {
                return "string" == typeof e72 ? e72 : "object" == typeof e72 && "string" == typeof e72.name ? e72.name : null;
            }
            function Va(e72) {
                const t43 = new mn(e72.view);
                return (i29, n15, o5)=>{
                    const r6 = t43.match(n15.viewItem);
                    if (!r6) return;
                    const s5 = r6.match;
                    if (s5.name = !0, !o5.consumable.test(n15.viewItem, s5)) return;
                    const a4 = function(e73, t44, i30) {
                        return e73 instanceof Function ? e73(t44, i30) : i30.writer.createElement(e73);
                    }(e72.model, n15.viewItem, o5);
                    a4 && o5.safeInsert(a4, n15.modelCursor) && (o5.consumable.consume(n15.viewItem, s5), o5.convertChildren(n15.viewItem, a4), o5.updateConversionResult(a4, n15));
                };
            }
            function ja(e72, t43 = null) {
                const i29 = null === t43 || ((e73)=>e73.getAttribute(t43)
                ), n15 = "object" != typeof e72.model ? e72.model : e72.model.key, o5 = "object" != typeof e72.model || (void 0) === e72.model.value ? i29 : e72.model.value;
                e72.model = {
                    key: n15,
                    value: o5
                };
            }
            function Ba(e72, t43) {
                const i29 = new mn(e72.view);
                return (n15, o5, r6)=>{
                    const s5 = i29.match(o5.viewItem);
                    if (!s5) return;
                    if (!function(e73, t44) {
                        const i30 = "function" == typeof e73 ? e73(t44) : e73;
                        if ("object" == typeof i30 && !La(i30)) return !1;
                        return !i30.classes && !i30.attributes && !i30.styles;
                    }(e72.view, o5.viewItem) ? delete s5.match.name : s5.match.name = !0, !r6.consumable.test(o5.viewItem, s5.match)) return;
                    const a4 = e72.model.key, c7 = "function" == typeof e72.model.value ? e72.model.value(o5.viewItem, r6) : e72.model.value;
                    if (null === c7) return;
                    o5.modelRange || Object.assign(o5, r6.convertChildren(o5.viewItem, o5.modelCursor));
                    (function(e73, t44, i30, n16) {
                        let o6 = !1;
                        for (const r7 of Array.from(e73.getItems({
                            shallow: i30
                        })))n16.schema.checkAttribute(r7, t44.key) && (o6 = !0, r7.hasAttribute(t44.key) || n16.writer.setAttribute(t44.key, t44.value, r7));
                        return o6;
                    })(o5.modelRange, {
                        key: a4,
                        value: c7
                    }, t43, r6) && r6.consumable.consume(o5.viewItem, s5.match);
                };
            }
            function Fa(e72, t43) {
                const i29 = {
                };
                return i29.view = e72.view + "-" + t43, i29.model = (t44, i30)=>{
                    const n15 = t44.getAttribute("name"), o5 = e72.model(n15, i30);
                    return i30.writer.createElement("$marker", {
                        "data-name": o5
                    });
                }, i29;
            }
            class Ha {
                constructor(e72, t43){
                    this.model = e72, this.view = new $s(t43), this.mapper = new ra, this.downcastDispatcher = new ca({
                        mapper: this.mapper,
                        schema: e72.schema
                    });
                    const i29 = this.model.document, n15 = i29.selection, o5 = this.model.markers;
                    this.listenTo(this.model, "_beforeChanges", ()=>{
                        this.view._disableRendering(!0);
                    }, {
                        priority: "highest"
                    }), this.listenTo(this.model, "_afterChanges", ()=>{
                        this.view._disableRendering(!1);
                    }, {
                        priority: "lowest"
                    }), this.listenTo(i29, "change", ()=>{
                        this.view.change((e73)=>{
                            this.downcastDispatcher.convertChanges(i29.differ, o5, e73), this.downcastDispatcher.convertSelection(n15, o5, e73);
                        });
                    }, {
                        priority: "low"
                    }), this.listenTo(this.view.document, "selectionChange", function(e73, t44) {
                        return (i30, n16)=>{
                            const o6 = n16.newSelection, r6 = [];
                            for (const e74 of o6.getRanges())r6.push(t44.toModelRange(e74));
                            const s5 = e73.createSelection(r6, {
                                backward: o6.isBackward
                            });
                            s5.isEqual(e73.document.selection) || e73.change((e75)=>{
                                e75.setSelection(s5);
                            });
                        };
                    }(this.model, this.mapper)), this.downcastDispatcher.on("insert:$text", (e73, t44, i30)=>{
                        if (!i30.consumable.consume(t44.item, "insert")) return;
                        const n16 = i30.writer, o6 = i30.mapper.toViewPosition(t44.range.start), r6 = n16.createText(t44.item.data);
                        n16.insert(o6, r6);
                    }, {
                        priority: "lowest"
                    }), this.downcastDispatcher.on("remove", (e73, t44, i30)=>{
                        const n16 = i30.mapper.toViewPosition(t44.position), o6 = t44.position.getShiftedBy(t44.length), r6 = i30.mapper.toViewPosition(o6, {
                            isPhantom: !0
                        }), s5 = i30.writer.createRange(n16, r6), a4 = i30.writer.remove(s5.getTrimmed());
                        for (const e74 of i30.writer.createRangeIn(a4).getItems())i30.mapper.unbindViewElement(e74);
                    }, {
                        priority: "low"
                    }), this.downcastDispatcher.on("selection", (e73, t44, i30)=>{
                        const n16 = i30.writer, o6 = n16.document.selection;
                        for (const e74 of o6.getRanges())e74.isCollapsed && e74.end.parent.isAttached() && i30.writer.mergeAttributes(e74.start);
                        n16.setSelection(null);
                    }, {
                        priority: "high"
                    }), this.downcastDispatcher.on("selection", (e73, t44, i30)=>{
                        const n16 = t44.selection;
                        if (n16.isCollapsed) return;
                        if (!i30.consumable.consume(n16, "selection")) return;
                        const o6 = [];
                        for (const e74 of n16.getRanges()){
                            const t45 = i30.mapper.toViewRange(e74);
                            o6.push(t45);
                        }
                        i30.writer.setSelection(o6, {
                            backward: n16.isBackward
                        });
                    }, {
                        priority: "low"
                    }), this.downcastDispatcher.on("selection", (e73, t44, i30)=>{
                        const n16 = t44.selection;
                        if (!n16.isCollapsed) return;
                        if (!i30.consumable.consume(n16, "selection")) return;
                        const o6 = i30.writer, r6 = n16.getFirstPosition(), s5 = i30.mapper.toViewPosition(r6), a4 = o6.breakAttributes(s5);
                        o6.setSelection(a4);
                    }, {
                        priority: "low"
                    }), this.view.document.roots.bindTo(this.model.document.roots).using((e73)=>{
                        if ("$graveyard" == e73.rootName) return null;
                        const t44 = new so(this.view.document, e73.name);
                        return t44.rootName = e73.rootName, this.mapper.bindElements(e73, t44), t44;
                    });
                }
                destroy() {
                    this.view.destroy(), this.stopListening();
                }
            }
            Ke(Ha, Ue);
            class Ua {
                constructor(){
                    this._commands = new Map;
                }
                add(e, t) {
                    this._commands.set(e, t);
                }
                get(e) {
                    return this._commands.get(e);
                }
                execute(e, ...t) {
                    const i30 = this.get(e);
                    if (!i30) throw new c2.a("commandcollection-command-not-found", this, {
                        commandName: e
                    });
                    return i30.execute(...t);
                }
                *names() {
                    yield* this._commands.keys();
                }
                *commands() {
                    yield* this._commands.values();
                }
                [Symbol.iterator]() {
                    return this._commands[Symbol.iterator]();
                }
                destroy() {
                    for (const e73 of this.commands())e73.destroy();
                }
            }
            class Wa {
                constructor(){
                    this._consumables = new Map;
                }
                add(e, t) {
                    let i30;
                    e.is("$text") || e.is("documentFragment") ? this._consumables.set(e, !0) : (this._consumables.has(e) ? i30 = this._consumables.get(e) : (i30 = new qa(e), this._consumables.set(e, i30)), i30.add(t));
                }
                test(e, t) {
                    const i30 = this._consumables.get(e);
                    return (void 0) === i30 ? null : e.is("$text") || e.is("documentFragment") ? i30 : i30.test(t);
                }
                consume(e, t) {
                    return !!this.test(e, t) && (e.is("$text") || e.is("documentFragment") ? this._consumables.set(e, !1) : this._consumables.get(e).consume(t), !0);
                }
                revert(e, t) {
                    const i30 = this._consumables.get(e);
                    (void 0) !== i30 && (e.is("$text") || e.is("documentFragment") ? this._consumables.set(e, !0) : i30.revert(t));
                }
                static consumablesFromElement(e) {
                    const t44 = {
                        element: e,
                        name: !0,
                        attributes: [],
                        classes: [],
                        styles: []
                    }, i30 = e.getAttributeKeys();
                    for (const e73 of i30)"style" != e73 && "class" != e73 && t44.attributes.push(e73);
                    const n16 = e.getClassNames();
                    for (const e74 of n16)t44.classes.push(e74);
                    const o6 = e.getStyleNames();
                    for (const e75 of o6)t44.styles.push(e75);
                    return t44;
                }
                static createFrom(e, t) {
                    if (t || (t = new Wa(e)), e.is("$text")) return t.add(e), t;
                    e.is("element") && t.add(e, Wa.consumablesFromElement(e)), e.is("documentFragment") && t.add(e);
                    for (const i30 of e.getChildren())t = Wa.createFrom(i30, t);
                    return t;
                }
            }
            class qa {
                constructor(e73){
                    this.element = e73, this._canConsumeName = null, this._consumables = {
                        attributes: new Map,
                        styles: new Map,
                        classes: new Map
                    };
                }
                add(e) {
                    e.name && (this._canConsumeName = !0);
                    for(const t44 in this._consumables)t44 in e && this._add(t44, e[t44]);
                }
                test(e) {
                    if (e.name && !this._canConsumeName) return this._canConsumeName;
                    for(const t44 in this._consumables)if (t44 in e) {
                        const i30 = this._test(t44, e[t44]);
                        if (!0 !== i30) return i30;
                    }
                    return !0;
                }
                consume(e) {
                    e.name && (this._canConsumeName = !1);
                    for(const t44 in this._consumables)t44 in e && this._consume(t44, e[t44]);
                }
                revert(e) {
                    e.name && (this._canConsumeName = !0);
                    for(const t44 in this._consumables)t44 in e && this._revert(t44, e[t44]);
                }
                _add(e, t) {
                    const i30 = _e(t) ? t : [
                        t
                    ], n16 = this._consumables[e];
                    for (const t44 of i30){
                        if ("attributes" === e && ("class" === t44 || "style" === t44)) throw new c2.a("viewconsumable-invalid-attribute", this);
                        if (n16.set(t44, !0), "styles" === e) for (const e74 of this.element.document.stylesProcessor.getRelatedStyles(t44))n16.set(e74, !0);
                    }
                }
                _test(e, t) {
                    const i30 = _e(t) ? t : [
                        t
                    ], n16 = this._consumables[e];
                    for (const t44 of i30)if ("attributes" !== e || "class" !== t44 && "style" !== t44) {
                        const e74 = n16.get(t44);
                        if ((void 0) === e74) return null;
                        if (!e74) return !1;
                    } else {
                        const e74 = "class" == t44 ? "classes" : "styles", i31 = this._test(e74, [
                            ...this._consumables[e74].keys()
                        ]);
                        if (!0 !== i31) return i31;
                    }
                    return !0;
                }
                _consume(e, t) {
                    const i30 = _e(t) ? t : [
                        t
                    ], n16 = this._consumables[e];
                    for (const t44 of i30)if ("attributes" !== e || "class" !== t44 && "style" !== t44) {
                        if (n16.set(t44, !1), "styles" == e) for (const e74 of this.element.document.stylesProcessor.getRelatedStyles(t44))n16.set(e74, !1);
                    } else {
                        const e74 = "class" == t44 ? "classes" : "styles";
                        this._consume(e74, [
                            ...this._consumables[e74].keys()
                        ]);
                    }
                }
                _revert(e, t) {
                    const i30 = _e(t) ? t : [
                        t
                    ], n16 = this._consumables[e];
                    for (const t44 of i30)if ("attributes" !== e || "class" !== t44 && "style" !== t44) !1 === n16.get(t44) && n16.set(t44, !0);
                    else {
                        const e74 = "class" == t44 ? "classes" : "styles";
                        this._revert(e74, [
                            ...this._consumables[e74].keys()
                        ]);
                    }
                }
            }
            class $a {
                constructor(){
                    this._sourceDefinitions = {
                    }, this._attributeProperties = {
                    }, this.decorate("checkChild"), this.decorate("checkAttribute"), this.on("checkAttribute", (e74, t44)=>{
                        t44[0] = new Ya(t44[0]);
                    }, {
                        priority: "highest"
                    }), this.on("checkChild", (e74, t44)=>{
                        t44[0] = new Ya(t44[0]), t44[1] = this.getDefinition(t44[1]);
                    }, {
                        priority: "highest"
                    });
                }
                register(e, t) {
                    if (this._sourceDefinitions[e]) throw new c2.a("schema-cannot-register-item-twice", this, {
                        itemName: e
                    });
                    this._sourceDefinitions[e] = [
                        Object.assign({
                        }, t)
                    ], this._clearCache();
                }
                extend(e, t) {
                    if (!this._sourceDefinitions[e]) throw new c2.a("schema-cannot-extend-missing-item", this, {
                        itemName: e
                    });
                    this._sourceDefinitions[e].push(Object.assign({
                    }, t)), this._clearCache();
                }
                getDefinitions() {
                    return this._compiledDefinitions || this._compile(), this._compiledDefinitions;
                }
                getDefinition(e) {
                    let t44;
                    return t44 = "string" == typeof e ? e : e.is && (e.is("$text") || e.is("$textProxy")) ? "$text" : e.name, this.getDefinitions()[t44];
                }
                isRegistered(e) {
                    return !!this.getDefinition(e);
                }
                isBlock(e) {
                    const t44 = this.getDefinition(e);
                    return !(!t44 || !t44.isBlock);
                }
                isLimit(e) {
                    const t44 = this.getDefinition(e);
                    return !!t44 && !(!t44.isLimit && !t44.isObject);
                }
                isObject(e) {
                    const t44 = this.getDefinition(e);
                    return !!t44 && !!(t44.isObject || t44.isLimit && t44.isSelectable && t44.isContent);
                }
                isInline(e) {
                    const t44 = this.getDefinition(e);
                    return !(!t44 || !t44.isInline);
                }
                isSelectable(e) {
                    const t44 = this.getDefinition(e);
                    return !!t44 && !(!t44.isSelectable && !t44.isObject);
                }
                isContent(e) {
                    const t44 = this.getDefinition(e);
                    return !!t44 && !(!t44.isContent && !t44.isObject);
                }
                checkChild(e, t) {
                    return !!t && this._checkContextMatch(t, e);
                }
                checkAttribute(e, t) {
                    const i30 = this.getDefinition(e.last);
                    return !!i30 && i30.allowAttributes.includes(t);
                }
                checkMerge(e, t = null) {
                    if (e instanceof ea) {
                        const t44 = e.nodeBefore, i30 = e.nodeAfter;
                        if (!(t44 instanceof Js)) throw new c2.a("schema-check-merge-no-element-before", this);
                        if (!(i30 instanceof Js)) throw new c2.a("schema-check-merge-no-element-after", this);
                        return this.checkMerge(t44, i30);
                    }
                    for (const i30 of t.getChildren())if (!this.checkChild(e, i30)) return !1;
                    return !0;
                }
                addChildCheck(e) {
                    this.on("checkChild", (t44, [i30, n16])=>{
                        if (!n16) return;
                        const o6 = e(i30, n16);
                        "boolean" == typeof o6 && (t44.stop(), t44.return = o6);
                    }, {
                        priority: "high"
                    });
                }
                addAttributeCheck(e) {
                    this.on("checkAttribute", (t44, [i30, n16])=>{
                        const o6 = e(i30, n16);
                        "boolean" == typeof o6 && (t44.stop(), t44.return = o6);
                    }, {
                        priority: "high"
                    });
                }
                setAttributeProperties(e, t) {
                    this._attributeProperties[e] = Object.assign(this.getAttributeProperties(e), t);
                }
                getAttributeProperties(e) {
                    return this._attributeProperties[e] || {
                    };
                }
                getLimitElement(e) {
                    let t44;
                    if (e instanceof ea) t44 = e.parent;
                    else t44 = (e instanceof oa ? [
                        e
                    ] : Array.from(e.getRanges())).reduce((e74, t45)=>{
                        const i30 = t45.getCommonAncestor();
                        return e74 ? e74.getCommonAncestor(i30, {
                            includeSelf: !0
                        }) : i30;
                    }, null);
                    for(; !this.isLimit(t44) && t44.parent;)t44 = t44.parent;
                    return t44;
                }
                checkAttributeInSelection(e, t) {
                    if (e.isCollapsed) {
                        const i30 = [
                            ...e.getFirstPosition().getAncestors(),
                            new Gs("", e.getAttributes())
                        ];
                        return this.checkAttribute(i30, t);
                    }
                    {
                        const i30 = e.getRanges();
                        for (const e74 of i30)for (const i31 of e74)if (this.checkAttribute(i31.item, t)) return !0;
                    }
                    return !1;
                }
                *getValidRanges(e, t) {
                    e = (function*(e74) {
                        for (const t44 of e74)yield* t44.getMinimalFlatRanges();
                    })(e);
                    for (const i30 of e)yield* this._getValidRangesForRange(i30, t);
                }
                getNearestSelectionRange(e, t = "both") {
                    if (this.checkChild(e, "$text")) return new oa(e);
                    let i30, n16;
                    const o6 = e.getAncestors().reverse().find((e74)=>this.isLimit(e74)
                    ) || e.root;
                    "both" != t && "backward" != t || (i30 = new Zs({
                        boundaries: oa._createIn(o6),
                        startPosition: e,
                        direction: "backward"
                    })), "both" != t && "forward" != t || (n16 = new Zs({
                        boundaries: oa._createIn(o6),
                        startPosition: e
                    }));
                    for (const e74 of (function*(e75, t44) {
                        let i31 = !1;
                        for(; !i31;){
                            if (i31 = !0, e75) {
                                const t45 = e75.next();
                                t45.done || (i31 = !1, yield {
                                    walker: e75,
                                    value: t45.value
                                });
                            }
                            if (t44) {
                                const e76 = t44.next();
                                e76.done || (i31 = !1, yield {
                                    walker: t44,
                                    value: e76.value
                                });
                            }
                        }
                    })(i30, n16)){
                        const t44 = e74.walker == i30 ? "elementEnd" : "elementStart", n17 = e74.value;
                        if (n17.type == t44 && this.isObject(n17.item)) return oa._createOn(n17.item);
                        if (this.checkChild(n17.nextPosition, "$text")) return new oa(n17.nextPosition);
                    }
                    return null;
                }
                findAllowedParent(e, t) {
                    let i30 = e.parent;
                    for(; i30;){
                        if (this.checkChild(i30, t)) return i30;
                        if (this.isLimit(i30)) return null;
                        i30 = i30.parent;
                    }
                    return null;
                }
                removeDisallowedAttributes(e, t) {
                    for (const i30 of e)if (i30.is("$text")) sc(this, i30, t);
                    else {
                        const e74 = oa._createIn(i30).getPositions();
                        for (const i31 of e74)sc(this, i31.nodeBefore || i31.parent, t);
                    }
                }
                createContext(e) {
                    return new Ya(e);
                }
                _clearCache() {
                    this._compiledDefinitions = null;
                }
                _compile() {
                    const e74 = {
                    }, t44 = this._sourceDefinitions, i30 = Object.keys(t44);
                    for (const n16 of i30)e74[n16] = Ga(t44[n16], n16);
                    for (const t45 of i30)Ka(e74, t45);
                    for (const t46 of i30)Qa(e74, t46);
                    for (const t47 of i30)Ja(e74, t47);
                    for (const t48 of i30)Za(e74, t48), Xa(e74, t48);
                    for (const t49 of i30)ec(e74, t49), tc(e74, t49), ic(e74, t49);
                    this._compiledDefinitions = e74;
                }
                _checkContextMatch(e, t, i = t.length - 1) {
                    const n16 = t.getItem(i);
                    if (e.allowIn.includes(n16.name)) {
                        if (0 == i) return !0;
                        {
                            const e74 = this.getDefinition(n16);
                            return this._checkContextMatch(e74, t, i - 1);
                        }
                    }
                    return !1;
                }
                *_getValidRangesForRange(e, t) {
                    let i30 = e.start, n16 = e.start;
                    for (const o6 of e.getItems({
                        shallow: !0
                    }))o6.is("element") && (yield* this._getValidRangesForRange(oa._createIn(o6), t)), this.checkAttribute(o6, t) || (i30.isEqual(n16) || (yield new oa(i30, n16)), i30 = ea._createAfter(o6)), n16 = ea._createAfter(o6);
                    i30.isEqual(n16) || (yield new oa(i30, n16));
                }
            }
            Ke($a, Ue);
            class Ya {
                constructor(e74){
                    if (e74 instanceof Ya) return e74;
                    "string" == typeof e74 ? e74 = [
                        e74
                    ] : Array.isArray(e74) || (e74 = e74.getAncestors({
                        includeSelf: !0
                    })), this._items = e74.map(rc);
                }
                get length() {
                    return this._items.length;
                }
                get last() {
                    return this._items[this._items.length - 1];
                }
                [Symbol.iterator]() {
                    return this._items[Symbol.iterator]();
                }
                push(e) {
                    const t44 = new Ya([
                        e
                    ]);
                    return t44._items = [
                        ...this._items,
                        ...t44._items
                    ], t44;
                }
                getItem(e) {
                    return this._items[e];
                }
                *getNames() {
                    yield* this._items.map((e75)=>e75.name
                    );
                }
                endsWith(e) {
                    return Array.from(this.getNames()).join(" ").endsWith(e);
                }
                startsWith(e) {
                    return Array.from(this.getNames()).join(" ").startsWith(e);
                }
            }
            function Ga(e75, t44) {
                const i30 = {
                    name: t44,
                    allowIn: [],
                    allowContentOf: [],
                    allowWhere: [],
                    allowAttributes: [],
                    allowAttributesOf: [],
                    allowChildren: [],
                    inheritTypesFrom: []
                };
                return (function(e76, t45) {
                    for (const i31 of e76){
                        const e77 = Object.keys(i31).filter((e78)=>e78.startsWith("is")
                        );
                        for (const n16 of e77)t45[n16] = i31[n16];
                    }
                })(e75, i30), nc(e75, i30, "allowIn"), nc(e75, i30, "allowContentOf"), nc(e75, i30, "allowWhere"), nc(e75, i30, "allowAttributes"), nc(e75, i30, "allowAttributesOf"), nc(e75, i30, "allowChildren"), nc(e75, i30, "inheritTypesFrom"), (function(e76, t45) {
                    for (const i31 of e76){
                        const e77 = i31.inheritAllFrom;
                        e77 && (t45.allowContentOf.push(e77), t45.allowWhere.push(e77), t45.allowAttributesOf.push(e77), t45.inheritTypesFrom.push(e77));
                    }
                })(e75, i30), i30;
            }
            function Ka(e75, t44) {
                const i30 = e75[t44];
                for (const n16 of i30.allowChildren){
                    const i31 = e75[n16];
                    i31 && i31.allowIn.push(t44);
                }
                i30.allowChildren.length = 0;
            }
            function Qa(e75, t44) {
                for (const i30 of e75[t44].allowContentOf)if (e75[i30]) oc(e75, i30).forEach((e76)=>{
                    e76.allowIn.push(t44);
                });
                delete e75[t44].allowContentOf;
            }
            function Ja(e75, t44) {
                for (const i30 of e75[t44].allowWhere){
                    const n16 = e75[i30];
                    if (n16) {
                        const i31 = n16.allowIn;
                        e75[t44].allowIn.push(...i31);
                    }
                }
                delete e75[t44].allowWhere;
            }
            function Za(e75, t44) {
                for (const i30 of e75[t44].allowAttributesOf){
                    const n16 = e75[i30];
                    if (n16) {
                        const i31 = n16.allowAttributes;
                        e75[t44].allowAttributes.push(...i31);
                    }
                }
                delete e75[t44].allowAttributesOf;
            }
            function Xa(e75, t44) {
                const i30 = e75[t44];
                for (const t45 of i30.inheritTypesFrom){
                    const n16 = e75[t45];
                    if (n16) {
                        const e76 = Object.keys(n16).filter((e77)=>e77.startsWith("is")
                        );
                        for (const t46 of e76)t46 in i30 || (i30[t46] = n16[t46]);
                    }
                }
                delete i30.inheritTypesFrom;
            }
            function ec(e75, t44) {
                const i30 = e75[t44], n16 = i30.allowIn.filter((t45)=>e75[t45]
                );
                i30.allowIn = Array.from(new Set(n16));
            }
            function tc(e75, t44) {
                const i30 = e75[t44];
                for (const n16 of i30.allowIn)e75[n16].allowChildren.push(t44);
            }
            function ic(e75, t44) {
                const i30 = e75[t44];
                i30.allowAttributes = Array.from(new Set(i30.allowAttributes));
            }
            function nc(e75, t44, i30) {
                for (const n16 of e75)"string" == typeof n16[i30] ? t44[i30].push(n16[i30]) : Array.isArray(n16[i30]) && t44[i30].push(...n16[i30]);
            }
            function oc(e75, t44) {
                const i30 = e75[t44];
                var n16;
                return (n16 = e75, Object.keys(n16).map((e76)=>n16[e76]
                )).filter((e76)=>e76.allowIn.includes(i30.name)
                );
            }
            function rc(e75) {
                return "string" == typeof e75 || e75.is("documentFragment") ? {
                    name: "string" == typeof e75 ? e75 : "$documentFragment",
                    *getAttributeKeys () {
                    },
                    getAttribute () {
                    }
                } : {
                    name: e75.is("element") ? e75.name : "$text",
                    *getAttributeKeys () {
                        yield* e75.getAttributeKeys();
                    },
                    getAttribute: (t44)=>e75.getAttribute(t44)
                };
            }
            function sc(e75, t44, i30) {
                for (const n16 of t44.getAttributeKeys())e75.checkAttribute(t44, n16) || i30.removeAttribute(n16, t44);
            }
            class ac {
                constructor(e75 = {
                }){
                    this._splitParts = new Map, this._cursorParents = new Map, this._modelCursor = null, this.conversionApi = Object.assign({
                    }, e75), this.conversionApi.convertItem = this._convertItem.bind(this), this.conversionApi.convertChildren = this._convertChildren.bind(this), this.conversionApi.safeInsert = this._safeInsert.bind(this), this.conversionApi.updateConversionResult = this._updateConversionResult.bind(this), this.conversionApi.splitToAllowedParent = this._splitToAllowedParent.bind(this), this.conversionApi.getSplitParts = this._getSplitParts.bind(this);
                }
                convert(e, t, i = [
                    "$root"
                ]) {
                    this.fire("viewCleanup", e), this._modelCursor = (function(e76, t44) {
                        let i30;
                        for (const n16 of new Ya(e76)){
                            const e77 = {
                            };
                            for (const t45 of n16.getAttributeKeys())e77[t45] = n16.getAttribute(t45);
                            const o6 = t44.createElement(n16.name, e77);
                            i30 && t44.append(o6, i30), i30 = ea._createAt(o6, 0);
                        }
                        return i30;
                    })(i, t), this.conversionApi.writer = t, this.conversionApi.consumable = Wa.createFrom(e), this.conversionApi.store = {
                    };
                    const { modelRange: n16  } = this._convertItem(e, this._modelCursor), o6 = t.createDocumentFragment();
                    if (n16) {
                        this._removeEmptyElements();
                        for (const e76 of Array.from(this._modelCursor.parent.getChildren()))t.append(e76, o6);
                        o6.markers = (function(e77, t44) {
                            const i30 = new Set, n17 = new Map, o7 = oa._createIn(e77).getItems();
                            for (const e78 of o7)"$marker" == e78.name && i30.add(e78);
                            for (const e79 of i30){
                                const i31 = e79.getAttribute("data-name"), o8 = t44.createPositionBefore(e79);
                                n17.has(i31) ? n17.get(i31).end = o8.clone() : n17.set(i31, new oa(o8.clone())), t44.remove(e79);
                            }
                            return n17;
                        })(o6, t);
                    }
                    return this._modelCursor = null, this._splitParts.clear(), this._cursorParents.clear(), this.conversionApi.writer = null, this.conversionApi.store = null, o6;
                }
                _convertItem(e, t) {
                    const i30 = Object.assign({
                        viewItem: e,
                        modelCursor: t,
                        modelRange: null
                    });
                    if (e.is("element") ? this.fire("element:" + e.name, i30, this.conversionApi) : e.is("$text") ? this.fire("text", i30, this.conversionApi) : this.fire("documentFragment", i30, this.conversionApi), i30.modelRange && !(i30.modelRange instanceof oa)) throw new c2.a("view-conversion-dispatcher-incorrect-result", this);
                    return {
                        modelRange: i30.modelRange,
                        modelCursor: i30.modelCursor
                    };
                }
                _convertChildren(e, t) {
                    let i30 = t.is("position") ? t : ea._createAt(t, 0);
                    const n16 = new oa(i30);
                    for (const t44 of Array.from(e.getChildren())){
                        const e76 = this._convertItem(t44, i30);
                        e76.modelRange instanceof oa && (n16.end = e76.modelRange.end, i30 = e76.modelCursor);
                    }
                    return {
                        modelRange: n16,
                        modelCursor: i30
                    };
                }
                _safeInsert(e, t) {
                    const i30 = this._splitToAllowedParent(e, t);
                    return !!i30 && (this.conversionApi.writer.insert(e, i30.position), !0);
                }
                _updateConversionResult(e, t) {
                    const i30 = this._getSplitParts(e), n16 = this.conversionApi.writer;
                    t.modelRange || (t.modelRange = n16.createRange(n16.createPositionBefore(e), n16.createPositionAfter(i30[i30.length - 1])));
                    const o6 = this._cursorParents.get(e);
                    t.modelCursor = o6 ? n16.createPositionAt(o6, 0) : t.modelRange.end;
                }
                _splitToAllowedParent(e, t) {
                    const { schema: i30 , writer: n16  } = this.conversionApi;
                    let o6 = i30.findAllowedParent(t, e);
                    if (o6) {
                        if (o6 === t.parent) return {
                            position: t
                        };
                        this._modelCursor.parent.getAncestors().includes(o6) && (o6 = null);
                    }
                    if (!o6) return Ra(t, e, i30) ? {
                        position: Oa(t, n16)
                    } : null;
                    const r6 = this.conversionApi.writer.split(t, o6), s5 = [];
                    for (const e76 of r6.range.getWalker())if ("elementEnd" == e76.type) s5.push(e76.item);
                    else {
                        const t44 = s5.pop(), i31 = e76.item;
                        this._registerSplitPair(t44, i31);
                    }
                    const a4 = r6.range.end.parent;
                    return this._cursorParents.set(e, a4), {
                        position: r6.position,
                        cursorParent: a4
                    };
                }
                _registerSplitPair(e, t) {
                    this._splitParts.has(e) || this._splitParts.set(e, [
                        e
                    ]);
                    const i30 = this._splitParts.get(e);
                    this._splitParts.set(t, i30), i30.push(t);
                }
                _getSplitParts(e) {
                    let t44;
                    return t44 = this._splitParts.has(e) ? this._splitParts.get(e) : [
                        e
                    ], t44;
                }
                _removeEmptyElements() {
                    let e76 = !1;
                    for (const t44 of this._splitParts.keys())t44.isEmpty && (this.conversionApi.writer.remove(t44), this._splitParts.delete(t44), e76 = !0);
                    e76 && this._removeEmptyElements();
                }
            }
            Ke(ac, h1);
            class cc {
                getHtml(e) {
                    const t44 = document.implementation.createHTMLDocument("").createElement("div");
                    return t44.appendChild(e), t44.innerHTML;
                }
            }
            class lc {
                constructor(e76){
                    this._domParser = new DOMParser, this._domConverter = new Er(e76, {
                        blockFillerMode: "nbsp"
                    }), this._htmlWriter = new cc;
                }
                toData(e) {
                    const t44 = this._domConverter.viewToDom(e, document);
                    return this._htmlWriter.getHtml(t44);
                }
                toView(e) {
                    const t44 = this._toDom(e);
                    return this._domConverter.domToView(t44);
                }
                registerRawContentMatcher(e) {
                    this._domConverter.registerRawContentMatcher(e);
                }
                useFillerType(e) {
                    this._domConverter.blockFillerMode = "marked" == e ? "markedNbsp" : "nbsp";
                }
                _toDom(e) {
                    const t44 = this._domParser.parseFromString(e, "text/html"), i30 = t44.createDocumentFragment();
                    let n16 = t44.firstChild;
                    for(; !n16.isSameNode(t44.documentElement);){
                        const e77 = n16;
                        n16 = n16.nextSibling, e77.nodeType == Node.COMMENT_NODE && i30.appendChild(e77);
                    }
                    const o6 = t44.body.childNodes;
                    for(; o6.length > 0;)i30.appendChild(o6[0]);
                    return i30;
                }
            }
            class dc {
                constructor(e77, t44){
                    this.model = e77, this.mapper = new ra, this.downcastDispatcher = new ca({
                        mapper: this.mapper,
                        schema: e77.schema
                    }), this.downcastDispatcher.on("insert:$text", (e78, t45, i30)=>{
                        if (!i30.consumable.consume(t45.item, "insert")) return;
                        const n16 = i30.writer, o6 = i30.mapper.toViewPosition(t45.range.start), r6 = n16.createText(t45.item.data);
                        n16.insert(o6, r6);
                    }, {
                        priority: "lowest"
                    }), this.upcastDispatcher = new ac({
                        schema: e77.schema
                    }), this.viewDocument = new yo(t44), this.stylesProcessor = t44, this.htmlProcessor = new lc(this.viewDocument), this.processor = this.htmlProcessor, this._viewWriter = new qo(this.viewDocument), this.upcastDispatcher.on("text", (e78, t45, { schema: i30 , consumable: n16 , writer: o6  })=>{
                        let r6 = t45.modelCursor;
                        if (!n16.test(t45.viewItem)) return;
                        if (!i30.checkChild(r6, "$text")) {
                            if (!Ra(r6, "$text", i30)) return;
                            r6 = Oa(r6, o6);
                        }
                        n16.consume(t45.viewItem);
                        const s5 = o6.createText(t45.viewItem.data);
                        o6.insert(s5, r6), t45.modelRange = o6.createRange(r6, r6.getShiftedBy(s5.offsetSize)), t45.modelCursor = t45.modelRange.end;
                    }, {
                        priority: "lowest"
                    }), this.upcastDispatcher.on("element", (e78, t45, i30)=>{
                        if (!t45.modelRange && i30.consumable.consume(t45.viewItem, {
                            name: !0
                        })) {
                            const { modelRange: e79 , modelCursor: n16  } = i30.convertChildren(t45.viewItem, t45.modelCursor);
                            t45.modelRange = e79, t45.modelCursor = n16;
                        }
                    }, {
                        priority: "lowest"
                    }), this.upcastDispatcher.on("documentFragment", (e78, t45, i30)=>{
                        if (!t45.modelRange && i30.consumable.consume(t45.viewItem, {
                            name: !0
                        })) {
                            const { modelRange: e79 , modelCursor: n16  } = i30.convertChildren(t45.viewItem, t45.modelCursor);
                            t45.modelRange = e79, t45.modelCursor = n16;
                        }
                    }, {
                        priority: "lowest"
                    }), this.decorate("init"), this.decorate("set"), this.on("init", ()=>{
                        this.fire("ready");
                    }, {
                        priority: "lowest"
                    }), this.on("ready", ()=>{
                        this.model.enqueueChange("transparent", Na);
                    }, {
                        priority: "lowest"
                    });
                }
                get(e = {
                }) {
                    const { rootName: t45 = "main" , trim: i30 = "empty"  } = e;
                    if (!this._checkIfRootsExists([
                        t45
                    ])) throw new c2.a("datacontroller-get-non-existent-root", this);
                    const n16 = this.model.document.getRoot(t45);
                    return "empty" !== i30 || this.model.hasContent(n16, {
                        ignoreWhitespaces: !0
                    }) ? this.stringify(n16, e) : "";
                }
                stringify(e, t = {
                }) {
                    const i30 = this.toView(e, t);
                    return this.processor.toData(i30);
                }
                toView(e, t = {
                }) {
                    const i30 = this.viewDocument, n16 = this._viewWriter;
                    this.mapper.clearBindings();
                    const o6 = oa._createIn(e), r6 = new Wo(i30);
                    this.mapper.bindElements(e, r6), this.downcastDispatcher.conversionApi.options = t, this.downcastDispatcher.convertInsert(o6, n16);
                    const s5 = e.is("documentFragment") ? Array.from(e.markers) : function(e78) {
                        const t45 = [], i31 = e78.root.document;
                        if (!i31) return [];
                        const n17 = oa._createIn(e78);
                        for (const e79 of i31.model.markers){
                            const i32 = e79.getRange(), o7 = i32.isCollapsed, r7 = i32.start.isEqual(n17.start) || i32.end.isEqual(n17.end);
                            if (o7 && r7) t45.push([
                                e79.name,
                                i32
                            ]);
                            else {
                                const o8 = n17.getIntersection(i32);
                                o8 && t45.push([
                                    e79.name,
                                    o8
                                ]);
                            }
                        }
                        return t45;
                    }(e);
                    for (const [e78, t45] of s5)this.downcastDispatcher.convertMarkerAdd(e78, t45, n16);
                    return delete this.downcastDispatcher.conversionApi.options, r6;
                }
                init(e) {
                    if (this.model.document.version) throw new c2.a("datacontroller-init-document-not-empty", this);
                    let t45 = {
                    };
                    if ("string" == typeof e ? t45.main = e : t45 = e, !this._checkIfRootsExists(Object.keys(t45))) throw new c2.a("datacontroller-init-non-existent-root", this);
                    return this.model.enqueueChange("transparent", (e78)=>{
                        for (const i30 of Object.keys(t45)){
                            const n16 = this.model.document.getRoot(i30);
                            e78.insert(this.parse(t45[i30], n16), n16, 0);
                        }
                    }), Promise.resolve();
                }
                set(e, t = {
                }) {
                    let i30 = {
                    };
                    if ("string" == typeof e ? i30.main = e : i30 = e, !this._checkIfRootsExists(Object.keys(i30))) throw new c2.a("datacontroller-set-non-existent-root", this);
                    const n16 = t.batchType || "default";
                    this.model.enqueueChange(n16, (e78)=>{
                        e78.setSelection(null), e78.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());
                        for (const t45 of Object.keys(i30)){
                            const n17 = this.model.document.getRoot(t45);
                            e78.remove(e78.createRangeIn(n17)), e78.insert(this.parse(i30[t45], n17), n17, 0);
                        }
                    });
                }
                parse(e, t = "$root") {
                    const i30 = this.processor.toView(e);
                    return this.toModel(i30, t);
                }
                toModel(e, t = "$root") {
                    return this.model.change((i30)=>this.upcastDispatcher.convert(e, i30, t)
                    );
                }
                addStyleProcessorRules(e) {
                    e(this.stylesProcessor);
                }
                registerRawContentMatcher(e) {
                    this.processor && this.processor !== this.htmlProcessor && this.processor.registerRawContentMatcher(e), this.htmlProcessor.registerRawContentMatcher(e);
                }
                destroy() {
                    this.stopListening();
                }
                _checkIfRootsExists(e) {
                    for (const t45 of e)if (!this.model.document.getRootNames().includes(t45)) return !1;
                    return !0;
                }
            }
            Ke(dc, Ue);
            class hc {
                constructor(e78, t45){
                    this._helpers = new Map, this._downcast = en(e78), this._createConversionHelpers({
                        name: "downcast",
                        dispatchers: this._downcast,
                        isDowncast: !0
                    }), this._upcast = en(t45), this._createConversionHelpers({
                        name: "upcast",
                        dispatchers: this._upcast,
                        isDowncast: !1
                    });
                }
                addAlias(e, t) {
                    const i30 = this._downcast.includes(t);
                    if (!this._upcast.includes(t) && !i30) throw new c2.a("conversion-add-alias-dispatcher-not-registered", this);
                    this._createConversionHelpers({
                        name: e,
                        dispatchers: [
                            t
                        ],
                        isDowncast: i30
                    });
                }
                for(e) {
                    if (!this._helpers.has(e)) throw new c2.a("conversion-for-unknown-group", this);
                    return this._helpers.get(e);
                }
                elementToElement(e) {
                    this.for("downcast").elementToElement(e);
                    for (const { model: t46 , view: i30  } of uc(e))this.for("upcast").elementToElement({
                        model: t46,
                        view: i30,
                        converterPriority: e.converterPriority
                    });
                }
                attributeToElement(e) {
                    this.for("downcast").attributeToElement(e);
                    for (const { model: t46 , view: i30  } of uc(e))this.for("upcast").elementToAttribute({
                        view: i30,
                        model: t46,
                        converterPriority: e.converterPriority
                    });
                }
                attributeToAttribute(e) {
                    this.for("downcast").attributeToAttribute(e);
                    for (const { model: t46 , view: i30  } of uc(e))this.for("upcast").attributeToAttribute({
                        view: i30,
                        model: t46
                    });
                }
                _createConversionHelpers({ name: e , dispatchers: t , isDowncast: i  }) {
                    if (this._helpers.has(e)) throw new c2.a("conversion-group-exists", this);
                    const n16 = i ? new Ca(t) : new za(t);
                    this._helpers.set(e, n16);
                }
            }
            function* uc(e79) {
                if (e79.model.values) for (const t46 of e79.model.values){
                    const i30 = {
                        key: e79.model.key,
                        value: t46
                    }, n16 = e79.view[t46], o6 = e79.upcastAlso ? e79.upcastAlso[t46] : void 0;
                    yield* gc(i30, n16, o6);
                }
                else yield* gc(e79.model, e79.view, e79.upcastAlso);
            }
            function* gc(e79, t46, i30) {
                if (yield {
                    model: e79,
                    view: t46
                }, i30) for (const t47 of en(i30))yield {
                    model: e79,
                    view: t47
                };
            }
            class mc {
                constructor(e79 = "default"){
                    this.operations = [], this.type = e79;
                }
                get baseVersion() {
                    for (const e80 of this.operations)if (null !== e80.baseVersion) return e80.baseVersion;
                    return null;
                }
                addOperation(e) {
                    return e.batch = this, this.operations.push(e), e;
                }
            }
            class fc {
                constructor(e80){
                    this.baseVersion = e80, this.isDocumentOperation = null !== this.baseVersion, this.batch = null;
                }
                _validate() {
                }
                toJSON() {
                    const e81 = Object.assign({
                    }, this);
                    return e81.__className = this.constructor.className, delete e81.batch, delete e81.isDocumentOperation, e81;
                }
                static get className() {
                    return "Operation";
                }
                static fromJSON(e) {
                    return new this(e.baseVersion);
                }
            }
            class pc {
                constructor(e81){
                    this.markers = new Map, this._children = new Qs, e81 && this._insertChild(0, e81);
                }
                [Symbol.iterator]() {
                    return this.getChildren();
                }
                get childCount() {
                    return this._children.length;
                }
                get maxOffset() {
                    return this._children.maxOffset;
                }
                get isEmpty() {
                    return 0 === this.childCount;
                }
                get root() {
                    return this;
                }
                get parent() {
                    return null;
                }
                is(e) {
                    return "documentFragment" === e || "model:documentFragment" === e;
                }
                getChild(e) {
                    return this._children.getNode(e);
                }
                getChildren() {
                    return this._children[Symbol.iterator]();
                }
                getChildIndex(e) {
                    return this._children.getNodeIndex(e);
                }
                getChildStartOffset(e) {
                    return this._children.getNodeStartOffset(e);
                }
                getPath() {
                    return [];
                }
                getNodeByPath(e) {
                    let t46 = this;
                    for (const i30 of e)t46 = t46.getChild(t46.offsetToIndex(i30));
                    return t46;
                }
                offsetToIndex(e) {
                    return this._children.offsetToIndex(e);
                }
                toJSON() {
                    const e82 = [];
                    for (const t46 of this._children)e82.push(t46.toJSON());
                    return e82;
                }
                static fromJSON(e) {
                    const t46 = [];
                    for (const i30 of e)i30.name ? t46.push(Js.fromJSON(i30)) : t46.push(Gs.fromJSON(i30));
                    return new pc(t46);
                }
                _appendChild(e) {
                    this._insertChild(this.childCount, e);
                }
                _insertChild(e, t) {
                    const i30 = function(e82) {
                        if ("string" == typeof e82) return [
                            new Gs(e82)
                        ];
                        Ji(e82) || (e82 = [
                            e82
                        ]);
                        return Array.from(e82).map((e83)=>"string" == typeof e83 ? new Gs(e83) : e83 instanceof Ks ? new Gs(e83.data, e83.getAttributes()) : e83
                        );
                    }(t);
                    for (const e82 of i30)null !== e82.parent && e82._remove(), e82.parent = this;
                    this._children._insertNodes(e, i30);
                }
                _removeChildren(e, t = 1) {
                    const i30 = this._children._removeNodes(e, t);
                    for (const e82 of i30)e82.parent = null;
                    return i30;
                }
            }
            function bc(e82, t46) {
                const i30 = (t46 = _c(t46)).reduce((e83, t47)=>e83 + t47.offsetSize
                , 0), n16 = e82.parent;
                yc(e82);
                const o6 = e82.index;
                return n16._insertChild(o6, t46), vc(n16, o6 + t46.length), vc(n16, o6), new oa(e82, e82.getShiftedBy(i30));
            }
            function wc(e82) {
                if (!e82.isFlat) throw new c2.a("operation-utils-remove-range-not-flat", this);
                const t46 = e82.start.parent;
                yc(e82.start), yc(e82.end);
                const i30 = t46._removeChildren(e82.start.index, e82.end.index - e82.start.index);
                return vc(t46, e82.start.index), i30;
            }
            function kc(e82, t46) {
                if (!e82.isFlat) throw new c2.a("operation-utils-move-range-not-flat", this);
                const i30 = wc(e82);
                return bc(t46 = t46._getTransformedByDeletion(e82.start, e82.end.offset - e82.start.offset), i30);
            }
            function _c(e82) {
                const t46 = [];
                e82 instanceof Array || (e82 = [
                    e82
                ]);
                for(let i30 = 0; i30 < e82.length; i30++)if ("string" == typeof e82[i30]) t46.push(new Gs(e82[i30]));
                else if (e82[i30] instanceof Ks) t46.push(new Gs(e82[i30].data, e82[i30].getAttributes()));
                else if (e82[i30] instanceof pc || e82[i30] instanceof Qs) for (const n16 of e82[i30])t46.push(n16);
                else e82[i30] instanceof Ys && t46.push(e82[i30]);
                for(let e83 = 1; e83 < t46.length; e83++){
                    const i31 = t46[e83], n17 = t46[e83 - 1];
                    i31 instanceof Gs && n17 instanceof Gs && xc(i31, n17) && (t46.splice(e83 - 1, 2, new Gs(n17.data + i31.data, n17.getAttributes())), e83--);
                }
                return t46;
            }
            function vc(e82, t46) {
                const i30 = e82.getChild(t46 - 1), n16 = e82.getChild(t46);
                if (i30 && n16 && i30.is("$text") && n16.is("$text") && xc(i30, n16)) {
                    const o6 = new Gs(i30.data + n16.data, i30.getAttributes());
                    e82._removeChildren(t46 - 1, 2), e82._insertChild(t46 - 1, o6);
                }
            }
            function yc(e82) {
                const t46 = e82.textNode, i30 = e82.parent;
                if (t46) {
                    const n16 = e82.offset - t46.startOffset, o6 = t46.index;
                    i30._removeChildren(o6, 1);
                    const r6 = new Gs(t46.data.substr(0, n16), t46.getAttributes()), s5 = new Gs(t46.data.substr(n16), t46.getAttributes());
                    i30._insertChild(o6, [
                        r6,
                        s5
                    ]);
                }
            }
            function xc(e82, t46) {
                const i30 = e82.getAttributes(), n16 = t46.getAttributes();
                for (const e83 of i30){
                    if (e83[1] !== t46.getAttribute(e83[0])) return !1;
                    n16.next();
                }
                return n16.next().done;
            }
            var Ac = function(e82, t46) {
                return Jr(e82, t46);
            };
            class Cc extends fc {
                constructor(e82, t46, i30, n16, o6){
                    super(o6), this.range = e82.clone(), this.key = t46, this.oldValue = (void 0) === i30 ? null : i30, this.newValue = (void 0) === n16 ? null : n16;
                }
                get type() {
                    return null === this.oldValue ? "addAttribute" : null === this.newValue ? "removeAttribute" : "changeAttribute";
                }
                clone() {
                    return new Cc(this.range, this.key, this.oldValue, this.newValue, this.baseVersion);
                }
                getReversed() {
                    return new Cc(this.range, this.key, this.newValue, this.oldValue, this.baseVersion + 1);
                }
                toJSON() {
                    const e83 = super.toJSON();
                    return e83.range = this.range.toJSON(), e83;
                }
                _validate() {
                    if (!this.range.isFlat) throw new c2.a("attribute-operation-range-not-flat", this);
                    for (const e83 of this.range.getItems({
                        shallow: !0
                    })){
                        if (null !== this.oldValue && !Ac(e83.getAttribute(this.key), this.oldValue)) throw new c2.a("attribute-operation-wrong-old-value", this, {
                            item: e83,
                            key: this.key,
                            value: this.oldValue
                        });
                        if (null === this.oldValue && null !== this.newValue && e83.hasAttribute(this.key)) throw new c2.a("attribute-operation-attribute-exists", this, {
                            node: e83,
                            key: this.key
                        });
                    }
                }
                _execute() {
                    Ac(this.oldValue, this.newValue) || (function(e83, t47, i31) {
                        yc(e83.start), yc(e83.end);
                        for (const n17 of e83.getItems({
                            shallow: !0
                        })){
                            const e84 = n17.is("$textProxy") ? n17.textNode : n17;
                            null !== i31 ? e84._setAttribute(t47, i31) : e84._removeAttribute(t47), vc(e84.parent, e84.index);
                        }
                        vc(e83.end.parent, e83.end.index);
                    })(this.range, this.key, this.newValue);
                }
                static get className() {
                    return "AttributeOperation";
                }
                static fromJSON(e, t) {
                    return new Cc(oa.fromJSON(e.range, t), e.key, e.oldValue, e.newValue, e.baseVersion);
                }
            }
            class Tc extends fc {
                constructor(e83, t47){
                    super(null), this.sourcePosition = e83.clone(), this.howMany = t47;
                }
                get type() {
                    return "detach";
                }
                toJSON() {
                    const e84 = super.toJSON();
                    return e84.sourcePosition = this.sourcePosition.toJSON(), e84;
                }
                _validate() {
                    if (this.sourcePosition.root.document) throw new c2.a("detach-operation-on-document-node", this);
                }
                _execute() {
                    wc(oa._createFromPositionAndShift(this.sourcePosition, this.howMany));
                }
                static get className() {
                    return "DetachOperation";
                }
            }
            class Ec extends fc {
                constructor(e84, t48, i31, n17){
                    super(n17), this.sourcePosition = e84.clone(), this.sourcePosition.stickiness = "toNext", this.howMany = t48, this.targetPosition = i31.clone(), this.targetPosition.stickiness = "toNone";
                }
                get type() {
                    return "$graveyard" == this.targetPosition.root.rootName ? "remove" : "$graveyard" == this.sourcePosition.root.rootName ? "reinsert" : "move";
                }
                clone() {
                    return new this.constructor(this.sourcePosition, this.howMany, this.targetPosition, this.baseVersion);
                }
                getMovedRangeStart() {
                    return this.targetPosition._getTransformedByDeletion(this.sourcePosition, this.howMany);
                }
                getReversed() {
                    const e85 = this.sourcePosition._getTransformedByInsertion(this.targetPosition, this.howMany);
                    return new this.constructor(this.getMovedRangeStart(), this.howMany, e85, this.baseVersion + 1);
                }
                _validate() {
                    const e85 = this.sourcePosition.parent, t49 = this.targetPosition.parent, i32 = this.sourcePosition.offset, n18 = this.targetPosition.offset;
                    if (i32 + this.howMany > e85.maxOffset) throw new c2.a("move-operation-nodes-do-not-exist", this);
                    if (e85 === t49 && i32 < n18 && n18 < i32 + this.howMany) throw new c2.a("move-operation-range-into-itself", this);
                    if (this.sourcePosition.root == this.targetPosition.root && "prefix" == cn(this.sourcePosition.getParentPath(), this.targetPosition.getParentPath())) {
                        const e86 = this.sourcePosition.path.length - 1;
                        if (this.targetPosition.path[e86] >= i32 && this.targetPosition.path[e86] < i32 + this.howMany) throw new c2.a("move-operation-node-into-itself", this);
                    }
                }
                _execute() {
                    kc(oa._createFromPositionAndShift(this.sourcePosition, this.howMany), this.targetPosition);
                }
                toJSON() {
                    const e85 = super.toJSON();
                    return e85.sourcePosition = this.sourcePosition.toJSON(), e85.targetPosition = this.targetPosition.toJSON(), e85;
                }
                static get className() {
                    return "MoveOperation";
                }
                static fromJSON(e, t) {
                    const i32 = ea.fromJSON(e.sourcePosition, t), n18 = ea.fromJSON(e.targetPosition, t);
                    return new this(i32, e.howMany, n18, e.baseVersion);
                }
            }
            class Ic extends fc {
                constructor(e85, t49, i32){
                    super(i32), this.position = e85.clone(), this.position.stickiness = "toNone", this.nodes = new Qs(_c(t49)), this.shouldReceiveAttributes = !1;
                }
                get type() {
                    return "insert";
                }
                get howMany() {
                    return this.nodes.maxOffset;
                }
                clone() {
                    const e86 = new Qs([
                        ...this.nodes
                    ].map((e87)=>e87._clone(!0)
                    )), t50 = new Ic(this.position, e86, this.baseVersion);
                    return t50.shouldReceiveAttributes = this.shouldReceiveAttributes, t50;
                }
                getReversed() {
                    const e86 = this.position.root.document.graveyard, t50 = new ea(e86, [
                        0
                    ]);
                    return new Ec(this.position, this.nodes.maxOffset, t50, this.baseVersion + 1);
                }
                _validate() {
                    const e86 = this.position.parent;
                    if (!e86 || e86.maxOffset < this.position.offset) throw new c2.a("insert-operation-position-invalid", this);
                }
                _execute() {
                    const e86 = this.nodes;
                    this.nodes = new Qs([
                        ...e86
                    ].map((e87)=>e87._clone(!0)
                    )), bc(this.position, e86);
                }
                toJSON() {
                    const e86 = super.toJSON();
                    return e86.position = this.position.toJSON(), e86.nodes = this.nodes.toJSON(), e86;
                }
                static get className() {
                    return "InsertOperation";
                }
                static fromJSON(e, t) {
                    const i33 = [];
                    for (const t50 of e.nodes)t50.name ? i33.push(Js.fromJSON(t50)) : i33.push(Gs.fromJSON(t50));
                    const n18 = new Ic(ea.fromJSON(e.position, t), i33, e.baseVersion);
                    return n18.shouldReceiveAttributes = e.shouldReceiveAttributes, n18;
                }
            }
            class Sc extends fc {
                constructor(e86, t50, i33, n18, o7, r6){
                    super(r6), this.name = e86, this.oldRange = t50 ? t50.clone() : null, this.newRange = i33 ? i33.clone() : null, this.affectsData = o7, this._markers = n18;
                }
                get type() {
                    return "marker";
                }
                clone() {
                    return new Sc(this.name, this.oldRange, this.newRange, this._markers, this.affectsData, this.baseVersion);
                }
                getReversed() {
                    return new Sc(this.name, this.newRange, this.oldRange, this._markers, this.affectsData, this.baseVersion + 1);
                }
                _execute() {
                    const e87 = this.newRange ? "_set" : "_remove";
                    this._markers[e87](this.name, this.newRange, !0, this.affectsData);
                }
                toJSON() {
                    const e87 = super.toJSON();
                    return this.oldRange && (e87.oldRange = this.oldRange.toJSON()), this.newRange && (e87.newRange = this.newRange.toJSON()), delete e87._markers, e87;
                }
                static get className() {
                    return "MarkerOperation";
                }
                static fromJSON(e, t) {
                    return new Sc(e.name, e.oldRange ? oa.fromJSON(e.oldRange, t) : null, e.newRange ? oa.fromJSON(e.newRange, t) : null, t.model.markers, e.affectsData, e.baseVersion);
                }
            }
            class Pc extends fc {
                constructor(e87, t51, i34, n19){
                    super(n19), this.position = e87, this.position.stickiness = "toNext", this.oldName = t51, this.newName = i34;
                }
                get type() {
                    return "rename";
                }
                clone() {
                    return new Pc(this.position.clone(), this.oldName, this.newName, this.baseVersion);
                }
                getReversed() {
                    return new Pc(this.position.clone(), this.newName, this.oldName, this.baseVersion + 1);
                }
                _validate() {
                    const e88 = this.position.nodeAfter;
                    if (!(e88 instanceof Js)) throw new c2.a("rename-operation-wrong-position", this);
                    if (e88.name !== this.oldName) throw new c2.a("rename-operation-wrong-name", this);
                }
                _execute() {
                    this.position.nodeAfter.name = this.newName;
                }
                toJSON() {
                    const e88 = super.toJSON();
                    return e88.position = this.position.toJSON(), e88;
                }
                static get className() {
                    return "RenameOperation";
                }
                static fromJSON(e, t) {
                    return new Pc(ea.fromJSON(e.position, t), e.oldName, e.newName, e.baseVersion);
                }
            }
            class Mc extends fc {
                constructor(e88, t52, i35, n20, o8){
                    super(o8), this.root = e88, this.key = t52, this.oldValue = i35, this.newValue = n20;
                }
                get type() {
                    return null === this.oldValue ? "addRootAttribute" : null === this.newValue ? "removeRootAttribute" : "changeRootAttribute";
                }
                clone() {
                    return new Mc(this.root, this.key, this.oldValue, this.newValue, this.baseVersion);
                }
                getReversed() {
                    return new Mc(this.root, this.key, this.newValue, this.oldValue, this.baseVersion + 1);
                }
                _validate() {
                    if (this.root != this.root.root || this.root.is("documentFragment")) throw new c2.a("rootattribute-operation-not-a-root", this, {
                        root: this.root,
                        key: this.key
                    });
                    if (null !== this.oldValue && this.root.getAttribute(this.key) !== this.oldValue) throw new c2.a("rootattribute-operation-wrong-old-value", this, {
                        root: this.root,
                        key: this.key
                    });
                    if (null === this.oldValue && null !== this.newValue && this.root.hasAttribute(this.key)) throw new c2.a("rootattribute-operation-attribute-exists", this, {
                        root: this.root,
                        key: this.key
                    });
                }
                _execute() {
                    null !== this.newValue ? this.root._setAttribute(this.key, this.newValue) : this.root._removeAttribute(this.key);
                }
                toJSON() {
                    const e89 = super.toJSON();
                    return e89.root = this.root.toJSON(), e89;
                }
                static get className() {
                    return "RootAttributeOperation";
                }
                static fromJSON(e, t) {
                    if (!t.getRoot(e.root)) throw new c2.a("rootattribute-operation-fromjson-no-root", this, {
                        rootName: e.root
                    });
                    return new Mc(t.getRoot(e.root), e.key, e.oldValue, e.newValue, e.baseVersion);
                }
            }
            class Nc extends fc {
                constructor(e89, t53, i36, n21, o9){
                    super(o9), this.sourcePosition = e89.clone(), this.sourcePosition.stickiness = "toPrevious", this.howMany = t53, this.targetPosition = i36.clone(), this.targetPosition.stickiness = "toNext", this.graveyardPosition = n21.clone();
                }
                get type() {
                    return "merge";
                }
                get deletionPosition() {
                    return new ea(this.sourcePosition.root, this.sourcePosition.path.slice(0, -1));
                }
                get movedRange() {
                    const e90 = this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);
                    return new oa(this.sourcePosition, e90);
                }
                clone() {
                    return new this.constructor(this.sourcePosition, this.howMany, this.targetPosition, this.graveyardPosition, this.baseVersion);
                }
                getReversed() {
                    const e90 = this.targetPosition._getTransformedByMergeOperation(this), t54 = this.sourcePosition.path.slice(0, -1), i37 = new ea(this.sourcePosition.root, t54)._getTransformedByMergeOperation(this);
                    return new Rc(e90, this.howMany, i37, this.graveyardPosition, this.baseVersion + 1);
                }
                _validate() {
                    const e90 = this.sourcePosition.parent, t54 = this.targetPosition.parent;
                    if (!e90.parent) throw new c2.a("merge-operation-source-position-invalid", this);
                    if (!t54.parent) throw new c2.a("merge-operation-target-position-invalid", this);
                    if (this.howMany != e90.maxOffset) throw new c2.a("merge-operation-how-many-invalid", this);
                }
                _execute() {
                    const e90 = this.sourcePosition.parent;
                    kc(oa._createIn(e90), this.targetPosition), kc(oa._createOn(e90), this.graveyardPosition);
                }
                toJSON() {
                    const e90 = super.toJSON();
                    return e90.sourcePosition = e90.sourcePosition.toJSON(), e90.targetPosition = e90.targetPosition.toJSON(), e90.graveyardPosition = e90.graveyardPosition.toJSON(), e90;
                }
                static get className() {
                    return "MergeOperation";
                }
                static fromJSON(e, t) {
                    const i37 = ea.fromJSON(e.sourcePosition, t), n22 = ea.fromJSON(e.targetPosition, t), o10 = ea.fromJSON(e.graveyardPosition, t);
                    return new this(i37, e.howMany, n22, o10, e.baseVersion);
                }
            }
            class Rc extends fc {
                constructor(e90, t54, i37, n22, o10){
                    super(o10), this.splitPosition = e90.clone(), this.splitPosition.stickiness = "toNext", this.howMany = t54, this.insertionPosition = i37, this.graveyardPosition = n22 ? n22.clone() : null, this.graveyardPosition && (this.graveyardPosition.stickiness = "toNext");
                }
                get type() {
                    return "split";
                }
                get moveTargetPosition() {
                    const e91 = this.insertionPosition.path.slice();
                    return e91.push(0), new ea(this.insertionPosition.root, e91);
                }
                get movedRange() {
                    const e91 = this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);
                    return new oa(this.splitPosition, e91);
                }
                clone() {
                    return new this.constructor(this.splitPosition, this.howMany, this.insertionPosition, this.graveyardPosition, this.baseVersion);
                }
                getReversed() {
                    const e91 = this.splitPosition.root.document.graveyard, t55 = new ea(e91, [
                        0
                    ]);
                    return new Nc(this.moveTargetPosition, this.howMany, this.splitPosition, t55, this.baseVersion + 1);
                }
                _validate() {
                    const e91 = this.splitPosition.parent, t55 = this.splitPosition.offset;
                    if (!e91 || e91.maxOffset < t55) throw new c2.a("split-operation-position-invalid", this);
                    if (!e91.parent) throw new c2.a("split-operation-split-in-root", this);
                    if (this.howMany != e91.maxOffset - this.splitPosition.offset) throw new c2.a("split-operation-how-many-invalid", this);
                    if (this.graveyardPosition && !this.graveyardPosition.nodeAfter) throw new c2.a("split-operation-graveyard-position-invalid", this);
                }
                _execute() {
                    const e91 = this.splitPosition.parent;
                    if (this.graveyardPosition) kc(oa._createFromPositionAndShift(this.graveyardPosition, 1), this.insertionPosition);
                    else {
                        const t55 = e91._clone();
                        bc(this.insertionPosition, t55);
                    }
                    kc(new oa(ea._createAt(e91, this.splitPosition.offset), ea._createAt(e91, e91.maxOffset)), this.moveTargetPosition);
                }
                toJSON() {
                    const e91 = super.toJSON();
                    return e91.splitPosition = this.splitPosition.toJSON(), e91.insertionPosition = this.insertionPosition.toJSON(), this.graveyardPosition && (e91.graveyardPosition = this.graveyardPosition.toJSON()), e91;
                }
                static get className() {
                    return "SplitOperation";
                }
                static getInsertionPosition(e) {
                    const t55 = e.path.slice(0, -1);
                    return t55[t55.length - 1]++, new ea(e.root, t55, "toPrevious");
                }
                static fromJSON(e, t) {
                    const i38 = ea.fromJSON(e.splitPosition, t), n23 = ea.fromJSON(e.insertionPosition, t), o11 = e.graveyardPosition ? ea.fromJSON(e.graveyardPosition, t) : null;
                    return new this(i38, e.howMany, n23, o11, e.baseVersion);
                }
            }
            class Oc extends Js {
                constructor(e91, t55, i38 = "main"){
                    super(t55), this._document = e91, this.rootName = i38;
                }
                get document() {
                    return this._document;
                }
                is(e, t) {
                    return t ? t === this.name && ("rootElement" === e || "model:rootElement" === e || "element" === e || "model:element" === e) : "rootElement" === e || "model:rootElement" === e || "element" === e || "model:element" === e || "node" === e || "model:node" === e;
                }
                toJSON() {
                    return this.rootName;
                }
            }
            class zc {
                constructor(e92, t56){
                    this.model = e92, this.batch = t56;
                }
                createText(e, t) {
                    return new Gs(e, t);
                }
                createElement(e, t) {
                    return new Js(e, t);
                }
                createDocumentFragment() {
                    return new pc;
                }
                cloneElement(e, t = !0) {
                    return e._clone(t);
                }
                insert(e, t, i = 0) {
                    if (this._assertWriterUsedCorrectly(), e instanceof Gs && "" == e.data) return;
                    const n23 = ea._createAt(t, i);
                    if (e.parent) {
                        if (Bc(e.root, n23.root)) return void this.move(oa._createOn(e), n23);
                        if (e.root.document) throw new c2.a("model-writer-insert-forbidden-move", this);
                        this.remove(e);
                    }
                    const o11 = n23.root.document ? n23.root.document.version : null, r7 = new Ic(n23, e, o11);
                    if (e instanceof Gs && (r7.shouldReceiveAttributes = !0), this.batch.addOperation(r7), this.model.applyOperation(r7), e instanceof pc) for (const [t57, i39] of e.markers){
                        const e93 = ea._createAt(i39.root, 0), o12 = {
                            range: new oa(i39.start._getCombined(e93, n23), i39.end._getCombined(e93, n23)),
                            usingOperation: !0,
                            affectsData: !0
                        };
                        this.model.markers.has(t57) ? this.updateMarker(t57, o12) : this.addMarker(t57, o12);
                    }
                }
                insertText(e, t, i, n) {
                    t instanceof pc || t instanceof Js || t instanceof ea ? this.insert(this.createText(e), t, i) : this.insert(this.createText(e, t), i, n);
                }
                insertElement(e, t, i, n) {
                    t instanceof pc || t instanceof Js || t instanceof ea ? this.insert(this.createElement(e), t, i) : this.insert(this.createElement(e, t), i, n);
                }
                append(e, t) {
                    this.insert(e, t, "end");
                }
                appendText(e, t, i) {
                    t instanceof pc || t instanceof Js ? this.insert(this.createText(e), t, "end") : this.insert(this.createText(e, t), i, "end");
                }
                appendElement(e, t, i) {
                    t instanceof pc || t instanceof Js ? this.insert(this.createElement(e), t, "end") : this.insert(this.createElement(e, t), i, "end");
                }
                setAttribute(e, t, i) {
                    if (this._assertWriterUsedCorrectly(), i instanceof oa) {
                        const n23 = i.getMinimalFlatRanges();
                        for (const i39 of n23)Dc(this, e, t, i39);
                    } else Lc(this, e, t, i);
                }
                setAttributes(e, t) {
                    for (const [i39, n23] of gn(e))this.setAttribute(i39, n23, t);
                }
                removeAttribute(e, t) {
                    if (this._assertWriterUsedCorrectly(), t instanceof oa) {
                        const i39 = t.getMinimalFlatRanges();
                        for (const t57 of i39)Dc(this, e, null, t57);
                    } else Lc(this, e, null, t);
                }
                clearAttributes(e) {
                    this._assertWriterUsedCorrectly();
                    const t57 = (e93)=>{
                        for (const t58 of e93.getAttributeKeys())this.removeAttribute(t58, e93);
                    };
                    if (e instanceof oa) for (const i39 of e.getItems())t57(i39);
                    else t57(e);
                }
                move(e, t, i) {
                    if (this._assertWriterUsedCorrectly(), !(e instanceof oa)) throw new c2.a("writer-move-invalid-range", this);
                    if (!e.isFlat) throw new c2.a("writer-move-range-not-flat", this);
                    const n23 = ea._createAt(t, i);
                    if (n23.isEqual(e.start)) return;
                    if (this._addOperationForAffectedMarkers("move", e), !Bc(e.root, n23.root)) throw new c2.a("writer-move-different-document", this);
                    const o11 = e.root.document ? e.root.document.version : null, r7 = new Ec(e.start, e.end.offset - e.start.offset, n23, o11);
                    this.batch.addOperation(r7), this.model.applyOperation(r7);
                }
                remove(e) {
                    this._assertWriterUsedCorrectly();
                    const t57 = (e instanceof oa ? e : oa._createOn(e)).getMinimalFlatRanges().reverse();
                    for (const e93 of t57)this._addOperationForAffectedMarkers("move", e93), jc(e93.start, e93.end.offset - e93.start.offset, this.batch, this.model);
                }
                merge(e) {
                    this._assertWriterUsedCorrectly();
                    const t57 = e.nodeBefore, i39 = e.nodeAfter;
                    if (this._addOperationForAffectedMarkers("merge", e), !(t57 instanceof Js)) throw new c2.a("writer-merge-no-element-before", this);
                    if (!(i39 instanceof Js)) throw new c2.a("writer-merge-no-element-after", this);
                    e.root.document ? this._merge(e) : this._mergeDetached(e);
                }
                createPositionFromPath(e, t, i) {
                    return this.model.createPositionFromPath(e, t, i);
                }
                createPositionAt(e, t) {
                    return this.model.createPositionAt(e, t);
                }
                createPositionAfter(e) {
                    return this.model.createPositionAfter(e);
                }
                createPositionBefore(e) {
                    return this.model.createPositionBefore(e);
                }
                createRange(e, t) {
                    return this.model.createRange(e, t);
                }
                createRangeIn(e) {
                    return this.model.createRangeIn(e);
                }
                createRangeOn(e) {
                    return this.model.createRangeOn(e);
                }
                createSelection(e, t, i) {
                    return this.model.createSelection(e, t, i);
                }
                _mergeDetached(e) {
                    const t57 = e.nodeBefore, i39 = e.nodeAfter;
                    this.move(oa._createIn(i39), ea._createAt(t57, "end")), this.remove(i39);
                }
                _merge(e) {
                    const t57 = ea._createAt(e.nodeBefore, "end"), i39 = ea._createAt(e.nodeAfter, 0), n23 = e.root.document.graveyard, o11 = new ea(n23, [
                        0
                    ]), r7 = e.root.document.version, s5 = new Nc(i39, e.nodeAfter.maxOffset, t57, o11, r7);
                    this.batch.addOperation(s5), this.model.applyOperation(s5);
                }
                rename(e, t) {
                    if (this._assertWriterUsedCorrectly(), !(e instanceof Js)) throw new c2.a("writer-rename-not-element-instance", this);
                    const i39 = e.root.document ? e.root.document.version : null, n23 = new Pc(ea._createBefore(e), e.name, t, i39);
                    this.batch.addOperation(n23), this.model.applyOperation(n23);
                }
                split(e, t) {
                    this._assertWriterUsedCorrectly();
                    let i39, n23, o11 = e.parent;
                    if (!o11.parent) throw new c2.a("writer-split-element-no-parent", this);
                    if (t || (t = o11.parent), !e.parent.getAncestors({
                        includeSelf: !0
                    }).includes(t)) throw new c2.a("writer-split-invalid-limit-element", this);
                    do {
                        const t57 = o11.root.document ? o11.root.document.version : null, r7 = o11.maxOffset - e.offset, s5 = Rc.getInsertionPosition(e), a4 = new Rc(e, r7, s5, null, t57);
                        this.batch.addOperation(a4), this.model.applyOperation(a4), i39 || n23 || (i39 = o11, n23 = e.parent.nextSibling), o11 = (e = this.createPositionAfter(e.parent)).parent;
                    }while (o11 !== t)
                    return {
                        position: e,
                        range: new oa(ea._createAt(i39, "end"), ea._createAt(n23, 0))
                    };
                }
                wrap(e, t) {
                    if (this._assertWriterUsedCorrectly(), !e.isFlat) throw new c2.a("writer-wrap-range-not-flat", this);
                    const i39 = t instanceof Js ? t : new Js(t);
                    if (i39.childCount > 0) throw new c2.a("writer-wrap-element-not-empty", this);
                    if (null !== i39.parent) throw new c2.a("writer-wrap-element-attached", this);
                    this.insert(i39, e.start);
                    const n23 = new oa(e.start.getShiftedBy(1), e.end.getShiftedBy(1));
                    this.move(n23, ea._createAt(i39, 0));
                }
                unwrap(e) {
                    if (this._assertWriterUsedCorrectly(), null === e.parent) throw new c2.a("writer-unwrap-element-no-parent", this);
                    this.move(oa._createIn(e), this.createPositionAfter(e)), this.remove(e);
                }
                addMarker(e, t) {
                    if (this._assertWriterUsedCorrectly(), !t || "boolean" != typeof t.usingOperation) throw new c2.a("writer-addmarker-no-usingoperation", this);
                    const i39 = t.usingOperation, n23 = t.range, o11 = (void 0) !== t.affectsData && t.affectsData;
                    if (this.model.markers.has(e)) throw new c2.a("writer-addmarker-marker-exists", this);
                    if (!n23) throw new c2.a("writer-addmarker-no-range", this);
                    return i39 ? (Vc(this, e, null, n23, o11), this.model.markers.get(e)) : this.model.markers._set(e, n23, i39, o11);
                }
                updateMarker(e, t) {
                    this._assertWriterUsedCorrectly();
                    const i39 = "string" == typeof e ? e : e.name, n23 = this.model.markers.get(i39);
                    if (!n23) throw new c2.a("writer-updatemarker-marker-not-exists", this);
                    if (!t) return void this.model.markers._refresh(n23);
                    const o11 = "boolean" == typeof t.usingOperation, r7 = "boolean" == typeof t.affectsData, s5 = r7 ? t.affectsData : n23.affectsData;
                    if (!o11 && !t.range && !r7) throw new c2.a("writer-updatemarker-wrong-options", this);
                    const a4 = n23.getRange(), l4 = t.range ? t.range : a4;
                    o11 && t.usingOperation !== n23.managedUsingOperations ? t.usingOperation ? Vc(this, i39, null, l4, s5) : (Vc(this, i39, a4, null, s5), this.model.markers._set(i39, l4, void 0, s5)) : n23.managedUsingOperations ? Vc(this, i39, a4, l4, s5) : this.model.markers._set(i39, l4, void 0, s5);
                }
                removeMarker(e) {
                    this._assertWriterUsedCorrectly();
                    const t57 = "string" == typeof e ? e : e.name;
                    if (!this.model.markers.has(t57)) throw new c2.a("writer-removemarker-no-marker", this);
                    const i39 = this.model.markers.get(t57);
                    if (!i39.managedUsingOperations) return void this.model.markers._remove(t57);
                    Vc(this, t57, i39.getRange(), null, i39.affectsData);
                }
                setSelection(e, t, i) {
                    this._assertWriterUsedCorrectly(), this.model.document.selection._setTo(e, t, i);
                }
                setSelectionFocus(e, t) {
                    this._assertWriterUsedCorrectly(), this.model.document.selection._setFocus(e, t);
                }
                setSelectionAttribute(e, t) {
                    if (this._assertWriterUsedCorrectly(), "string" == typeof e) this._setSelectionAttribute(e, t);
                    else for (const [t57, i39] of gn(e))this._setSelectionAttribute(t57, i39);
                }
                removeSelectionAttribute(e) {
                    if (this._assertWriterUsedCorrectly(), "string" == typeof e) this._removeSelectionAttribute(e);
                    else for (const t57 of e)this._removeSelectionAttribute(t57);
                }
                overrideSelectionGravity() {
                    return this.model.document.selection._overrideGravity();
                }
                restoreSelectionGravity(e) {
                    this.model.document.selection._restoreGravity(e);
                }
                _setSelectionAttribute(e, t) {
                    const i39 = this.model.document.selection;
                    if (i39.isCollapsed && i39.anchor.parent.isEmpty) {
                        const n23 = _a._getStoreAttributeKey(e);
                        this.setAttribute(n23, t, i39.anchor.parent);
                    }
                    i39._setAttribute(e, t);
                }
                _removeSelectionAttribute(e) {
                    const t57 = this.model.document.selection;
                    if (t57.isCollapsed && t57.anchor.parent.isEmpty) {
                        const i39 = _a._getStoreAttributeKey(e);
                        this.removeAttribute(i39, t57.anchor.parent);
                    }
                    t57._removeAttribute(e);
                }
                _assertWriterUsedCorrectly() {
                    if (this.model._currentWriter !== this) throw new c2.a("writer-incorrect-use", this);
                }
                _addOperationForAffectedMarkers(e, t) {
                    for (const i39 of this.model.markers){
                        if (!i39.managedUsingOperations) continue;
                        const n23 = i39.getRange();
                        let o11 = !1;
                        if ("move" === e) o11 = t.containsPosition(n23.start) || t.start.isEqual(n23.start) || t.containsPosition(n23.end) || t.end.isEqual(n23.end);
                        else {
                            const e93 = t.nodeBefore, i40 = t.nodeAfter, r7 = n23.start.parent == e93 && n23.start.isAtEnd, s5 = n23.end.parent == i40 && 0 == n23.end.offset, a4 = n23.end.nodeAfter == i40, c7 = n23.start.nodeAfter == i40;
                            o11 = r7 || s5 || a4 || c7;
                        }
                        o11 && this.updateMarker(i39.name, {
                            range: n23
                        });
                    }
                }
            }
            function Dc(e93, t57, i39, n23) {
                const o11 = e93.model, r7 = o11.document;
                let s5, a4, c7, l4 = n23.start;
                for (const e94 of n23.getWalker({
                    shallow: !0
                }))c7 = e94.item.getAttribute(t57), s5 && a4 != c7 && (a4 != i39 && d6(), l4 = s5), s5 = e94.nextPosition, a4 = c7;
                function d6() {
                    const n24 = new oa(l4, s5), c8 = n24.root.document ? r7.version : null, d7 = new Cc(n24, t57, a4, i39, c8);
                    e93.batch.addOperation(d7), o11.applyOperation(d7);
                }
                s5 instanceof ea && s5 != l4 && a4 != i39 && d6();
            }
            function Lc(e93, t57, i39, n23) {
                const o11 = e93.model, r7 = o11.document, s5 = n23.getAttribute(t57);
                let a4, c7;
                if (s5 != i39) {
                    if (n23.root === n23) {
                        const e94 = n23.document ? r7.version : null;
                        c7 = new Mc(n23, t57, s5, i39, e94);
                    } else {
                        a4 = new oa(ea._createBefore(n23), e93.createPositionAfter(n23));
                        const o12 = a4.root.document ? r7.version : null;
                        c7 = new Cc(a4, t57, s5, i39, o12);
                    }
                    e93.batch.addOperation(c7), o11.applyOperation(c7);
                }
            }
            function Vc(e93, t57, i39, n23, o11) {
                const r7 = e93.model, s5 = r7.document, a4 = new Sc(t57, i39, n23, r7.markers, o11, s5.version);
                e93.batch.addOperation(a4), r7.applyOperation(a4);
            }
            function jc(e93, t57, i39, n23) {
                let o11;
                if (e93.root.document) {
                    const i40 = n23.document, r7 = new ea(i40.graveyard, [
                        0
                    ]);
                    o11 = new Ec(e93, t57, r7, i40.version);
                } else o11 = new Tc(e93, t57);
                i39.addOperation(o11), n23.applyOperation(o11);
            }
            function Bc(e93, t57) {
                return e93 === t57 || e93 instanceof Oc && t57 instanceof Oc;
            }
            class Fc {
                constructor(e93){
                    this._markerCollection = e93, this._changesInElement = new Map, this._elementSnapshots = new Map, this._changedMarkers = new Map, this._changeCount = 0, this._cachedChanges = null, this._cachedChangesWithGraveyard = null;
                }
                get isEmpty() {
                    return 0 == this._changesInElement.size && 0 == this._changedMarkers.size;
                }
                refreshItem(e) {
                    if (this._isInInsertedElement(e.parent)) return;
                    this._markRemove(e.parent, e.startOffset, e.offsetSize), this._markInsert(e.parent, e.startOffset, e.offsetSize);
                    const t57 = oa._createOn(e);
                    for (const e94 of this._markerCollection.getMarkersIntersectingRange(t57)){
                        const t58 = e94.getRange();
                        this.bufferMarkerChange(e94.name, t58, t58, e94.affectsData);
                    }
                    this._cachedChanges = null;
                }
                bufferOperation(e) {
                    switch(e.type){
                        case "insert":
                            if (this._isInInsertedElement(e.position.parent)) return;
                            this._markInsert(e.position.parent, e.position.offset, e.nodes.maxOffset);
                            break;
                        case "addAttribute":
                        case "removeAttribute":
                        case "changeAttribute":
                            for (const t57 of e.range.getItems({
                                shallow: !0
                            }))this._isInInsertedElement(t57.parent) || this._markAttribute(t57);
                            break;
                        case "remove":
                        case "move":
                        case "reinsert":
                            {
                                if (e.sourcePosition.isEqual(e.targetPosition) || e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition)) return;
                                const t58 = this._isInInsertedElement(e.sourcePosition.parent), i39 = this._isInInsertedElement(e.targetPosition.parent);
                                t58 || this._markRemove(e.sourcePosition.parent, e.sourcePosition.offset, e.howMany), i39 || this._markInsert(e.targetPosition.parent, e.getMovedRangeStart().offset, e.howMany);
                                break;
                            }
                        case "rename":
                            {
                                if (this._isInInsertedElement(e.position.parent)) return;
                                this._markRemove(e.position.parent, e.position.offset, 1), this._markInsert(e.position.parent, e.position.offset, 1);
                                const t58 = oa._createFromPositionAndShift(e.position, 1);
                                for (const e94 of this._markerCollection.getMarkersIntersectingRange(t58)){
                                    const t59 = e94.getRange();
                                    this.bufferMarkerChange(e94.name, t59, t59, e94.affectsData);
                                }
                                break;
                            }
                        case "split":
                            {
                                const t58 = e.splitPosition.parent;
                                this._isInInsertedElement(t58) || this._markRemove(t58, e.splitPosition.offset, e.howMany), this._isInInsertedElement(e.insertionPosition.parent) || this._markInsert(e.insertionPosition.parent, e.insertionPosition.offset, 1), e.graveyardPosition && this._markRemove(e.graveyardPosition.parent, e.graveyardPosition.offset, 1);
                                break;
                            }
                        case "merge":
                            {
                                const t58 = e.sourcePosition.parent;
                                this._isInInsertedElement(t58.parent) || this._markRemove(t58.parent, t58.startOffset, 1);
                                const i39 = e.graveyardPosition.parent;
                                this._markInsert(i39, e.graveyardPosition.offset, 1);
                                const n23 = e.targetPosition.parent;
                                this._isInInsertedElement(n23) || this._markInsert(n23, e.targetPosition.offset, t58.maxOffset);
                                break;
                            }
                    }
                    this._cachedChanges = null;
                }
                bufferMarkerChange(e, t, i, n) {
                    const o11 = this._changedMarkers.get(e);
                    o11 ? (o11.newRange = i, o11.affectsData = n, null == o11.oldRange && null == o11.newRange && this._changedMarkers.delete(e)) : this._changedMarkers.set(e, {
                        oldRange: t,
                        newRange: i,
                        affectsData: n
                    });
                }
                getMarkersToRemove() {
                    const e94 = [];
                    for (const [t57, i39] of this._changedMarkers)null != i39.oldRange && e94.push({
                        name: t57,
                        range: i39.oldRange
                    });
                    return e94;
                }
                getMarkersToAdd() {
                    const e94 = [];
                    for (const [t57, i39] of this._changedMarkers)null != i39.newRange && e94.push({
                        name: t57,
                        range: i39.newRange
                    });
                    return e94;
                }
                getChangedMarkers() {
                    return Array.from(this._changedMarkers).map((e94)=>({
                            name: e94[0],
                            data: {
                                oldRange: e94[1].oldRange,
                                newRange: e94[1].newRange
                            }
                        })
                    );
                }
                hasDataChanges() {
                    for (const [, e94] of this._changedMarkers)if (e94.affectsData) return !0;
                    return this._changesInElement.size > 0;
                }
                getChanges(e = {
                    includeChangesInGraveyard: !1
                }) {
                    if (this._cachedChanges) return e.includeChangesInGraveyard ? this._cachedChangesWithGraveyard.slice() : this._cachedChanges.slice();
                    let t57 = [];
                    for (const e94 of this._changesInElement.keys()){
                        const i39 = this._changesInElement.get(e94).sort((e95, t58)=>e95.offset === t58.offset ? e95.type != t58.type ? "remove" == e95.type ? -1 : 1 : 0 : e95.offset < t58.offset ? -1 : 1
                        ), n23 = this._elementSnapshots.get(e94), o11 = Hc(e94.getChildren()), r7 = Uc(n23.length, i39);
                        let s5 = 0, a4 = 0;
                        for (const i40 of r7)if ("i" === i40) t57.push(this._getInsertDiff(e94, s5, o11[s5].name)), s5++;
                        else if ("r" === i40) t57.push(this._getRemoveDiff(e94, s5, n23[a4].name)), a4++;
                        else if ("a" === i40) {
                            const i41 = o11[s5].attributes, r8 = n23[a4].attributes;
                            let c7;
                            if ("$text" == o11[s5].name) c7 = new oa(ea._createAt(e94, s5), ea._createAt(e94, s5 + 1));
                            else {
                                const t58 = e94.offsetToIndex(s5);
                                c7 = new oa(ea._createAt(e94, s5), ea._createAt(e94.getChild(t58), 0));
                            }
                            t57.push(...this._getAttributesDiff(c7, r8, i41)), s5++, a4++;
                        } else s5++, a4++;
                    }
                    t57.sort((e95, t58)=>e95.position.root != t58.position.root ? e95.position.root.rootName < t58.position.root.rootName ? -1 : 1 : e95.position.isEqual(t58.position) ? e95.changeCount - t58.changeCount : e95.position.isBefore(t58.position) ? -1 : 1
                    );
                    for(let e95 = 1, i39 = 0; e95 < t57.length; e95++){
                        const n23 = t57[i39], o11 = t57[e95], r7 = "remove" == n23.type && "remove" == o11.type && "$text" == n23.name && "$text" == o11.name && n23.position.isEqual(o11.position), s5 = "insert" == n23.type && "insert" == o11.type && "$text" == n23.name && "$text" == o11.name && n23.position.parent == o11.position.parent && n23.position.offset + n23.length == o11.position.offset, a4 = "attribute" == n23.type && "attribute" == o11.type && n23.position.parent == o11.position.parent && n23.range.isFlat && o11.range.isFlat && n23.position.offset + n23.length == o11.position.offset && n23.attributeKey == o11.attributeKey && n23.attributeOldValue == o11.attributeOldValue && n23.attributeNewValue == o11.attributeNewValue;
                        r7 || s5 || a4 ? (n23.length++, a4 && (n23.range.end = n23.range.end.getShiftedBy(1)), t57[e95] = null) : i39 = e95;
                    }
                    t57 = t57.filter((e96)=>e96
                    );
                    for (const e96 of t57)delete e96.changeCount, "attribute" == e96.type && (delete e96.position, delete e96.length);
                    return this._changeCount = 0, this._cachedChangesWithGraveyard = t57.slice(), this._cachedChanges = t57.filter(Wc), e.includeChangesInGraveyard ? this._cachedChangesWithGraveyard : this._cachedChanges;
                }
                reset() {
                    this._changesInElement.clear(), this._elementSnapshots.clear(), this._changedMarkers.clear(), this._cachedChanges = null;
                }
                _markInsert(e, t, i) {
                    const n23 = {
                        type: "insert",
                        offset: t,
                        howMany: i,
                        count: this._changeCount++
                    };
                    this._markChange(e, n23);
                }
                _markRemove(e, t, i) {
                    const n23 = {
                        type: "remove",
                        offset: t,
                        howMany: i,
                        count: this._changeCount++
                    };
                    this._markChange(e, n23), this._removeAllNestedChanges(e, t, i);
                }
                _markAttribute(e) {
                    const t57 = {
                        type: "attribute",
                        offset: e.startOffset,
                        howMany: e.offsetSize,
                        count: this._changeCount++
                    };
                    this._markChange(e.parent, t57);
                }
                _markChange(e, t) {
                    this._makeSnapshot(e);
                    const i39 = this._getChangesForElement(e);
                    this._handleChange(t, i39), i39.push(t);
                    for(let e94 = 0; e94 < i39.length; e94++)i39[e94].howMany < 1 && (i39.splice(e94, 1), e94--);
                }
                _getChangesForElement(e) {
                    let t57;
                    return this._changesInElement.has(e) ? t57 = this._changesInElement.get(e) : (t57 = [], this._changesInElement.set(e, t57)), t57;
                }
                _makeSnapshot(e) {
                    this._elementSnapshots.has(e) || this._elementSnapshots.set(e, Hc(e.getChildren()));
                }
                _handleChange(e, t) {
                    e.nodesToHandle = e.howMany;
                    for (const i39 of t){
                        const n23 = e.offset + e.howMany, o11 = i39.offset + i39.howMany;
                        if ("insert" == e.type && ("insert" == i39.type && (e.offset <= i39.offset ? i39.offset += e.howMany : e.offset < o11 && (i39.howMany += e.nodesToHandle, e.nodesToHandle = 0)), "remove" == i39.type && e.offset < i39.offset && (i39.offset += e.howMany), "attribute" == i39.type)) {
                            if (e.offset <= i39.offset) i39.offset += e.howMany;
                            else if (e.offset < o11) {
                                const o12 = i39.howMany;
                                i39.howMany = e.offset - i39.offset, t.unshift({
                                    type: "attribute",
                                    offset: n23,
                                    howMany: o12 - i39.howMany,
                                    count: this._changeCount++
                                });
                            }
                        }
                        if ("remove" == e.type) {
                            if ("insert" == i39.type) {
                                if (n23 <= i39.offset) i39.offset -= e.howMany;
                                else if (n23 <= o11) {
                                    if (e.offset < i39.offset) {
                                        const t57 = n23 - i39.offset;
                                        i39.offset = e.offset, i39.howMany -= t57, e.nodesToHandle -= t57;
                                    } else i39.howMany -= e.nodesToHandle, e.nodesToHandle = 0;
                                } else if (e.offset <= i39.offset) e.nodesToHandle -= i39.howMany, i39.howMany = 0;
                                else if (e.offset < o11) {
                                    const t57 = o11 - e.offset;
                                    i39.howMany -= t57, e.nodesToHandle -= t57;
                                }
                            }
                            if ("remove" == i39.type && (n23 <= i39.offset ? i39.offset -= e.howMany : e.offset < i39.offset && (e.nodesToHandle += i39.howMany, i39.howMany = 0)), "attribute" == i39.type) {
                                if (n23 <= i39.offset) i39.offset -= e.howMany;
                                else if (e.offset < i39.offset) {
                                    const t57 = n23 - i39.offset;
                                    i39.offset = e.offset, i39.howMany -= t57;
                                } else if (e.offset < o11) {
                                    if (n23 <= o11) {
                                        const n24 = i39.howMany;
                                        i39.howMany = e.offset - i39.offset;
                                        const o12 = n24 - i39.howMany - e.nodesToHandle;
                                        t.unshift({
                                            type: "attribute",
                                            offset: e.offset,
                                            howMany: o12,
                                            count: this._changeCount++
                                        });
                                    } else i39.howMany -= o11 - e.offset;
                                }
                            }
                        }
                        if ("attribute" == e.type) {
                            if ("insert" == i39.type) {
                                if (e.offset < i39.offset && n23 > i39.offset) {
                                    if (n23 > o11) {
                                        const e94 = {
                                            type: "attribute",
                                            offset: o11,
                                            howMany: n23 - o11,
                                            count: this._changeCount++
                                        };
                                        this._handleChange(e94, t), t.push(e94);
                                    }
                                    e.nodesToHandle = i39.offset - e.offset, e.howMany = e.nodesToHandle;
                                } else e.offset >= i39.offset && e.offset < o11 && (n23 > o11 ? (e.nodesToHandle = n23 - o11, e.offset = o11) : e.nodesToHandle = 0);
                            }
                            if ("remove" == i39.type && e.offset < i39.offset && n23 > i39.offset) {
                                const o12 = {
                                    type: "attribute",
                                    offset: i39.offset,
                                    howMany: n23 - i39.offset,
                                    count: this._changeCount++
                                };
                                this._handleChange(o12, t), t.push(o12), e.nodesToHandle = i39.offset - e.offset, e.howMany = e.nodesToHandle;
                            }
                            "attribute" == i39.type && (e.offset >= i39.offset && n23 <= o11 ? (e.nodesToHandle = 0, e.howMany = 0, e.offset = 0) : e.offset <= i39.offset && n23 >= o11 && (i39.howMany = 0));
                        }
                    }
                    e.howMany = e.nodesToHandle, delete e.nodesToHandle;
                }
                _getInsertDiff(e, t, i) {
                    return {
                        type: "insert",
                        position: ea._createAt(e, t),
                        name: i,
                        length: 1,
                        changeCount: this._changeCount++
                    };
                }
                _getRemoveDiff(e, t, i) {
                    return {
                        type: "remove",
                        position: ea._createAt(e, t),
                        name: i,
                        length: 1,
                        changeCount: this._changeCount++
                    };
                }
                _getAttributesDiff(e, t, i) {
                    const n23 = [];
                    i = new Map(i);
                    for (const [o11, r7] of t){
                        const t57 = i.has(o11) ? i.get(o11) : null;
                        t57 !== r7 && n23.push({
                            type: "attribute",
                            position: e.start,
                            range: e.clone(),
                            length: 1,
                            attributeKey: o11,
                            attributeOldValue: r7,
                            attributeNewValue: t57,
                            changeCount: this._changeCount++
                        }), i.delete(o11);
                    }
                    for (const [t57, o12] of i)n23.push({
                        type: "attribute",
                        position: e.start,
                        range: e.clone(),
                        length: 1,
                        attributeKey: t57,
                        attributeOldValue: null,
                        attributeNewValue: o12,
                        changeCount: this._changeCount++
                    });
                    return n23;
                }
                _isInInsertedElement(e) {
                    const t57 = e.parent;
                    if (!t57) return !1;
                    const i39 = this._changesInElement.get(t57), n23 = e.startOffset;
                    if (i39) for (const e94 of i39)if ("insert" == e94.type && n23 >= e94.offset && n23 < e94.offset + e94.howMany) return !0;
                    return this._isInInsertedElement(t57);
                }
                _removeAllNestedChanges(e, t, i) {
                    const n23 = new oa(ea._createAt(e, t), ea._createAt(e, t + i));
                    for (const e94 of n23.getItems({
                        shallow: !0
                    }))e94.is("element") && (this._elementSnapshots.delete(e94), this._changesInElement.delete(e94), this._removeAllNestedChanges(e94, 0, e94.maxOffset));
                }
            }
            function Hc(e94) {
                const t57 = [];
                for (const i39 of e94)if (i39.is("$text")) for(let e95 = 0; e95 < i39.data.length; e95++)t57.push({
                    name: "$text",
                    attributes: new Map(i39.getAttributes())
                });
                else t57.push({
                    name: i39.name,
                    attributes: new Map(i39.getAttributes())
                });
                return t57;
            }
            function Uc(e94, t57) {
                const i39 = [];
                let n23 = 0, o11 = 0;
                for (const e95 of t57){
                    if (e95.offset > n23) {
                        for(let t58 = 0; t58 < e95.offset - n23; t58++)i39.push("e");
                        o11 += e95.offset - n23;
                    }
                    if ("insert" == e95.type) {
                        for(let t58 = 0; t58 < e95.howMany; t58++)i39.push("i");
                        n23 = e95.offset + e95.howMany;
                    } else if ("remove" == e95.type) {
                        for(let t58 = 0; t58 < e95.howMany; t58++)i39.push("r");
                        n23 = e95.offset, o11 += e95.howMany;
                    } else i39.push(..."a".repeat(e95.howMany).split("")), n23 = e95.offset + e95.howMany, o11 += e95.howMany;
                }
                if (o11 < e94) for(let t58 = 0; t58 < e94 - o11 - n23; t58++)i39.push("e");
                return i39;
            }
            function Wc(e94) {
                const t57 = e94.position && "$graveyard" == e94.position.root.rootName, i39 = e94.range && "$graveyard" == e94.range.root.rootName;
                return !t57 && !i39;
            }
            class qc {
                constructor(){
                    this._operations = [], this._undoPairs = new Map, this._undoneOperations = new Set;
                }
                addOperation(e) {
                    this._operations.includes(e) || this._operations.push(e);
                }
                getOperations(e = Number.NEGATIVE_INFINITY, t = Number.POSITIVE_INFINITY) {
                    const i39 = [];
                    for (const n23 of this._operations)n23.baseVersion >= e && n23.baseVersion < t && i39.push(n23);
                    return i39;
                }
                getOperation(e) {
                    for (const t57 of this._operations)if (t57.baseVersion == e) return t57;
                }
                setOperationAsUndone(e, t) {
                    this._undoPairs.set(t, e), this._undoneOperations.add(e);
                }
                isUndoingOperation(e) {
                    return this._undoPairs.has(e);
                }
                isUndoneOperation(e) {
                    return this._undoneOperations.has(e);
                }
                getUndoneOperation(e) {
                    return this._undoPairs.get(e);
                }
            }
            function $c(e94, t57) {
                var i39;
                return !!(i39 = e94.charAt(t57 - 1)) && 1 == i39.length && /[\ud800-\udbff]/.test(i39) && (function(e95) {
                    return !!e95 && 1 == e95.length && /[\udc00-\udfff]/.test(e95);
                })(e94.charAt(t57));
            }
            function Yc(e94, t57) {
                var i39;
                return !!(i39 = e94.charAt(t57)) && 1 == i39.length && /[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(i39);
            }
            class Gc {
                constructor(e94){
                    this.model = e94, this.version = 0, this.history = new qc(this), this.selection = new _a(this), this.roots = new Zi({
                        idProperty: "rootName"
                    }), this.differ = new Fc(e94.markers), this._postFixers = new Set, this._hasSelectionChangedFromTheLastChangeBlock = !1, this.createRoot("$root", "$graveyard"), this.listenTo(e94, "applyOperation", (e95, t57)=>{
                        const i39 = t57[0];
                        if (i39.isDocumentOperation && i39.baseVersion !== this.version) throw new c2.a("model-document-applyoperation-wrong-version", this, {
                            operation: i39
                        });
                    }, {
                        priority: "highest"
                    }), this.listenTo(e94, "applyOperation", (e95, t57)=>{
                        const i39 = t57[0];
                        i39.isDocumentOperation && this.differ.bufferOperation(i39);
                    }, {
                        priority: "high"
                    }), this.listenTo(e94, "applyOperation", (e95, t57)=>{
                        const i39 = t57[0];
                        i39.isDocumentOperation && (this.version++, this.history.addOperation(i39));
                    }, {
                        priority: "low"
                    }), this.listenTo(this.selection, "change", ()=>{
                        this._hasSelectionChangedFromTheLastChangeBlock = !0;
                    }), this.listenTo(e94.markers, "update", (e95, t57, i39, n23)=>{
                        this.differ.bufferMarkerChange(t57.name, i39, n23, t57.affectsData), null === i39 && t57.on("change", (e96, i40)=>{
                            this.differ.bufferMarkerChange(t57.name, i40, t57.getRange(), t57.affectsData);
                        });
                    });
                }
                get graveyard() {
                    return this.getRoot("$graveyard");
                }
                createRoot(e = "$root", t = "main") {
                    if (this.roots.get(t)) throw new c2.a("model-document-createroot-name-exists", this, {
                        name: t
                    });
                    const i39 = new Oc(this, e, t);
                    return this.roots.add(i39), i39;
                }
                destroy() {
                    this.selection.destroy(), this.stopListening();
                }
                getRoot(e = "main") {
                    return this.roots.get(e);
                }
                getRootNames() {
                    return Array.from(this.roots, (e95)=>e95.rootName
                    ).filter((e95)=>"$graveyard" != e95
                    );
                }
                registerPostFixer(e) {
                    this._postFixers.add(e);
                }
                toJSON() {
                    const e95 = ln(this);
                    return e95.selection = "[engine.model.DocumentSelection]", e95.model = "[engine.model.Model]", e95;
                }
                _handleChangeBlock(e) {
                    this._hasDocumentChangedFromTheLastChangeBlock() && (this._callPostFixers(e), this.selection.refresh(), this.differ.hasDataChanges() ? this.fire("change:data", e.batch) : this.fire("change", e.batch), this.selection.refresh(), this.differ.reset()), this._hasSelectionChangedFromTheLastChangeBlock = !1;
                }
                _hasDocumentChangedFromTheLastChangeBlock() {
                    return !this.differ.isEmpty || this._hasSelectionChangedFromTheLastChangeBlock;
                }
                _getDefaultRoot() {
                    for (const e95 of this.roots)if (e95 !== this.graveyard) return e95;
                    return this.graveyard;
                }
                _getDefaultRange() {
                    const e95 = this._getDefaultRoot(), t57 = this.model, i39 = t57.schema, n23 = t57.createPositionFromPath(e95, [
                        0
                    ]);
                    return i39.getNearestSelectionRange(n23) || t57.createRange(n23);
                }
                _validateSelectionRange(e) {
                    return Kc(e.start) && Kc(e.end);
                }
                _callPostFixers(e) {
                    let t57 = !1;
                    do {
                        for (const i39 of this._postFixers)if (this.selection.refresh(), t57 = i39(e), t57) break;
                    }while (t57)
                }
            }
            function Kc(e95) {
                const t57 = e95.textNode;
                if (t57) {
                    const i39 = t57.data, n23 = e95.offset - t57.startOffset;
                    return !$c(i39, n23) && !Yc(i39, n23);
                }
                return !0;
            }
            Ke(Gc, h1);
            class Qc {
                constructor(){
                    this._markers = new Map;
                }
                [Symbol.iterator]() {
                    return this._markers.values();
                }
                has(e) {
                    return this._markers.has(e);
                }
                get(e) {
                    return this._markers.get(e) || null;
                }
                _set(e, t, i = !1, n = !1) {
                    const o11 = e instanceof Jc ? e.name : e;
                    if (o11.includes(",")) throw new c2.a("markercollection-incorrect-marker-name", this);
                    const r7 = this._markers.get(o11);
                    if (r7) {
                        const e95 = r7.getRange();
                        let s5 = !1;
                        return e95.isEqual(t) || (r7._attachLiveRange(ba.fromRange(t)), s5 = !0), i != r7.managedUsingOperations && (r7._managedUsingOperations = i, s5 = !0), "boolean" == typeof n && n != r7.affectsData && (r7._affectsData = n, s5 = !0), s5 && this.fire("update:" + o11, r7, e95, t), r7;
                    }
                    const s5 = ba.fromRange(t), a4 = new Jc(o11, s5, i, n);
                    return this._markers.set(o11, a4), this.fire("update:" + o11, a4, null, t), a4;
                }
                _remove(e) {
                    const t57 = e instanceof Jc ? e.name : e, i39 = this._markers.get(t57);
                    return !!i39 && (this._markers.delete(t57), this.fire("update:" + t57, i39, i39.getRange(), null), this._destroyMarker(i39), !0);
                }
                _refresh(e) {
                    const t57 = e instanceof Jc ? e.name : e, i39 = this._markers.get(t57);
                    if (!i39) throw new c2.a("markercollection-refresh-marker-not-exists", this);
                    const n23 = i39.getRange();
                    this.fire("update:" + t57, i39, n23, n23, i39.managedUsingOperations, i39.affectsData);
                }
                *getMarkersAtPosition(e) {
                    for (const t57 of this)t57.getRange().containsPosition(e) && (yield t57);
                }
                *getMarkersIntersectingRange(e) {
                    for (const t57 of this)null !== t57.getRange().getIntersection(e) && (yield t57);
                }
                destroy() {
                    for (const e95 of this._markers.values())this._destroyMarker(e95);
                    this._markers = null, this.stopListening();
                }
                *getMarkersGroup(e) {
                    for (const t57 of this._markers.values())t57.name.startsWith(e + ":") && (yield t57);
                }
                _destroyMarker(e) {
                    e.stopListening(), e._detachLiveRange();
                }
            }
            Ke(Qc, h1);
            class Jc {
                constructor(e95, t57, i39, n23){
                    this.name = e95, this._liveRange = this._attachLiveRange(t57), this._managedUsingOperations = i39, this._affectsData = n23;
                }
                get managedUsingOperations() {
                    if (!this._liveRange) throw new c2.a("marker-destroyed", this);
                    return this._managedUsingOperations;
                }
                get affectsData() {
                    if (!this._liveRange) throw new c2.a("marker-destroyed", this);
                    return this._affectsData;
                }
                getStart() {
                    if (!this._liveRange) throw new c2.a("marker-destroyed", this);
                    return this._liveRange.start.clone();
                }
                getEnd() {
                    if (!this._liveRange) throw new c2.a("marker-destroyed", this);
                    return this._liveRange.end.clone();
                }
                getRange() {
                    if (!this._liveRange) throw new c2.a("marker-destroyed", this);
                    return this._liveRange.toRange();
                }
                is(e) {
                    return "marker" === e || "model:marker" === e;
                }
                _attachLiveRange(e) {
                    return this._liveRange && this._detachLiveRange(), e.delegate("change:range").to(this), e.delegate("change:content").to(this), this._liveRange = e, e;
                }
                _detachLiveRange() {
                    this._liveRange.stopDelegating("change:range", this), this._liveRange.stopDelegating("change:content", this), this._liveRange.detach(), this._liveRange = null;
                }
            }
            Ke(Jc, h1);
            class Zc extends fc {
                get type() {
                    return "noop";
                }
                clone() {
                    return new Zc(this.baseVersion);
                }
                getReversed() {
                    return new Zc(this.baseVersion + 1);
                }
                _execute() {
                }
                static get className() {
                    return "NoOperation";
                }
            }
            const Xc = {
            };
            Xc[Cc.className] = Cc, Xc[Ic.className] = Ic, Xc[Sc.className] = Sc, Xc[Ec.className] = Ec, Xc[Zc.className] = Zc, Xc[fc.className] = fc, Xc[Pc.className] = Pc, Xc[Mc.className] = Mc, Xc[Rc.className] = Rc, Xc[Nc.className] = Nc;
            class el extends ea {
                constructor(e96, t58, i40 = "toNone"){
                    if (super(e96, t58, i40), !this.root.is("rootElement")) throw new c2.a("model-liveposition-root-not-rootelement", e96);
                    tl.call(this);
                }
                detach() {
                    this.stopListening();
                }
                is(e) {
                    return "livePosition" === e || "model:livePosition" === e || "position" == e || "model:position" === e;
                }
                toPosition() {
                    return new ea(this.root, this.path.slice(), this.stickiness);
                }
                static fromPosition(e, t) {
                    return new this(e.root, e.path.slice(), t || e.stickiness);
                }
            }
            function tl() {
                this.listenTo(this.root.document.model, "applyOperation", (e97, t59)=>{
                    const i41 = t59[0];
                    i41.isDocumentOperation && il.call(this, i41);
                }, {
                    priority: "low"
                });
            }
            function il(e97) {
                const t59 = this.getTransformedByOperation(e97);
                if (!this.isEqual(t59)) {
                    const e98 = this.toPosition();
                    this.path = t59.path, this.root = t59.root, this.fire("change", e98);
                }
            }
            Ke(el, h1);
            class nl {
                constructor(e97, t59, i41){
                    this.model = e97, this.writer = t59, this.position = i41, this.canMergeWith = new Set([
                        this.position.parent
                    ]), this.schema = e97.schema, this._documentFragment = t59.createDocumentFragment(), this._documentFragmentPosition = t59.createPositionAt(this._documentFragment, 0), this._firstNode = null, this._lastNode = null, this._lastAutoParagraph = null, this._filterAttributesOf = [], this._affectedStart = null, this._affectedEnd = null;
                }
                handleNodes(e) {
                    for (const t60 of Array.from(e))this._handleNode(t60);
                    this._insertPartialFragment(), this._lastAutoParagraph && this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph), this._mergeOnRight(), this.schema.removeDisallowedAttributes(this._filterAttributesOf, this.writer), this._filterAttributesOf = [];
                }
                _updateLastNodeFromAutoParagraph(e) {
                    const t60 = this.writer.createPositionAfter(this._lastNode), i42 = this.writer.createPositionAfter(e);
                    if (i42.isAfter(t60)) {
                        if (this._lastNode = e, this.position.parent != e || !this.position.isAtEnd) throw new c2.a("insertcontent-invalid-insertion-position", this);
                        this.position = i42, this._setAffectedBoundaries(this.position);
                    }
                }
                getSelectionRange() {
                    return this.nodeToSelect ? oa._createOn(this.nodeToSelect) : this.model.schema.getNearestSelectionRange(this.position);
                }
                getAffectedRange() {
                    return this._affectedStart ? new oa(this._affectedStart, this._affectedEnd) : null;
                }
                destroy() {
                    this._affectedStart && this._affectedStart.detach(), this._affectedEnd && this._affectedEnd.detach();
                }
                _handleNode(e) {
                    if (this.schema.isObject(e)) return void this._handleObject(e);
                    let t60 = this._checkAndAutoParagraphToAllowedPosition(e);
                    t60 || (t60 = this._checkAndSplitToAllowedPosition(e), t60) ? (this._appendToFragment(e), this._firstNode || (this._firstNode = e), this._lastNode = e) : this._handleDisallowedNode(e);
                }
                _insertPartialFragment() {
                    if (this._documentFragment.isEmpty) return;
                    const e98 = el.fromPosition(this.position, "toNext");
                    this._setAffectedBoundaries(this.position), this._documentFragment.getChild(0) == this._firstNode && (this.writer.insert(this._firstNode, this.position), this._mergeOnLeft(), this.position = e98.toPosition()), this._documentFragment.isEmpty || this.writer.insert(this._documentFragment, this.position), this._documentFragmentPosition = this.writer.createPositionAt(this._documentFragment, 0), this.position = e98.toPosition(), e98.detach();
                }
                _handleObject(e) {
                    this._checkAndSplitToAllowedPosition(e) ? this._appendToFragment(e) : this._tryAutoparagraphing(e);
                }
                _handleDisallowedNode(e) {
                    e.is("element") ? this.handleNodes(e.getChildren()) : this._tryAutoparagraphing(e);
                }
                _appendToFragment(e) {
                    if (!this.schema.checkChild(this.position, e)) throw new c2.a("insertcontent-wrong-position", this, {
                        node: e,
                        position: this.position
                    });
                    this.writer.insert(e, this._documentFragmentPosition), this._documentFragmentPosition = this._documentFragmentPosition.getShiftedBy(e.offsetSize), this.schema.isObject(e) && !this.schema.checkChild(this.position, "$text") ? this.nodeToSelect = e : this.nodeToSelect = null, this._filterAttributesOf.push(e);
                }
                _setAffectedBoundaries(e) {
                    this._affectedStart || (this._affectedStart = el.fromPosition(e, "toPrevious")), this._affectedEnd && !this._affectedEnd.isBefore(e) || (this._affectedEnd && this._affectedEnd.detach(), this._affectedEnd = el.fromPosition(e, "toNext"));
                }
                _mergeOnLeft() {
                    const e98 = this._firstNode;
                    if (!(e98 instanceof Js)) return;
                    if (!this._canMergeLeft(e98)) return;
                    const t60 = el._createBefore(e98);
                    t60.stickiness = "toNext";
                    const i42 = el.fromPosition(this.position, "toNext");
                    this._affectedStart.isEqual(t60) && (this._affectedStart.detach(), this._affectedStart = el._createAt(t60.nodeBefore, "end", "toPrevious")), this._firstNode === this._lastNode && (this._firstNode = t60.nodeBefore, this._lastNode = t60.nodeBefore), this.writer.merge(t60), t60.isEqual(this._affectedEnd) && this._firstNode === this._lastNode && (this._affectedEnd.detach(), this._affectedEnd = el._createAt(t60.nodeBefore, "end", "toNext")), this.position = i42.toPosition(), i42.detach(), this._filterAttributesOf.push(this.position.parent), t60.detach();
                }
                _mergeOnRight() {
                    const e98 = this._lastNode;
                    if (!(e98 instanceof Js)) return;
                    if (!this._canMergeRight(e98)) return;
                    const t60 = el._createAfter(e98);
                    if (t60.stickiness = "toNext", !this.position.isEqual(t60)) throw new c2.a("insertcontent-invalid-insertion-position", this);
                    this.position = ea._createAt(t60.nodeBefore, "end");
                    const i42 = el.fromPosition(this.position, "toPrevious");
                    this._affectedEnd.isEqual(t60) && (this._affectedEnd.detach(), this._affectedEnd = el._createAt(t60.nodeBefore, "end", "toNext")), this._firstNode === this._lastNode && (this._firstNode = t60.nodeBefore, this._lastNode = t60.nodeBefore), this.writer.merge(t60), t60.getShiftedBy(-1).isEqual(this._affectedStart) && this._firstNode === this._lastNode && (this._affectedStart.detach(), this._affectedStart = el._createAt(t60.nodeBefore, 0, "toPrevious")), this.position = i42.toPosition(), i42.detach(), this._filterAttributesOf.push(this.position.parent), t60.detach();
                }
                _canMergeLeft(e) {
                    const t60 = e.previousSibling;
                    return t60 instanceof Js && this.canMergeWith.has(t60) && this.model.schema.checkMerge(t60, e);
                }
                _canMergeRight(e) {
                    const t60 = e.nextSibling;
                    return t60 instanceof Js && this.canMergeWith.has(t60) && this.model.schema.checkMerge(e, t60);
                }
                _tryAutoparagraphing(e) {
                    const t60 = this.writer.createElement("paragraph");
                    this._getAllowedIn(this.position.parent, t60) && this.schema.checkChild(t60, e) && (t60._appendChild(e), this._handleNode(t60));
                }
                _checkAndAutoParagraphToAllowedPosition(e) {
                    if (this.schema.checkChild(this.position.parent, e)) return !0;
                    if (!this.schema.checkChild(this.position.parent, "paragraph") || !this.schema.checkChild("paragraph", e)) return !1;
                    this._insertPartialFragment();
                    const t60 = this.writer.createElement("paragraph");
                    return this.writer.insert(t60, this.position), this._setAffectedBoundaries(this.position), this._lastAutoParagraph = t60, this.position = this.writer.createPositionAt(t60, 0), !0;
                }
                _checkAndSplitToAllowedPosition(e) {
                    const t60 = this._getAllowedIn(this.position.parent, e);
                    if (!t60) return !1;
                    for(t60 != this.position.parent && this._insertPartialFragment(); t60 != this.position.parent;)if (this.position.isAtStart) {
                        const e98 = this.position.parent;
                        this.position = this.writer.createPositionBefore(e98), e98.isEmpty && e98.parent === t60 && this.writer.remove(e98);
                    } else if (this.position.isAtEnd) this.position = this.writer.createPositionAfter(this.position.parent);
                    else {
                        const e98 = this.writer.createPositionAfter(this.position.parent);
                        this._setAffectedBoundaries(this.position), this.writer.split(this.position), this.position = e98, this.canMergeWith.add(this.position.nodeAfter);
                    }
                    return !0;
                }
                _getAllowedIn(e, t) {
                    return this.schema.checkChild(e, t) ? e : this.schema.isLimit(e) ? null : this._getAllowedIn(e.parent, t);
                }
            }
            function ol(e98, t60, i42 = {
            }) {
                if (t60.isCollapsed) return;
                const n24 = t60.getFirstRange();
                if ("$graveyard" == n24.root.rootName) return;
                const o11 = e98.schema;
                e98.change((e99)=>{
                    if (!i42.doNotResetEntireContent && (function(e100, t61) {
                        const i43 = e100.getLimitElement(t61);
                        if (!t61.containsEntireContent(i43)) return !1;
                        const n25 = t61.getFirstRange();
                        if (n25.start.parent == n25.end.parent) return !1;
                        return e100.checkChild(i43, "paragraph");
                    })(o11, t60)) return void function(e100, t61) {
                        const i43 = e100.model.schema.getLimitElement(t61);
                        e100.remove(e100.createRangeIn(i43)), sl(e100, e100.createPositionAt(i43, 0), t61);
                    }(e99, t60);
                    const [r7, s5] = function(e100) {
                        const t61 = e100.root.document.model, i43 = e100.start;
                        let n25 = e100.end;
                        if (t61.hasContent(e100, {
                            ignoreMarkers: !0
                        })) {
                            const i44 = function(e101) {
                                const t62 = e101.parent, i45 = t62.root.document.model.schema, n26 = t62.getAncestors({
                                    parentFirst: !0,
                                    includeSelf: !0
                                });
                                for (const e102 of n26){
                                    if (i45.isLimit(e102)) return null;
                                    if (i45.isBlock(e102)) return e102;
                                }
                            }(n25);
                            if (i44 && n25.isTouching(t61.createPositionAt(i44, 0))) {
                                const i45 = t61.createSelection(e100);
                                t61.modifySelection(i45, {
                                    direction: "backward"
                                });
                                const o12 = i45.getLastPosition(), r8 = t61.createRange(o12, n25);
                                t61.hasContent(r8, {
                                    ignoreMarkers: !0
                                }) || (n25 = o12);
                            }
                        }
                        return [
                            el.fromPosition(i43, "toPrevious"),
                            el.fromPosition(n25, "toNext")
                        ];
                    }(n24);
                    r7.isTouching(s5) || e99.remove(e99.createRange(r7, s5)), i42.leaveUnmerged || (!function(e100, t61, i43) {
                        const n25 = e100.model;
                        if (!rl(e100.model.schema, t61, i43)) return;
                        const [o12, r8] = function(e101, t62) {
                            const i44 = e101.getAncestors(), n26 = t62.getAncestors();
                            let o13 = 0;
                            for(; i44[o13] && i44[o13] == n26[o13];)o13++;
                            return [
                                i44[o13],
                                n26[o13]
                            ];
                        }(t61, i43);
                        if (!o12 || !r8) return;
                        !n25.hasContent(o12, {
                            ignoreMarkers: !0
                        }) && n25.hasContent(r8, {
                            ignoreMarkers: !0
                        }) ? (function e101(t62, i44, n26, o13) {
                            const r9 = i44.parent, s6 = n26.parent;
                            if (r9 == o13 || s6 == o13) return;
                            i44 = t62.createPositionAfter(r9), (n26 = t62.createPositionBefore(s6)).isEqual(i44) || t62.insert(r9, n26);
                            for(; i44.parent.isEmpty;){
                                const e102 = i44.parent;
                                i44 = t62.createPositionBefore(e102), t62.remove(e102);
                            }
                            if (n26 = t62.createPositionBefore(s6), (function(e102, t63) {
                                const i45 = t63.nodeBefore, n27 = t63.nodeAfter;
                                i45.name != n27.name && e102.rename(i45, n27.name);
                                e102.clearAttributes(i45), e102.setAttributes(Object.fromEntries(n27.getAttributes()), i45), e102.merge(t63);
                            })(t62, n26), !rl(t62.model.schema, i44, n26)) return;
                            e101(t62, i44, n26, o13);
                        })(e100, t61, i43, o12.parent) : (function e102(t62, i44, n26, o13) {
                            const r9 = i44.parent, s6 = n26.parent;
                            if (r9 == o13 || s6 == o13) return;
                            i44 = t62.createPositionAfter(r9), (n26 = t62.createPositionBefore(s6)).isEqual(i44) || t62.insert(s6, i44);
                            t62.merge(i44);
                            for(; n26.parent.isEmpty;){
                                const e103 = n26.parent;
                                n26 = t62.createPositionBefore(e103), t62.remove(e103);
                            }
                            if (!rl(t62.model.schema, i44, n26)) return;
                            e102(t62, i44, n26, o13);
                        })(e100, t61, i43, o12.parent);
                    }(e99, r7, s5), o11.removeDisallowedAttributes(r7.parent.getChildren(), e99)), al(e99, t60, r7), !i42.doNotAutoparagraph && (function(e100, t61) {
                        const i43 = e100.checkChild(t61, "$text"), n25 = e100.checkChild(t61, "paragraph");
                        return !i43 && n25;
                    })(o11, r7) && sl(e99, r7, t60), r7.detach(), s5.detach();
                });
            }
            function rl(e98, t60, i42) {
                const n24 = t60.parent, o11 = i42.parent;
                return n24 != o11 && !e98.isLimit(n24) && !e98.isLimit(o11) && (function(e99, t61, i43) {
                    const n25 = new oa(e99, t61);
                    for (const e100 of n25.getWalker())if (i43.isLimit(e100.item)) return !1;
                    return !0;
                })(t60, i42, e98);
            }
            function sl(e98, t60, i42) {
                const n24 = e98.createElement("paragraph");
                e98.insert(n24, t60), al(e98, i42, e98.createPositionAt(n24, 0));
            }
            function al(e98, t60, i42) {
                t60 instanceof _a ? e98.setSelection(i42) : t60.setTo(i42);
            }
            function cl(e98, t60) {
                const { isForward: i42 , walker: n24 , unit: o11 , schema: r7  } = e98, { type: s5 , item: a4 , nextPosition: c7  } = t60;
                if ("text" == s5) return "word" === e98.unit ? (function(e99, t61) {
                    let i43 = e99.position.textNode;
                    if (i43) {
                        let n25 = e99.position.offset - i43.startOffset;
                        for(; !dl(i43.data, n25, t61) && !hl(i43, n25, t61);){
                            e99.next();
                            const o12 = t61 ? e99.position.nodeAfter : e99.position.nodeBefore;
                            if (o12 && o12.is("$text")) {
                                const n26 = o12.data.charAt(t61 ? 0 : o12.data.length - 1);
                                ' ,.?!:;"-()'.includes(n26) || (e99.next(), i43 = e99.position.textNode);
                            }
                            n25 = e99.position.offset - i43.startOffset;
                        }
                    }
                    return e99.position;
                })(n24, i42) : (function(e99, t61) {
                    const i43 = e99.position.textNode;
                    if (i43) {
                        const n25 = i43.data;
                        let o12 = e99.position.offset - i43.startOffset;
                        for(; $c(n25, o12) || "character" == t61 && Yc(n25, o12);)e99.next(), o12 = e99.position.offset - i43.startOffset;
                    }
                    return e99.position;
                })(n24, o11);
                if (s5 == (i42 ? "elementStart" : "elementEnd")) {
                    if (r7.isSelectable(a4)) return ea._createAt(a4, i42 ? "after" : "before");
                    if (r7.checkChild(c7, "$text")) return c7;
                } else {
                    if (r7.isLimit(a4)) return void n24.skip(()=>!0
                    );
                    if (r7.checkChild(c7, "$text")) return c7;
                }
            }
            function ll(e98, t60) {
                const i42 = e98.root, n24 = ea._createAt(i42, t60 ? "end" : 0);
                return t60 ? new oa(e98, n24) : new oa(n24, e98);
            }
            function dl(e98, t60, i42) {
                const n24 = t60 + (i42 ? 0 : -1);
                return ' ,.?!:;"-()'.includes(e98.charAt(n24));
            }
            function hl(e98, t60, i42) {
                return t60 === (i42 ? e98.endOffset : 0);
            }
            function ul(e98, t60) {
                const i42 = [];
                Array.from(e98.getItems({
                    direction: "backward"
                })).map((e99)=>t60.createRangeOn(e99)
                ).filter((t61)=>(t61.start.isAfter(e98.start) || t61.start.isEqual(e98.start)) && (t61.end.isBefore(e98.end) || t61.end.isEqual(e98.end))
                ).forEach((e99)=>{
                    i42.push(e99.start.parent), t60.remove(e99);
                }), i42.forEach((e99)=>{
                    let i43 = e99;
                    for(; i43.parent && i43.isEmpty;){
                        const e100 = t60.createRangeOn(i43);
                        i43 = i43.parent, t60.remove(e100);
                    }
                });
            }
            function gl(e98) {
                e98.document.registerPostFixer((t60)=>(function(e99, t61) {
                        const i42 = t61.document.selection, n24 = t61.schema, o11 = [];
                        let r7 = !1;
                        for (const e100 of i42.getRanges()){
                            const t62 = ml(e100, n24);
                            t62 && !t62.isEqual(e100) ? (o11.push(t62), r7 = !0) : o11.push(e100);
                        }
                        r7 && e99.setSelection(function(e101) {
                            const t62 = [];
                            t62.push(e101.shift());
                            for (const i43 of e101){
                                const e102 = t62.pop();
                                if (i43.isEqual(e102)) t62.push(e102);
                                else if (i43.isIntersecting(e102)) {
                                    const n25 = e102.start.isAfter(i43.start) ? i43.start : e102.start, o12 = e102.end.isAfter(i43.end) ? e102.end : i43.end, r8 = new oa(n25, o12);
                                    t62.push(r8);
                                } else t62.push(e102), t62.push(i43);
                            }
                            return t62;
                        }(o11), {
                            backward: i42.isBackward
                        });
                    })(t60, e98)
                );
            }
            function ml(e98, t60) {
                return e98.isCollapsed ? (function(e99, t61) {
                    const i42 = e99.start, n24 = t61.getNearestSelectionRange(i42);
                    if (!n24) return null;
                    if (!n24.isCollapsed) return n24;
                    const o11 = n24.start;
                    if (i42.isEqual(o11)) return null;
                    return new oa(o11);
                })(e98, t60) : (function(e99, t61) {
                    const { start: i42 , end: n24  } = e99, o11 = t61.checkChild(i42, "$text"), r7 = t61.checkChild(n24, "$text"), s5 = t61.getLimitElement(i42), a4 = t61.getLimitElement(n24);
                    if (s5 === a4) {
                        if (o11 && r7) return null;
                        if ((function(e100, t62, i43) {
                            const n25 = e100.nodeAfter && !i43.isLimit(e100.nodeAfter) || i43.checkChild(e100, "$text"), o12 = t62.nodeBefore && !i43.isLimit(t62.nodeBefore) || i43.checkChild(t62, "$text");
                            return n25 || o12;
                        })(i42, n24, t61)) {
                            const e100 = i42.nodeAfter && t61.isSelectable(i42.nodeAfter) ? null : t61.getNearestSelectionRange(i42, "forward"), o12 = n24.nodeBefore && t61.isSelectable(n24.nodeBefore) ? null : t61.getNearestSelectionRange(n24, "backward"), r8 = e100 ? e100.start : i42, s6 = o12 ? o12.end : n24;
                            return new oa(r8, s6);
                        }
                    }
                    const c7 = s5 && !s5.is("rootElement"), l4 = a4 && !a4.is("rootElement");
                    if (c7 || l4) {
                        const e100 = i42.nodeAfter && n24.nodeBefore && i42.nodeAfter.parent === n24.nodeBefore.parent, o12 = c7 && (!e100 || !pl(i42.nodeAfter, t61)), r8 = l4 && (!e100 || !pl(n24.nodeBefore, t61));
                        let d6 = i42, h3 = n24;
                        return o12 && (d6 = ea._createBefore(fl(s5, t61))), r8 && (h3 = ea._createAfter(fl(a4, t61))), new oa(d6, h3);
                    }
                    return null;
                })(e98, t60);
            }
            function fl(e98, t60) {
                let i42 = e98, n24 = i42;
                for(; t60.isLimit(n24) && n24.parent;)i42 = n24, n24 = n24.parent;
                return i42;
            }
            function pl(e98, t60) {
                return e98 && t60.isSelectable(e98);
            }
            class bl {
                constructor(){
                    this.markers = new Qc, this.document = new Gc(this), this.schema = new $a, this._pendingChanges = [], this._currentWriter = null, [
                        "insertContent",
                        "deleteContent",
                        "modifySelection",
                        "getSelectedContent",
                        "applyOperation"
                    ].forEach((e98)=>this.decorate(e98)
                    ), this.on("applyOperation", (e98, t60)=>{
                        t60[0]._validate();
                    }, {
                        priority: "highest"
                    }), this.schema.register("$root", {
                        isLimit: !0
                    }), this.schema.register("$block", {
                        allowIn: "$root",
                        isBlock: !0
                    }), this.schema.register("$text", {
                        allowIn: "$block",
                        isInline: !0,
                        isContent: !0
                    }), this.schema.register("$clipboardHolder", {
                        allowContentOf: "$root",
                        allowChildren: "$text",
                        isLimit: !0
                    }), this.schema.register("$documentFragment", {
                        allowContentOf: "$root",
                        allowChildren: "$text",
                        isLimit: !0
                    }), this.schema.register("$marker"), this.schema.addChildCheck((e98, t60)=>{
                        if ("$marker" === t60.name) return !0;
                    }), gl(this), this.document.registerPostFixer(Na);
                }
                change(e) {
                    try {
                        return 0 === this._pendingChanges.length ? (this._pendingChanges.push({
                            batch: new mc,
                            callback: e
                        }), this._runPendingChanges()[0]) : e(this._currentWriter);
                    } catch (e98) {
                        c2.a.rethrowUnexpectedError(e98, this);
                    }
                }
                enqueueChange(e, t) {
                    try {
                        "string" == typeof e ? e = new mc(e) : "function" == typeof e && (t = e, e = new mc), this._pendingChanges.push({
                            batch: e,
                            callback: t
                        }), 1 == this._pendingChanges.length && this._runPendingChanges();
                    } catch (e98) {
                        c2.a.rethrowUnexpectedError(e98, this);
                    }
                }
                applyOperation(e) {
                    e._execute();
                }
                insertContent(e, t, i) {
                    return (function(e98, t60, i42, n24) {
                        return e98.change((o11)=>{
                            let r7;
                            r7 = i42 ? i42 instanceof ua || i42 instanceof _a ? i42 : o11.createSelection(i42, n24) : e98.document.selection, r7.isCollapsed || e98.deleteContent(r7, {
                                doNotAutoparagraph: !0
                            });
                            const s5 = new nl(e98, o11, r7.anchor);
                            let a4;
                            a4 = t60.is("documentFragment") ? t60.getChildren() : [
                                t60
                            ], s5.handleNodes(a4);
                            const c7 = s5.getSelectionRange();
                            c7 && (r7 instanceof _a ? o11.setSelection(c7) : r7.setTo(c7));
                            const l4 = s5.getAffectedRange() || e98.createRange(r7.anchor);
                            return s5.destroy(), l4;
                        });
                    })(this, e, t, i);
                }
                deleteContent(e, t) {
                    ol(this, e, t);
                }
                modifySelection(e, t) {
                    !function(e98, t60, i42 = {
                    }) {
                        const n24 = e98.schema, o11 = "backward" != i42.direction, r7 = i42.unit ? i42.unit : "character", s5 = t60.focus, a4 = new Zs({
                            boundaries: ll(s5, o11),
                            singleCharacters: !0,
                            direction: o11 ? "forward" : "backward"
                        }), c7 = {
                            walker: a4,
                            schema: n24,
                            isForward: o11,
                            unit: r7
                        };
                        let l4;
                        for(; l4 = a4.next();){
                            if (l4.done) return;
                            const i43 = cl(c7, l4.value);
                            if (i43) return void (t60 instanceof _a ? e98.change((e99)=>{
                                e99.setSelectionFocus(i43);
                            }) : t60.setFocus(i43));
                        }
                    }(this, e, t);
                }
                getSelectedContent(e) {
                    return (function(e98, t60) {
                        return e98.change((e99)=>{
                            const i42 = e99.createDocumentFragment(), n24 = t60.getFirstRange();
                            if (!n24 || n24.isCollapsed) return i42;
                            const o11 = n24.start.root, r7 = n24.start.getCommonPath(n24.end), s5 = o11.getNodeByPath(r7);
                            let a4;
                            a4 = n24.start.parent == n24.end.parent ? n24 : e99.createRange(e99.createPositionAt(s5, n24.start.path[r7.length]), e99.createPositionAt(s5, n24.end.path[r7.length] + 1));
                            const c7 = a4.end.offset - a4.start.offset;
                            for (const t61 of a4.getItems({
                                shallow: !0
                            }))t61.is("$textProxy") ? e99.appendText(t61.data, t61.getAttributes(), i42) : e99.append(e99.cloneElement(t61, !0), i42);
                            if (a4 != n24) {
                                const t62 = n24._getTransformedByMove(a4.start, e99.createPositionAt(i42, 0), c7)[0], o12 = e99.createRange(e99.createPositionAt(i42, 0), t62.start);
                                ul(e99.createRange(t62.end, e99.createPositionAt(i42, "end")), e99), ul(o12, e99);
                            }
                            return i42;
                        });
                    })(this, e);
                }
                hasContent(e, t = {
                }) {
                    const i42 = e instanceof Js ? oa._createIn(e) : e;
                    if (i42.isCollapsed) return !1;
                    const { ignoreWhitespaces: n24 = !1 , ignoreMarkers: o11 = !1  } = t;
                    if (!o11) for (const e98 of this.markers.getMarkersIntersectingRange(i42))if (e98.affectsData) return !0;
                    for (const e99 of i42.getItems())if (this.schema.isContent(e99)) {
                        if (!e99.is("$textProxy")) return !0;
                        if (!n24) return !0;
                        if (-1 !== e99.data.search(/\S/)) return !0;
                    }
                    return !1;
                }
                createPositionFromPath(e, t, i) {
                    return new ea(e, t, i);
                }
                createPositionAt(e, t) {
                    return ea._createAt(e, t);
                }
                createPositionAfter(e) {
                    return ea._createAfter(e);
                }
                createPositionBefore(e) {
                    return ea._createBefore(e);
                }
                createRange(e, t) {
                    return new oa(e, t);
                }
                createRangeIn(e) {
                    return oa._createIn(e);
                }
                createRangeOn(e) {
                    return oa._createOn(e);
                }
                createSelection(e, t, i) {
                    return new ua(e, t, i);
                }
                createBatch(e) {
                    return new mc(e);
                }
                createOperationFromJSON(e) {
                    return (class {
                        static fromJSON(e, t) {
                            return Xc[e.__className].fromJSON(e, t);
                        }
                    }).fromJSON(e, this.document);
                }
                destroy() {
                    this.document.destroy(), this.stopListening();
                }
                _runPendingChanges() {
                    const e98 = [];
                    for(this.fire("_beforeChanges"); this._pendingChanges.length;){
                        const t60 = this._pendingChanges[0].batch;
                        this._currentWriter = new zc(this, t60);
                        const i42 = this._pendingChanges[0].callback(this._currentWriter);
                        e98.push(i42), this.document._handleChangeBlock(this._currentWriter), this._pendingChanges.shift(), this._currentWriter = null;
                    }
                    return this.fire("_afterChanges"), e98;
                }
            }
            Ke(bl, Ue);
            class wl extends Os {
                constructor(e98){
                    super(), this.editor = e98;
                }
                set(e, t, i = {
                }) {
                    if ("string" == typeof t) {
                        const e99 = t;
                        t = (t60, i42)=>{
                            this.editor.execute(e99), i42();
                        };
                    }
                    super.set(e, t, i);
                }
            }
            class kl {
                constructor(e99 = {
                }){
                    this._context = e99.context || new sn({
                        language: e99.language
                    }), this._context._addEditor(this, !e99.context);
                    const t60 = Array.from(this.constructor.builtinPlugins || []);
                    this.config = new Gi(e99, this.constructor.defaultConfig), this.config.define("plugins", t60), this.config.define(this._context._getEditorConfig()), this.plugins = new Xi(this, t60, this._context.plugins), this.locale = this._context.locale, this.t = this.locale.t, this.commands = new Ua, this.set("state", "initializing"), this.once("ready", ()=>this.state = "ready"
                    , {
                        priority: "high"
                    }), this.once("destroy", ()=>this.state = "destroyed"
                    , {
                        priority: "high"
                    }), this.set("isReadOnly", !1), this.model = new bl;
                    const i42 = new Jn;
                    this.data = new dc(this.model, i42), this.editing = new Ha(this.model, i42), this.editing.view.document.bind("isReadOnly").to(this), this.conversion = new hc([
                        this.editing.downcastDispatcher,
                        this.data.downcastDispatcher
                    ], this.data.upcastDispatcher), this.conversion.addAlias("dataDowncast", this.data.downcastDispatcher), this.conversion.addAlias("editingDowncast", this.editing.downcastDispatcher), this.keystrokes = new wl(this), this.keystrokes.listenTo(this.editing.view.document);
                }
                initPlugins() {
                    const e100 = this.config, t61 = e100.get("plugins"), i43 = e100.get("removePlugins") || [], n24 = e100.get("extraPlugins") || [], o11 = e100.get("substitutePlugins") || [];
                    return this.plugins.init(t61.concat(n24), i43, o11);
                }
                destroy() {
                    let e100 = Promise.resolve();
                    return "initializing" == this.state && (e100 = new Promise((e101)=>this.once("ready", e101)
                    )), e100.then(()=>{
                        this.fire("destroy"), this.stopListening(), this.commands.destroy();
                    }).then(()=>this.plugins.destroy()
                    ).then(()=>{
                        this.model.destroy(), this.data.destroy(), this.editing.destroy(), this.keystrokes.destroy();
                    }).then(()=>this._context._removeEditor(this)
                    );
                }
                execute(...e) {
                    try {
                        return this.commands.execute(...e);
                    } catch (e100) {
                        c2.a.rethrowUnexpectedError(e100, this);
                    }
                }
                focus() {
                    this.editing.view.focus();
                }
            }
            Ke(kl, Ue);
            class _l {
                constructor(e100){
                    this.editor = e100, this._components = new Map;
                }
                *names() {
                    for (const e101 of this._components.values())yield e101.originalName;
                }
                add(e, t) {
                    this._components.set(vl(e), {
                        callback: t,
                        originalName: e
                    });
                }
                create(e) {
                    if (!this.has(e)) throw new c2.a("componentfactory-item-missing", this, {
                        name: e
                    });
                    return this._components.get(vl(e)).callback(this.editor.locale);
                }
                has(e) {
                    return this._components.has(vl(e));
                }
            }
            function vl(e101) {
                return String(e101).toLowerCase();
            }
            class yl {
                constructor(e101){
                    this.editor = e101, this.componentFactory = new _l(e101), this.focusTracker = new Rs, this._editableElementsMap = new Map, this.listenTo(e101.editing.view.document, "layoutChanged", ()=>this.update()
                    );
                }
                get element() {
                    return null;
                }
                update() {
                    this.fire("update");
                }
                destroy() {
                    this.stopListening(), this.focusTracker.destroy();
                    for (const e102 of this._editableElementsMap.values())e102.ckeditorInstance = null;
                    this._editableElementsMap = new Map;
                }
                setEditableElement(e, t) {
                    this._editableElementsMap.set(e, t), t.ckeditorInstance || (t.ckeditorInstance = this.editor);
                }
                getEditableElement(e = "main") {
                    return this._editableElementsMap.get(e);
                }
                getEditableElementsNames() {
                    return this._editableElementsMap.keys();
                }
                get _editableElements() {
                    return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.", {
                        editorUI: this
                    }), this._editableElementsMap;
                }
            }
            Ke(yl, h1);
            var xl = {
                setData (e) {
                    this.data.set(e);
                },
                getData (e) {
                    return this.data.get(e);
                }
            };
            var Al = {
                updateSourceElement () {
                    if (!this.sourceElement) throw new c2.a("editor-missing-sourceelement", this);
                    var e102, t61;
                    e102 = this.sourceElement, t61 = this.data.get(), e102 instanceof HTMLTextAreaElement && (e102.value = t61), e102.innerHTML = t61;
                }
            };
            class Cl extends an {
                static get pluginName() {
                    return "PendingActions";
                }
                init() {
                    this.set("hasAny", !1), this._actions = new Zi({
                        idProperty: "_id"
                    }), this._actions.delegate("add", "remove").to(this);
                }
                add(e) {
                    if ("string" != typeof e) throw new c2.a("pendingactions-add-invalid-message", this);
                    const t62 = Object.create(Ue);
                    return t62.set("message", e), this._actions.add(t62), this.hasAny = !0, t62;
                }
                remove(e) {
                    this._actions.remove(e), this.hasAny = !!this._actions.length;
                }
                get first() {
                    return this._actions.get(0);
                }
                [Symbol.iterator]() {
                    return this._actions[Symbol.iterator]();
                }
            }
            const Tl = {
                cancel: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',
                caption: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',
                check: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',
                eraser: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',
                lowVision: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',
                image: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',
                alignBottom: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',
                alignMiddle: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',
                alignTop: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',
                alignLeft: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',
                alignCenter: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',
                alignRight: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',
                alignJustify: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',
                objectLeft: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',
                objectCenter: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',
                objectRight: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',
                objectFullWidth: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',
                objectInline: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',
                objectBlockLeft: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',
                objectBlockRight: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',
                objectSizeFull: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',
                objectSizeLarge: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',
                objectSizeSmall: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',
                objectSizeMedium: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',
                pencil: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',
                pilcrow: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',
                quote: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',
                threeVerticalDots: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'
            };
            function El({ emitter: e103 , activator: t62 , callback: i43 , contextElements: n24  }) {
                e103.listenTo(document, "mousedown", (e104, o11)=>{
                    if (!t62()) return;
                    const r7 = "function" == typeof o11.composedPath ? o11.composedPath() : [];
                    for (const e105 of n24)if (e105.contains(o11.target) || r7.includes(e105)) return;
                    i43();
                });
            }
            function Il(e103) {
                e103.set("_isCssTransitionsDisabled", !1), e103.disableCssTransitions = ()=>{
                    e103._isCssTransitionsDisabled = !0;
                }, e103.enableCssTransitions = ()=>{
                    e103._isCssTransitionsDisabled = !1;
                }, e103.extendTemplate({
                    attributes: {
                        class: [
                            e103.bindTemplate.if("_isCssTransitionsDisabled", "ck-transitions-disabled")
                        ]
                    }
                });
            }
            function Sl({ view: e103  }) {
                e103.listenTo(e103.element, "submit", (t62, i43)=>{
                    i43.preventDefault(), e103.fire("submit");
                }, {
                    useCapture: !0
                });
            }
            class Pl extends Zi {
                constructor(e103 = []){
                    super(e103, {
                        idProperty: "viewUid"
                    }), this.on("add", (e104, t62, i43)=>{
                        this._renderViewIntoCollectionParent(t62, i43);
                    }), this.on("remove", (e104, t62)=>{
                        t62.element && this._parentElement && t62.element.remove();
                    }), this._parentElement = null;
                }
                destroy() {
                    this.map((e104)=>e104.destroy()
                    );
                }
                setParent(e) {
                    this._parentElement = e;
                    for (const e104 of this)this._renderViewIntoCollectionParent(e104);
                }
                delegate(...e) {
                    if (!e.length || !e.every((e104)=>"string" == typeof e104
                    )) throw new c2.a("ui-viewcollection-delegate-wrong-events", this);
                    return {
                        to: (t62)=>{
                            for (const i43 of this)for (const n24 of e)i43.delegate(n24).to(t62);
                            this.on("add", (i44, n25)=>{
                                for (const i45 of e)n25.delegate(i45).to(t62);
                            }), this.on("remove", (i44, n25)=>{
                                for (const i45 of e)n25.stopDelegating(i45, t62);
                            });
                        }
                    };
                }
                _renderViewIntoCollectionParent(e, t) {
                    e.isRendered || e.render(), e.element && this._parentElement && this._parentElement.insertBefore(e.element, this._parentElement.children[t]);
                }
            }
            i2(15);
            class Ml {
                constructor(e104){
                    this.element = null, this.isRendered = !1, this.locale = e104, this.t = e104 && e104.t, this._viewCollections = new Zi, this._unboundChildren = this.createCollection(), this._viewCollections.on("add", (t62, i43)=>{
                        i43.locale = e104;
                    }), this.decorate("render");
                }
                get bindTemplate() {
                    return this._bindTemplate ? this._bindTemplate : this._bindTemplate = Nl.bind(this, this);
                }
                createCollection(e) {
                    const t62 = new Pl(e);
                    return this._viewCollections.add(t62), t62;
                }
                registerChild(e) {
                    Ji(e) || (e = [
                        e
                    ]);
                    for (const t62 of e)this._unboundChildren.add(t62);
                }
                deregisterChild(e) {
                    Ji(e) || (e = [
                        e
                    ]);
                    for (const t62 of e)this._unboundChildren.remove(t62);
                }
                setTemplate(e) {
                    this.template = new Nl(e);
                }
                extendTemplate(e) {
                    Nl.extend(this.template, e);
                }
                render() {
                    if (this.isRendered) throw new c2.a("ui-view-render-already-rendered", this);
                    this.template && (this.element = this.template.render(), this.registerChild(this.template.getViews())), this.isRendered = !0;
                }
                destroy() {
                    this.stopListening(), this._viewCollections.map((e105)=>e105.destroy()
                    ), this.template && this.template._revertData && this.template.revert(this.element);
                }
            }
            Ke(Ml, Mr), Ke(Ml, Ue);
            class Nl {
                constructor(e105){
                    Object.assign(this, Hl(Fl(e105))), this._isRendered = !1, this._revertData = null;
                }
                render() {
                    const e106 = this._renderNode({
                        intoFragment: !0
                    });
                    return this._isRendered = !0, e106;
                }
                apply(e) {
                    return this._revertData = {
                        children: [],
                        bindings: [],
                        attributes: {
                        }
                    }, this._renderNode({
                        node: e,
                        isApplying: !0,
                        revertData: this._revertData
                    }), e;
                }
                revert(e) {
                    if (!this._revertData) throw new c2.a("ui-template-revert-not-applied", [
                        this,
                        e
                    ]);
                    this._revertTemplateFromNode(e, this._revertData);
                }
                *getViews() {
                    yield* (function* e106(t62) {
                        if (t62.children) for (const i43 of t62.children)Yl(i43) ? yield i43 : Gl(i43) && (yield* e106(i43));
                    })(this);
                }
                static bind(e, t) {
                    return {
                        to: (i43, n24)=>new Ol({
                                eventNameOrFunction: i43,
                                attribute: i43,
                                observable: e,
                                emitter: t,
                                callback: n24
                            })
                        ,
                        if: (i43, n24, o11)=>new zl({
                                observable: e,
                                emitter: t,
                                attribute: i43,
                                valueIfTrue: n24,
                                callback: o11
                            })
                    };
                }
                static extend(e, t) {
                    if (e._isRendered) throw new c2.a("template-extend-render", [
                        this,
                        e
                    ]);
                    !function e106(t62, i43) {
                        i43.attributes && (t62.attributes || (t62.attributes = {
                        }), ql(t62.attributes, i43.attributes));
                        i43.eventListeners && (t62.eventListeners || (t62.eventListeners = {
                        }), ql(t62.eventListeners, i43.eventListeners));
                        i43.text && t62.text.push(...i43.text);
                        if (i43.children && i43.children.length) {
                            if (t62.children.length != i43.children.length) throw new c2.a("ui-template-extend-children-mismatch", t62);
                            let n24 = 0;
                            for (const o11 of i43.children)e106(t62.children[n24++], o11);
                        }
                    }(e, Hl(Fl(t)));
                }
                _renderNode(e) {
                    let t62;
                    if (t62 = e.node ? this.tag && this.text : this.tag ? this.text : !this.text, t62) throw new c2.a("ui-template-wrong-syntax", this);
                    return this.text ? this._renderText(e) : this._renderElement(e);
                }
                _renderElement(e) {
                    let t62 = e.node;
                    return t62 || (t62 = e.node = document.createElementNS(this.ns || "http://www.w3.org/1999/xhtml", this.tag)), this._renderAttributes(e), this._renderElementChildren(e), this._setUpListeners(e), t62;
                }
                _renderText(e) {
                    let t62 = e.node;
                    return t62 ? e.revertData.text = t62.textContent : t62 = e.node = document.createTextNode(""), Dl(this.text) ? this._bindToObservable({
                        schema: this.text,
                        updater: Vl(t62),
                        data: e
                    }) : t62.textContent = this.text.join(""), t62;
                }
                _renderAttributes(e) {
                    let t62, i43, n24, o11;
                    if (!this.attributes) return;
                    const r7 = e.node, s5 = e.revertData;
                    for(t62 in this.attributes)if (n24 = r7.getAttribute(t62), i43 = this.attributes[t62], s5 && (s5.attributes[t62] = n24), o11 = w(i43[0]) && i43[0].ns ? i43[0].ns : null, Dl(i43)) {
                        const a4 = o11 ? i43[0].value : i43;
                        s5 && Ql(t62) && a4.unshift(n24), this._bindToObservable({
                            schema: a4,
                            updater: jl(r7, t62, o11),
                            data: e
                        });
                    } else "style" == t62 && "string" != typeof i43[0] ? this._renderStyleAttribute(i43[0], e) : (s5 && n24 && Ql(t62) && i43.unshift(n24), i43 = i43.map((e106)=>e106 && e106.value || e106
                    ).reduce((e106, t63)=>e106.concat(t63)
                    , []).reduce(Wl, ""), $l(i43) || r7.setAttributeNS(o11, t62, i43));
                }
                _renderStyleAttribute(e, t) {
                    const i43 = t.node;
                    for(const n24 in e){
                        const o11 = e[n24];
                        Dl(o11) ? this._bindToObservable({
                            schema: [
                                o11
                            ],
                            updater: Bl(i43, n24),
                            data: t
                        }) : i43.style[n24] = o11;
                    }
                }
                _renderElementChildren(e) {
                    const t62 = e.node, i43 = e.intoFragment ? document.createDocumentFragment() : t62, n24 = e.isApplying;
                    let o11 = 0;
                    for (const r7 of this.children)if (Kl(r7)) {
                        if (!n24) {
                            r7.setParent(t62);
                            for (const e106 of r7)i43.appendChild(e106.element);
                        }
                    } else if (Yl(r7)) n24 || (r7.isRendered || r7.render(), i43.appendChild(r7.element));
                    else if (pr(r7)) i43.appendChild(r7);
                    else if (n24) {
                        const t63 = {
                            children: [],
                            bindings: [],
                            attributes: {
                            }
                        };
                        e.revertData.children.push(t63), r7._renderNode({
                            node: i43.childNodes[o11++],
                            isApplying: !0,
                            revertData: t63
                        });
                    } else i43.appendChild(r7.render());
                    e.intoFragment && t62.appendChild(i43);
                }
                _setUpListeners(e) {
                    if (this.eventListeners) for(const t62 in this.eventListeners){
                        const i43 = this.eventListeners[t62].map((i44)=>{
                            const [n24, o11] = t62.split("@");
                            return i44.activateDomEventListener(n24, o11, e);
                        });
                        e.revertData && e.revertData.bindings.push(i43);
                    }
                }
                _bindToObservable({ schema: e , updater: t , data: i  }) {
                    const n24 = i.revertData;
                    Ll(e, t, i);
                    const o11 = e.filter((e106)=>!$l(e106)
                    ).filter((e106)=>e106.observable
                    ).map((n25)=>n25.activateAttributeListener(e, t, i)
                    );
                    n24 && n24.bindings.push(o11);
                }
                _revertTemplateFromNode(e, t) {
                    for (const e106 of t.bindings)for (const t62 of e106)t62();
                    if (t.text) e.textContent = t.text;
                    else {
                        for(const i43 in t.attributes){
                            const n24 = t.attributes[i43];
                            null === n24 ? e.removeAttribute(i43) : e.setAttribute(i43, n24);
                        }
                        for(let i44 = 0; i44 < t.children.length; ++i44)this._revertTemplateFromNode(e.childNodes[i44], t.children[i44]);
                    }
                }
            }
            Ke(Nl, h1);
            class Rl {
                constructor(e106){
                    Object.assign(this, e106);
                }
                getValue(e) {
                    const t62 = this.observable[this.attribute];
                    return this.callback ? this.callback(t62, e) : t62;
                }
                activateAttributeListener(e, t, i) {
                    const n24 = ()=>Ll(e, t, i)
                    ;
                    return this.emitter.listenTo(this.observable, "change:" + this.attribute, n24), ()=>{
                        this.emitter.stopListening(this.observable, "change:" + this.attribute, n24);
                    };
                }
            }
            class Ol extends Rl {
                activateDomEventListener(e, t, i) {
                    const n24 = (e107, i43)=>{
                        t && !i43.target.matches(t) || ("function" == typeof this.eventNameOrFunction ? this.eventNameOrFunction(i43) : this.observable.fire(this.eventNameOrFunction, i43));
                    };
                    return this.emitter.listenTo(i.node, e, n24), ()=>{
                        this.emitter.stopListening(i.node, e, n24);
                    };
                }
            }
            class zl extends Rl {
                getValue(e) {
                    return !$l(super.getValue(e)) && (this.valueIfTrue || !0);
                }
            }
            function Dl(e107) {
                return !!e107 && (e107.value && (e107 = e107.value), Array.isArray(e107) ? e107.some(Dl) : e107 instanceof Rl);
            }
            function Ll(e107, t62, { node: i43  }) {
                let n24 = function(e108, t63) {
                    return e108.map((e109)=>e109 instanceof Rl ? e109.getValue(t63) : e109
                    );
                }(e107, i43);
                n24 = 1 == e107.length && e107[0] instanceof zl ? n24[0] : n24.reduce(Wl, ""), $l(n24) ? t62.remove() : t62.set(n24);
            }
            function Vl(e107) {
                return {
                    set (t) {
                        e107.textContent = t;
                    },
                    remove () {
                        e107.textContent = "";
                    }
                };
            }
            function jl(e107, t62, i43) {
                return {
                    set (n) {
                        e107.setAttributeNS(i43, t62, n);
                    },
                    remove () {
                        e107.removeAttributeNS(i43, t62);
                    }
                };
            }
            function Bl(e107, t62) {
                return {
                    set (i) {
                        e107.style[t62] = i;
                    },
                    remove () {
                        e107.style[t62] = null;
                    }
                };
            }
            function Fl(e107) {
                return $i(e107, (e108)=>{
                    if (e108 && (e108 instanceof Rl || Gl(e108) || Yl(e108) || Kl(e108))) return e108;
                });
            }
            function Hl(e107) {
                if ("string" == typeof e107 ? e107 = (function(e108) {
                    return {
                        text: [
                            e108
                        ]
                    };
                })(e107) : e107.text && (function(e108) {
                    e108.text = en(e108.text);
                })(e107), e107.on && (e107.eventListeners = (function(e108) {
                    for(const t62 in e108)Ul(e108, t62);
                    return e108;
                })(e107.on), delete e107.on), !e107.text) {
                    e107.attributes && (function(e108) {
                        for(const t62 in e108)e108[t62].value && (e108[t62].value = en(e108[t62].value)), Ul(e108, t62);
                    })(e107.attributes);
                    const t62 = [];
                    if (e107.children) {
                        if (Kl(e107.children)) t62.push(e107.children);
                        else for (const i43 of e107.children)Gl(i43) || Yl(i43) || pr(i43) ? t62.push(i43) : t62.push(new Nl(i43));
                    }
                    e107.children = t62;
                }
                return e107;
            }
            function Ul(e107, t62) {
                e107[t62] = en(e107[t62]);
            }
            function Wl(e107, t62) {
                return $l(t62) ? e107 : $l(e107) ? t62 : `${e107} ${t62}`;
            }
            function ql(e107, t62) {
                for(const i43 in t62)e107[i43] ? e107[i43].push(...t62[i43]) : e107[i43] = t62[i43];
            }
            function $l(e107) {
                return !e107 && 0 !== e107;
            }
            function Yl(e107) {
                return e107 instanceof Ml;
            }
            function Gl(e107) {
                return e107 instanceof Nl;
            }
            function Kl(e107) {
                return e107 instanceof Pl;
            }
            function Ql(e107) {
                return "class" == e107 || "style" == e107;
            }
            class Jl extends Pl {
                constructor(e107, t62 = []){
                    super(t62), this.locale = e107;
                }
                attachToDom() {
                    this._bodyCollectionContainer = new Nl({
                        tag: "div",
                        attributes: {
                            class: [
                                "ck",
                                "ck-reset_all",
                                "ck-body",
                                "ck-rounded-corners"
                            ],
                            dir: this.locale.uiLanguageDirection
                        },
                        children: this
                    }).render();
                    let e108 = document.querySelector(".ck-body-wrapper");
                    e108 || (e108 = (function(e109, t63, i43 = {
                    }, n24 = []) {
                        const o11 = i43 && i43.xmlns, r7 = o11 ? e109.createElementNS(o11, t63) : e109.createElement(t63);
                        for(const e110 in i43)r7.setAttribute(e110, i43[e110]);
                        !ys(n24) && Ji(n24) || (n24 = [
                            n24
                        ]);
                        for (let t64 of n24)ys(t64) && (t64 = e109.createTextNode(t64)), r7.appendChild(t64);
                        return r7;
                    })(document, "div", {
                        class: "ck-body-wrapper"
                    }), document.body.appendChild(e108)), e108.appendChild(this._bodyCollectionContainer);
                }
                detachFromDom() {
                    super.destroy(), this._bodyCollectionContainer && this._bodyCollectionContainer.remove();
                    const e108 = document.querySelector(".ck-body-wrapper");
                    e108 && 0 == e108.childElementCount && e108.remove();
                }
            }
            i2(17);
            class Zl extends Ml {
                constructor(){
                    super();
                    const e108 = this.bindTemplate;
                    this.set("content", ""), this.set("viewBox", "0 0 20 20"), this.set("fillColor", ""), this.setTemplate({
                        tag: "svg",
                        ns: "http://www.w3.org/2000/svg",
                        attributes: {
                            class: [
                                "ck",
                                "ck-icon"
                            ],
                            viewBox: e108.to("viewBox")
                        }
                    });
                }
                render() {
                    super.render(), this._updateXMLContent(), this._colorFillPaths(), this.on("change:content", ()=>{
                        this._updateXMLContent(), this._colorFillPaths();
                    }), this.on("change:fillColor", ()=>{
                        this._colorFillPaths();
                    });
                }
                _updateXMLContent() {
                    if (this.content) {
                        const e109 = (new DOMParser).parseFromString(this.content.trim(), "image/svg+xml").querySelector("svg"), t63 = e109.getAttribute("viewBox");
                        for(t63 && (this.viewBox = t63), this.element.innerHTML = ""; e109.childNodes.length > 0;)this.element.appendChild(e109.childNodes[0]);
                    }
                }
                _colorFillPaths() {
                    this.fillColor && this.element.querySelectorAll(".ck-icon__fill").forEach((e109)=>{
                        e109.style.fill = this.fillColor;
                    });
                }
            }
            i2(19);
            class Xl extends Ml {
                constructor(e109){
                    super(e109), this.set("text", ""), this.set("position", "s");
                    const t63 = this.bindTemplate;
                    this.setTemplate({
                        tag: "span",
                        attributes: {
                            class: [
                                "ck",
                                "ck-tooltip",
                                t63.to("position", (e110)=>"ck-tooltip_" + e110
                                ),
                                t63.if("text", "ck-hidden", (e110)=>!e110.trim()
                                )
                            ]
                        },
                        children: [
                            {
                                tag: "span",
                                attributes: {
                                    class: [
                                        "ck",
                                        "ck-tooltip__text"
                                    ]
                                },
                                children: [
                                    {
                                        text: t63.to("text")
                                    }
                                ]
                            }
                        ]
                    });
                }
            }
            i2(21);
            class ed extends Ml {
                constructor(e110){
                    super(e110);
                    const t64 = this.bindTemplate, i43 = s3();
                    this.set("class"), this.set("labelStyle"), this.set("icon"), this.set("isEnabled", !0), this.set("isOn", !1), this.set("isVisible", !0), this.set("isToggleable", !1), this.set("keystroke"), this.set("label"), this.set("tabindex", -1), this.set("tooltip"), this.set("tooltipPosition", "s"), this.set("type", "button"), this.set("withText", !1), this.set("withKeystroke", !1), this.children = this.createCollection(), this.tooltipView = this._createTooltipView(), this.labelView = this._createLabelView(i43), this.iconView = new Zl, this.iconView.extendTemplate({
                        attributes: {
                            class: "ck-button__icon"
                        }
                    }), this.keystrokeView = this._createKeystrokeView(), this.bind("_tooltipString").to(this, "tooltip", this, "label", this, "keystroke", this._getTooltipString.bind(this)), this.setTemplate({
                        tag: "button",
                        attributes: {
                            class: [
                                "ck",
                                "ck-button",
                                t64.to("class"),
                                t64.if("isEnabled", "ck-disabled", (e111)=>!e111
                                ),
                                t64.if("isVisible", "ck-hidden", (e111)=>!e111
                                ),
                                t64.to("isOn", (e111)=>e111 ? "ck-on" : "ck-off"
                                ),
                                t64.if("withText", "ck-button_with-text"),
                                t64.if("withKeystroke", "ck-button_with-keystroke")
                            ],
                            type: t64.to("type", (e111)=>e111 || "button"
                            ),
                            tabindex: t64.to("tabindex"),
                            "aria-labelledby": "ck-editor__aria-label_" + i43,
                            "aria-disabled": t64.if("isEnabled", !0, (e111)=>!e111
                            ),
                            "aria-pressed": t64.to("isOn", (e111)=>!!this.isToggleable && String(e111)
                            )
                        },
                        children: this.children,
                        on: {
                            mousedown: t64.to((e111)=>{
                                e111.preventDefault();
                            }),
                            click: t64.to((e111)=>{
                                this.isEnabled ? this.fire("execute") : e111.preventDefault();
                            })
                        }
                    });
                }
                render() {
                    super.render(), this.icon && (this.iconView.bind("content").to(this, "icon"), this.children.add(this.iconView)), this.children.add(this.tooltipView), this.children.add(this.labelView), this.withKeystroke && this.children.add(this.keystrokeView);
                }
                focus() {
                    this.element.focus();
                }
                _createTooltipView() {
                    const e111 = new Xl;
                    return e111.bind("text").to(this, "_tooltipString"), e111.bind("position").to(this, "tooltipPosition"), e111;
                }
                _createLabelView(e) {
                    const t65 = new Ml, i44 = this.bindTemplate;
                    return t65.setTemplate({
                        tag: "span",
                        attributes: {
                            class: [
                                "ck",
                                "ck-button__label"
                            ],
                            style: i44.to("labelStyle"),
                            id: "ck-editor__aria-label_" + e
                        },
                        children: [
                            {
                                text: this.bindTemplate.to("label")
                            }
                        ]
                    }), t65;
                }
                _createKeystrokeView() {
                    const e111 = new Ml;
                    return e111.setTemplate({
                        tag: "span",
                        attributes: {
                            class: [
                                "ck",
                                "ck-button__keystroke"
                            ]
                        },
                        children: [
                            {
                                text: this.bindTemplate.to("keystroke", (e112)=>Do(e112)
                                )
                            }
                        ]
                    }), e111;
                }
                _getTooltipString(e, t, i) {
                    return e ? "string" == typeof e ? e : (i && (i = Do(i)), e instanceof Function ? e(t, i) : `${t}${i ? ` (${i})` : ""}`) : "";
                }
            }
            i2(23);
            class td extends ed {
                constructor(e111){
                    super(e111), this.isToggleable = !0, this.toggleSwitchView = this._createToggleView(), this.extendTemplate({
                        attributes: {
                            class: "ck-switchbutton"
                        }
                    });
                }
                render() {
                    super.render(), this.children.add(this.toggleSwitchView);
                }
                _createToggleView() {
                    const e112 = new Ml;
                    return e112.setTemplate({
                        tag: "span",
                        attributes: {
                            class: [
                                "ck",
                                "ck-button__toggle"
                            ]
                        },
                        children: [
                            {
                                tag: "span",
                                attributes: {
                                    class: [
                                        "ck",
                                        "ck-button__toggle__inner"
                                    ]
                                }
                            }
                        ]
                    }), e112;
                }
            }
            class id {
                constructor(e112){
                    if (Object.assign(this, e112), e112.actions && e112.keystrokeHandler) for(const t65 in e112.actions){
                        let i44 = e112.actions[t65];
                        "string" == typeof i44 && (i44 = [
                            i44
                        ]);
                        for (const n24 of i44)e112.keystrokeHandler.set(n24, (e113, i45)=>{
                            this[t65](), i45();
                        });
                    }
                }
                get first() {
                    return this.focusables.find(nd) || null;
                }
                get last() {
                    return this.focusables.filter(nd).slice(-1)[0] || null;
                }
                get next() {
                    return this._getFocusableItem(1);
                }
                get previous() {
                    return this._getFocusableItem(-1);
                }
                get current() {
                    let e113 = null;
                    return null === this.focusTracker.focusedElement ? null : (this.focusables.find((t66, i44)=>{
                        const n24 = t66.element === this.focusTracker.focusedElement;
                        return n24 && (e113 = i44), n24;
                    }), e113);
                }
                focusFirst() {
                    this._focus(this.first);
                }
                focusLast() {
                    this._focus(this.last);
                }
                focusNext() {
                    this._focus(this.next);
                }
                focusPrevious() {
                    this._focus(this.previous);
                }
                _focus(e) {
                    e && e.focus();
                }
                _getFocusableItem(e) {
                    const t66 = this.current, i44 = this.focusables.length;
                    if (!i44) return null;
                    if (null === t66) return this[1 === e ? "first" : "last"];
                    let n24 = (t66 + i44 + e) % i44;
                    do {
                        const t67 = this.focusables.get(n24);
                        if (nd(t67)) return t67;
                        n24 = (n24 + i44 + e) % i44;
                    }while (n24 !== t66)
                    return null;
                }
            }
            function nd(e113) {
                return !(!e113.focus || "none" == vr.window.getComputedStyle(e113.element).display);
            }
            i2(25);
            var od = '<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';
            class rd extends ed {
                constructor(e113){
                    super(e113), this.arrowView = this._createArrowView(), this.extendTemplate({
                        attributes: {
                            "aria-haspopup": !0
                        }
                    }), this.delegate("execute").to(this, "open");
                }
                render() {
                    super.render(), this.children.add(this.arrowView);
                }
                _createArrowView() {
                    const e114 = new Zl;
                    return e114.content = od, e114.extendTemplate({
                        attributes: {
                            class: "ck-dropdown__arrow"
                        }
                    }), e114;
                }
            }
            i2(27);
            class sd extends Ml {
                constructor(e114){
                    super(e114);
                    const t66 = this.bindTemplate;
                    this.set("class"), this.set("icon"), this.set("isEnabled", !0), this.set("isOn", !1), this.set("isToggleable", !1), this.set("isVisible", !0), this.set("keystroke"), this.set("label"), this.set("tabindex", -1), this.set("tooltip"), this.set("tooltipPosition", "s"), this.set("type", "button"), this.set("withText", !1), this.children = this.createCollection(), this.actionView = this._createActionView(), this.arrowView = this._createArrowView(), this.keystrokes = new Os, this.focusTracker = new Rs, this.setTemplate({
                        tag: "div",
                        attributes: {
                            class: [
                                "ck",
                                "ck-splitbutton",
                                t66.to("class"),
                                t66.if("isVisible", "ck-hidden", (e115)=>!e115
                                ),
                                this.arrowView.bindTemplate.if("isOn", "ck-splitbutton_open")
                            ]
                        },
                        children: this.children
                    });
                }
                render() {
                    super.render(), this.children.add(this.actionView), this.children.add(this.arrowView), this.focusTracker.add(this.actionView.element), this.focusTracker.add(this.arrowView.element), this.keystrokes.listenTo(this.element), this.keystrokes.set("arrowright", (e115, t67)=>{
                        this.focusTracker.focusedElement === this.actionView.element && (this.arrowView.focus(), t67());
                    }), this.keystrokes.set("arrowleft", (e115, t67)=>{
                        this.focusTracker.focusedElement === this.arrowView.element && (this.actionView.focus(), t67());
                    });
                }
                focus() {
                    this.actionView.focus();
                }
                _createActionView() {
                    const e115 = new ed;
                    return e115.bind("icon", "isEnabled", "isOn", "isToggleable", "keystroke", "label", "tabindex", "tooltip", "tooltipPosition", "type", "withText").to(this), e115.extendTemplate({
                        attributes: {
                            class: "ck-splitbutton__action"
                        }
                    }), e115.delegate("execute").to(this), e115;
                }
                _createArrowView() {
                    const e115 = new ed, t67 = e115.bindTemplate;
                    return e115.icon = od, e115.extendTemplate({
                        attributes: {
                            class: "ck-splitbutton__arrow",
                            "aria-haspopup": !0,
                            "aria-expanded": t67.to("isOn", (e116)=>String(e116)
                            )
                        }
                    }), e115.bind("isEnabled").to(this), e115.delegate("execute").to(this, "open"), e115;
                }
            }
            class ad extends Ml {
                constructor(e115){
                    super(e115);
                    const t67 = this.bindTemplate;
                    this.set("isVisible", !1), this.set("position", "se"), this.children = this.createCollection(), this.setTemplate({
                        tag: "div",
                        attributes: {
                            class: [
                                "ck",
                                "ck-reset",
                                "ck-dropdown__panel",
                                t67.to("position", (e116)=>"ck-dropdown__panel_" + e116
                                ),
                                t67.if("isVisible", "ck-dropdown__panel-visible")
                            ]
                        },
                        children: this.children,
                        on: {
                            selectstart: t67.to((e116)=>e116.preventDefault()
                            )
                        }
                    });
                }
                focus() {
                    this.children.length && this.children.first.focus();
                }
                focusLast() {
                    if (this.children.length) {
                        const e116 = this.children.last;
                        "function" == typeof e116.focusLast ? e116.focusLast() : e116.focus();
                    }
                }
            }
            i2(29);
            function cd({ element: e116 , target: t68 , positions: i44 , limiter: n24 , fitInViewport: o11  }) {
                M(t68) && (t68 = t68()), M(n24) && (n24 = n24());
                const r7 = function(e117) {
                    return e117 && e117.parentNode ? e117.offsetParent === vr.document.body ? null : e117.offsetParent : null;
                }(e116), s5 = new Ts(e116), a4 = new Ts(t68);
                let c7, l4;
                if (n24 || o11) {
                    const e117 = function(e118, t69) {
                        const { elementRect: i45 , viewportRect: n25  } = t69, o12 = i45.getArea(), r8 = function(e119, { targetRect: t70 , elementRect: i46 , limiterRect: n26 , viewportRect: o13  }) {
                            const r9 = [], s6 = i46.getArea();
                            for (const a5 of e119){
                                const e120 = ld(a5, t70, i46);
                                if (!e120) continue;
                                const [c8, l5] = e120;
                                let d6 = 0, h3 = 0;
                                if (n26) {
                                    if (o13) {
                                        const e121 = n26.getIntersection(o13);
                                        e121 && (d6 = e121.getIntersectionArea(l5));
                                    } else d6 = n26.getIntersectionArea(l5);
                                }
                                o13 && (h3 = o13.getIntersectionArea(l5));
                                const u4 = {
                                    positionName: c8,
                                    positionRect: l5,
                                    limiterIntersectArea: d6,
                                    viewportIntersectArea: h3
                                };
                                if (d6 === s6) return [
                                    u4
                                ];
                                r9.push(u4);
                            }
                            return r9;
                        }(e118, t69);
                        if (n25) {
                            const e119 = dd(r8.filter(({ viewportIntersectArea: e120  })=>e120 === o12
                            ), o12);
                            if (e119) return e119;
                        }
                        return dd(r8, o12);
                    }(i44, {
                        targetRect: a4,
                        elementRect: s5,
                        limiterRect: n24 && new Ts(n24).getVisible(),
                        viewportRect: o11 && new Ts(vr.window)
                    });
                    [l4, c7] = e117 || ld(i44[0], a4, s5);
                } else [l4, c7] = ld(i44[0], a4, s5);
                let d6 = hd(c7);
                return r7 && (d6 = (function({ left: e117 , top: t69  }, i45) {
                    const n25 = hd(new Ts(i45)), o12 = As(i45);
                    return e117 -= n25.left, t69 -= n25.top, e117 += i45.scrollLeft, t69 += i45.scrollTop, e117 -= o12.left, t69 -= o12.top, {
                        left: e117,
                        top: t69
                    };
                })(d6, r7)), {
                    left: d6.left,
                    top: d6.top,
                    name: l4
                };
            }
            function ld(e116, t68, i44) {
                const n24 = e116(t68, i44);
                if (!n24) return null;
                const { left: o11 , top: r7 , name: s5  } = n24;
                return [
                    s5,
                    i44.clone().moveTo(o11, r7)
                ];
            }
            function dd(e116, t68) {
                let i44, n24, o11 = 0;
                for (const { positionName: r7 , positionRect: s5 , limiterIntersectArea: a4 , viewportIntersectArea: c7  } of e116){
                    if (a4 === t68) return [
                        r7,
                        s5
                    ];
                    const e117 = c7 ** 2 + a4 ** 2;
                    e117 > o11 && (o11 = e117, i44 = s5, n24 = r7);
                }
                return i44 ? [
                    n24,
                    i44
                ] : null;
            }
            function hd({ left: e116 , top: t68  }) {
                const { scrollX: i44 , scrollY: n24  } = vr.window;
                return {
                    left: e116 + i44,
                    top: t68 + n24
                };
            }
            class ud extends Ml {
                constructor(e116, t68, i44){
                    super(e116);
                    const n24 = this.bindTemplate;
                    this.buttonView = t68, this.panelView = i44, this.set("isOpen", !1), this.set("isEnabled", !0), this.set("class"), this.set("id"), this.set("panelPosition", "auto"), this.keystrokes = new Os, this.setTemplate({
                        tag: "div",
                        attributes: {
                            class: [
                                "ck",
                                "ck-dropdown",
                                n24.to("class"),
                                n24.if("isEnabled", "ck-disabled", (e117)=>!e117
                                )
                            ],
                            id: n24.to("id"),
                            "aria-describedby": n24.to("ariaDescribedById")
                        },
                        children: [
                            t68,
                            i44
                        ]
                    }), t68.extendTemplate({
                        attributes: {
                            class: [
                                "ck-dropdown__button"
                            ]
                        }
                    });
                }
                render() {
                    super.render(), this.listenTo(this.buttonView, "open", ()=>{
                        this.isOpen = !this.isOpen;
                    }), this.panelView.bind("isVisible").to(this, "isOpen"), this.on("change:isOpen", ()=>{
                        this.isOpen && ("auto" === this.panelPosition ? this.panelView.position = ud._getOptimalPosition({
                            element: this.panelView.element,
                            target: this.buttonView.element,
                            fitInViewport: !0,
                            positions: this._panelPositions
                        }).name : this.panelView.position = this.panelPosition);
                    }), this.keystrokes.listenTo(this.element);
                    const e117 = (e118, t69)=>{
                        this.isOpen && (this.buttonView.focus(), this.isOpen = !1, t69());
                    };
                    this.keystrokes.set("arrowdown", (e118, t69)=>{
                        this.buttonView.isEnabled && !this.isOpen && (this.isOpen = !0, t69());
                    }), this.keystrokes.set("arrowright", (e118, t69)=>{
                        this.isOpen && t69();
                    }), this.keystrokes.set("arrowleft", e117), this.keystrokes.set("esc", e117);
                }
                focus() {
                    this.buttonView.focus();
                }
                get _panelPositions() {
                    const { south: e117 , north: t69 , southEast: i45 , southWest: n25 , northEast: o11 , northWest: r7 , southMiddleEast: s5 , southMiddleWest: a4 , northMiddleEast: c7 , northMiddleWest: l4  } = ud.defaultPanelPositions;
                    return "rtl" !== this.locale.uiLanguageDirection ? [
                        i45,
                        n25,
                        s5,
                        a4,
                        e117,
                        o11,
                        r7,
                        c7,
                        l4,
                        t69
                    ] : [
                        n25,
                        i45,
                        a4,
                        s5,
                        e117,
                        r7,
                        o11,
                        l4,
                        c7,
                        t69
                    ];
                }
            }
            ud.defaultPanelPositions = {
                south: (e117, t69)=>({
                        top: e117.bottom,
                        left: e117.left - (t69.width - e117.width) / 2,
                        name: "s"
                    })
                ,
                southEast: (e117)=>({
                        top: e117.bottom,
                        left: e117.left,
                        name: "se"
                    })
                ,
                southWest: (e117, t69)=>({
                        top: e117.bottom,
                        left: e117.left - t69.width + e117.width,
                        name: "sw"
                    })
                ,
                southMiddleEast: (e117, t69)=>({
                        top: e117.bottom,
                        left: e117.left - (t69.width - e117.width) / 4,
                        name: "sme"
                    })
                ,
                southMiddleWest: (e117, t69)=>({
                        top: e117.bottom,
                        left: e117.left - 3 * (t69.width - e117.width) / 4,
                        name: "smw"
                    })
                ,
                north: (e117, t69)=>({
                        top: e117.top - t69.height,
                        left: e117.left - (t69.width - e117.width) / 2,
                        name: "n"
                    })
                ,
                northEast: (e117, t69)=>({
                        top: e117.top - t69.height,
                        left: e117.left,
                        name: "ne"
                    })
                ,
                northWest: (e117, t69)=>({
                        top: e117.top - t69.height,
                        left: e117.left - t69.width + e117.width,
                        name: "nw"
                    })
                ,
                northMiddleEast: (e117, t69)=>({
                        top: e117.top - t69.height,
                        left: e117.left - (t69.width - e117.width) / 4,
                        name: "nme"
                    })
                ,
                northMiddleWest: (e117, t69)=>({
                        top: e117.top - t69.height,
                        left: e117.left - 3 * (t69.width - e117.width) / 4,
                        name: "nmw"
                    })
            }, ud._getOptimalPosition = cd;
            class gd extends Ml {
                constructor(e117){
                    super(e117), this.setTemplate({
                        tag: "span",
                        attributes: {
                            class: [
                                "ck",
                                "ck-toolbar__separator"
                            ]
                        }
                    });
                }
            }
            class md extends Ml {
                constructor(e118){
                    super(e118), this.setTemplate({
                        tag: "span",
                        attributes: {
                            class: [
                                "ck",
                                "ck-toolbar__line-break"
                            ]
                        }
                    });
                }
            }
            function fd(e119) {
                return Array.isArray(e119) ? {
                    items: e119,
                    removeItems: []
                } : e119 ? Object.assign({
                    items: [],
                    removeItems: []
                }, e119) : {
                    items: [],
                    removeItems: []
                };
            }
            i2(31);
            class pd extends Ml {
                constructor(e119, t69){
                    super(e119);
                    const i45 = this.bindTemplate, n25 = this.t;
                    this.options = t69 || {
                    }, this.set("ariaLabel", n25("Editor toolbar")), this.set("maxWidth", "auto"), this.items = this.createCollection(), this.focusTracker = new Rs, this.keystrokes = new Os, this.set("class"), this.set("isCompact", !1), this.itemsView = new bd(e119), this.children = this.createCollection(), this.children.add(this.itemsView), this.focusables = this.createCollection();
                    const o11 = "rtl" === e119.uiLanguageDirection;
                    this._focusCycler = new id({
                        focusables: this.focusables,
                        focusTracker: this.focusTracker,
                        keystrokeHandler: this.keystrokes,
                        actions: {
                            focusPrevious: [
                                o11 ? "arrowright" : "arrowleft",
                                "arrowup"
                            ],
                            focusNext: [
                                o11 ? "arrowleft" : "arrowright",
                                "arrowdown"
                            ]
                        }
                    });
                    const r7 = [
                        "ck",
                        "ck-toolbar",
                        i45.to("class"),
                        i45.if("isCompact", "ck-toolbar_compact")
                    ];
                    var s5;
                    this.options.shouldGroupWhenFull && this.options.isFloating && r7.push("ck-toolbar_floating"), this.setTemplate({
                        tag: "div",
                        attributes: {
                            class: r7,
                            role: "toolbar",
                            "aria-label": i45.to("ariaLabel"),
                            style: {
                                maxWidth: i45.to("maxWidth")
                            }
                        },
                        children: this.children,
                        on: {
                            mousedown: (s5 = this, s5.bindTemplate.to((e120)=>{
                                e120.target === s5.element && e120.preventDefault();
                            }))
                        }
                    }), this._behavior = this.options.shouldGroupWhenFull ? new kd(this) : new wd(this);
                }
                render() {
                    super.render();
                    for (const e120 of this.items)this.focusTracker.add(e120.element);
                    this.items.on("add", (e121, t70)=>{
                        this.focusTracker.add(t70.element);
                    }), this.items.on("remove", (e121, t70)=>{
                        this.focusTracker.remove(t70.element);
                    }), this.keystrokes.listenTo(this.element), this._behavior.render(this);
                }
                destroy() {
                    return this._behavior.destroy(), super.destroy();
                }
                focus() {
                    this._focusCycler.focusFirst();
                }
                focusLast() {
                    this._focusCycler.focusLast();
                }
                fillFromConfig(e, t) {
                    const i46 = fd(e), n26 = i46.items.filter((e120, n27, o12)=>"|" === e120 || -1 === i46.removeItems.indexOf(e120) && ("-" === e120 ? !this.options.shouldGroupWhenFull || (Object(c2.b)("toolbarview-line-break-ignored-when-grouping-items", o12), !1) : !!t.has(e120) || (Object(c2.b)("toolbarview-item-unavailable", {
                            name: e120
                        }), !1))
                    ), o12 = this._cleanSeparators(n26).map((e120)=>"|" === e120 ? new gd : "-" === e120 ? new md : t.create(e120)
                    );
                    this.items.addMany(o12);
                }
                _cleanSeparators(e) {
                    const t70 = (e120)=>"-" !== e120 && "|" !== e120
                    , i46 = e.length, n26 = e.findIndex(t70), o12 = i46 - e.slice().reverse().findIndex(t70);
                    return e.slice(n26, o12).filter((e120, i47, n27)=>{
                        if (t70(e120)) return !0;
                        return !(i47 > 0 && n27[i47 - 1] === e120);
                    });
                }
            }
            class bd extends Ml {
                constructor(e120){
                    super(e120), this.children = this.createCollection(), this.setTemplate({
                        tag: "div",
                        attributes: {
                            class: [
                                "ck",
                                "ck-toolbar__items"
                            ]
                        },
                        children: this.children
                    });
                }
            }
            class wd {
                constructor(e121){
                    const t70 = e121.bindTemplate;
                    e121.set("isVertical", !1), e121.itemsView.children.bindTo(e121.items).using((e122)=>e122
                    ), e121.focusables.bindTo(e121.items).using((e122)=>e122
                    ), e121.extendTemplate({
                        attributes: {
                            class: [
                                t70.if("isVertical", "ck-toolbar_vertical")
                            ]
                        }
                    });
                }
                render() {
                }
                destroy() {
                }
            }
            class kd {
                constructor(e122){
                    this.view = e122, this.viewChildren = e122.children, this.viewFocusables = e122.focusables, this.viewItemsView = e122.itemsView, this.viewFocusTracker = e122.focusTracker, this.viewLocale = e122.locale, this.ungroupedItems = e122.createCollection(), this.groupedItems = e122.createCollection(), this.groupedItemsDropdown = this._createGroupedItemsDropdown(), this.resizeObserver = null, this.cachedPadding = null, this.shouldUpdateGroupingOnNextResize = !1, e122.itemsView.children.bindTo(this.ungroupedItems).using((e123)=>e123
                    ), this.ungroupedItems.on("add", this._updateFocusCycleableItems.bind(this)), this.ungroupedItems.on("remove", this._updateFocusCycleableItems.bind(this)), e122.children.on("add", this._updateFocusCycleableItems.bind(this)), e122.children.on("remove", this._updateFocusCycleableItems.bind(this)), e122.items.on("change", (e123, t71)=>{
                        const i46 = t71.index;
                        for (const e124 of t71.removed)i46 >= this.ungroupedItems.length ? this.groupedItems.remove(e124) : this.ungroupedItems.remove(e124);
                        for(let e125 = i46; e125 < i46 + t71.added.length; e125++){
                            const n26 = t71.added[e125 - i46];
                            e125 > this.ungroupedItems.length ? this.groupedItems.add(n26, e125 - this.ungroupedItems.length) : this.ungroupedItems.add(n26, e125);
                        }
                        this._updateGrouping();
                    }), e122.extendTemplate({
                        attributes: {
                            class: [
                                "ck-toolbar_grouping"
                            ]
                        }
                    });
                }
                render(e) {
                    this.viewElement = e.element, this._enableGroupingOnResize(), this._enableGroupingOnMaxWidthChange(e);
                }
                destroy() {
                    this.groupedItemsDropdown.destroy(), this.resizeObserver.destroy();
                }
                _updateGrouping() {
                    if (!this.viewElement.ownerDocument.body.contains(this.viewElement)) return;
                    if (!this.viewElement.offsetParent) return void (this.shouldUpdateGroupingOnNextResize = !0);
                    const e123 = this.groupedItems.length;
                    let t71;
                    for(; this._areItemsOverflowing;)this._groupLastItem(), t71 = !0;
                    if (!t71 && this.groupedItems.length) {
                        for(; this.groupedItems.length && !this._areItemsOverflowing;)this._ungroupFirstItem();
                        this._areItemsOverflowing && this._groupLastItem();
                    }
                    this.groupedItems.length !== e123 && this.view.fire("groupedItemsUpdate");
                }
                get _areItemsOverflowing() {
                    if (!this.ungroupedItems.length) return !1;
                    const e123 = this.viewElement, t71 = this.viewLocale.uiLanguageDirection, i46 = new Ts(e123.lastChild), n26 = new Ts(e123);
                    if (!this.cachedPadding) {
                        const i47 = vr.window.getComputedStyle(e123), n27 = "ltr" === t71 ? "paddingRight" : "paddingLeft";
                        this.cachedPadding = Number.parseInt(i47[n27]);
                    }
                    return "ltr" === t71 ? i46.right > n26.right - this.cachedPadding : i46.left < n26.left + this.cachedPadding;
                }
                _enableGroupingOnResize() {
                    let e123;
                    this.resizeObserver = new Ss(this.viewElement, (t71)=>{
                        e123 && e123 === t71.contentRect.width && !this.shouldUpdateGroupingOnNextResize || (this.shouldUpdateGroupingOnNextResize = !1, this._updateGrouping(), e123 = t71.contentRect.width);
                    }), this._updateGrouping();
                }
                _enableGroupingOnMaxWidthChange(e) {
                    e.on("change:maxWidth", ()=>{
                        this._updateGrouping();
                    });
                }
                _groupLastItem() {
                    this.groupedItems.length || (this.viewChildren.add(new gd), this.viewChildren.add(this.groupedItemsDropdown), this.viewFocusTracker.add(this.groupedItemsDropdown.element)), this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last), 0);
                }
                _ungroupFirstItem() {
                    this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)), this.groupedItems.length || (this.viewChildren.remove(this.groupedItemsDropdown), this.viewChildren.remove(this.viewChildren.last), this.viewFocusTracker.remove(this.groupedItemsDropdown.element));
                }
                _createGroupedItemsDropdown() {
                    const e123 = this.viewLocale, t71 = e123.t, i46 = xd(e123);
                    return i46.class = "ck-toolbar__grouped-dropdown", i46.panelPosition = "ltr" === e123.uiLanguageDirection ? "sw" : "se", Ad(i46, []), i46.buttonView.set({
                        label: t71("Show more items"),
                        tooltip: !0,
                        tooltipPosition: "rtl" === e123.uiLanguageDirection ? "se" : "sw",
                        icon: Tl.threeVerticalDots
                    }), i46.toolbarView.items.bindTo(this.groupedItems).using((e124)=>e124
                    ), i46;
                }
                _updateFocusCycleableItems() {
                    this.viewFocusables.clear(), this.ungroupedItems.map((e123)=>{
                        this.viewFocusables.add(e123);
                    }), this.groupedItems.length && this.viewFocusables.add(this.groupedItemsDropdown);
                }
            }
            i2(33);
            class _d extends Ml {
                constructor(){
                    super(), this.items = this.createCollection(), this.focusTracker = new Rs, this.keystrokes = new Os, this._focusCycler = new id({
                        focusables: this.items,
                        focusTracker: this.focusTracker,
                        keystrokeHandler: this.keystrokes,
                        actions: {
                            focusPrevious: "arrowup",
                            focusNext: "arrowdown"
                        }
                    }), this.setTemplate({
                        tag: "ul",
                        attributes: {
                            class: [
                                "ck",
                                "ck-reset",
                                "ck-list"
                            ]
                        },
                        children: this.items
                    });
                }
                render() {
                    super.render();
                    for (const e123 of this.items)this.focusTracker.add(e123.element);
                    this.items.on("add", (e124, t71)=>{
                        this.focusTracker.add(t71.element);
                    }), this.items.on("remove", (e124, t71)=>{
                        this.focusTracker.remove(t71.element);
                    }), this.keystrokes.listenTo(this.element);
                }
                focus() {
                    this._focusCycler.focusFirst();
                }
                focusLast() {
                    this._focusCycler.focusLast();
                }
            }
            class vd extends Ml {
                constructor(e123){
                    super(e123), this.children = this.createCollection(), this.setTemplate({
                        tag: "li",
                        attributes: {
                            class: [
                                "ck",
                                "ck-list__item"
                            ]
                        },
                        children: this.children
                    });
                }
                focus() {
                    this.children.first.focus();
                }
            }
            class yd extends Ml {
                constructor(e124){
                    super(e124), this.setTemplate({
                        tag: "li",
                        attributes: {
                            class: [
                                "ck",
                                "ck-list__separator"
                            ]
                        }
                    });
                }
            }
            i2(35), i2(37);
            function xd(e125, t71 = rd) {
                const i46 = new t71(e125), n26 = new ad(e125), o12 = new ud(e125, i46, n26);
                return i46.bind("isEnabled").to(o12), i46 instanceof rd ? i46.bind("isOn").to(o12, "isOpen") : i46.arrowView.bind("isOn").to(o12, "isOpen"), (function(e126) {
                    (function(e127) {
                        e127.on("render", ()=>{
                            El({
                                emitter: e127,
                                activator: ()=>e127.isOpen
                                ,
                                callback: ()=>{
                                    e127.isOpen = !1;
                                },
                                contextElements: [
                                    e127.element
                                ]
                            });
                        });
                    })(e126), (function(e127) {
                        e127.on("execute", (t72)=>{
                            t72.source instanceof td || (e127.isOpen = !1);
                        });
                    })(e126), (function(e127) {
                        e127.keystrokes.set("arrowdown", (t72, i47)=>{
                            e127.isOpen && (e127.panelView.focus(), i47());
                        }), e127.keystrokes.set("arrowup", (t72, i47)=>{
                            e127.isOpen && (e127.panelView.focusLast(), i47());
                        });
                    })(e126);
                })(o12), o12;
            }
            function Ad(e125, t71) {
                const i46 = e125.locale, n26 = i46.t, o12 = e125.toolbarView = new pd(i46);
                o12.set("ariaLabel", n26("Dropdown toolbar")), e125.extendTemplate({
                    attributes: {
                        class: [
                            "ck-toolbar-dropdown"
                        ]
                    }
                }), t71.map((e126)=>o12.items.add(e126)
                ), e125.panelView.children.add(o12), o12.items.delegate("execute").to(e125);
            }
            function Cd(e125, t71) {
                const i46 = e125.locale, n26 = e125.listView = new _d(i46);
                n26.items.bindTo(t71).using(({ type: e126 , model: t72  })=>{
                    if ("separator" === e126) return new yd(i46);
                    if ("button" === e126 || "switchbutton" === e126) {
                        const n27 = new vd(i46);
                        let o12;
                        return o12 = "button" === e126 ? new ed(i46) : new td(i46), o12.bind(...Object.keys(t72)).to(t72), o12.delegate("execute").to(n27), n27.children.add(o12), n27;
                    }
                }), e125.panelView.children.add(n26), n26.items.delegate("execute").to(e125);
            }
            i2(39);
            class Td extends Ml {
                constructor(e125){
                    super(e125), this.body = new Jl(e125);
                }
                render() {
                    super.render(), this.body.attachToDom();
                }
                destroy() {
                    return this.body.detachFromDom(), super.destroy();
                }
            }
            i2(41);
            class Ed extends Ml {
                constructor(e126){
                    super(e126), this.set("text"), this.set("for"), this.id = "ck-editor__label_" + s3();
                    const t71 = this.bindTemplate;
                    this.setTemplate({
                        tag: "label",
                        attributes: {
                            class: [
                                "ck",
                                "ck-label"
                            ],
                            id: this.id,
                            for: t71.to("for")
                        },
                        children: [
                            {
                                text: t71.to("text")
                            }
                        ]
                    });
                }
            }
            class Id extends Td {
                constructor(e127){
                    super(e127), this.top = this.createCollection(), this.main = this.createCollection(), this._voiceLabelView = this._createVoiceLabel(), this.setTemplate({
                        tag: "div",
                        attributes: {
                            class: [
                                "ck",
                                "ck-reset",
                                "ck-editor",
                                "ck-rounded-corners"
                            ],
                            role: "application",
                            dir: e127.uiLanguageDirection,
                            lang: e127.uiLanguage,
                            "aria-labelledby": this._voiceLabelView.id
                        },
                        children: [
                            this._voiceLabelView,
                            {
                                tag: "div",
                                attributes: {
                                    class: [
                                        "ck",
                                        "ck-editor__top",
                                        "ck-reset_all"
                                    ],
                                    role: "presentation"
                                },
                                children: this.top
                            },
                            {
                                tag: "div",
                                attributes: {
                                    class: [
                                        "ck",
                                        "ck-editor__main"
                                    ],
                                    role: "presentation"
                                },
                                children: this.main
                            }
                        ]
                    });
                }
                _createVoiceLabel() {
                    const e128 = this.t, t72 = new Ed;
                    return t72.text = e128("Rich Text Editor"), t72.extendTemplate({
                        attributes: {
                            class: "ck-voice-label"
                        }
                    }), t72;
                }
            }
            class Sd extends Ml {
                constructor(e128, t72, i46){
                    super(e128), this.setTemplate({
                        tag: "div",
                        attributes: {
                            class: [
                                "ck",
                                "ck-content",
                                "ck-editor__editable",
                                "ck-rounded-corners"
                            ],
                            lang: e128.contentLanguage,
                            dir: e128.contentLanguageDirection
                        }
                    }), this.name = null, this.set("isFocused", !1), this._editableElement = i46, this._hasExternalElement = !!this._editableElement, this._editingView = t72;
                }
                render() {
                    super.render(), this._hasExternalElement ? this.template.apply(this.element = this._editableElement) : this._editableElement = this.element, this.on("change:isFocused", ()=>this._updateIsFocusedClasses()
                    ), this._updateIsFocusedClasses();
                }
                destroy() {
                    this._hasExternalElement && this.template.revert(this._editableElement), super.destroy();
                }
                _updateIsFocusedClasses() {
                    const e129 = this._editingView;
                    function t73(t74) {
                        e129.change((i47)=>{
                            const n26 = e129.document.getRoot(t74.name);
                            i47.addClass(t74.isFocused ? "ck-focused" : "ck-blurred", n26), i47.removeClass(t74.isFocused ? "ck-blurred" : "ck-focused", n26);
                        });
                    }
                    e129.isRenderingInProgress ? (function i47(n26) {
                        e129.once("change:isRenderingInProgress", (e130, o12, r8)=>{
                            r8 ? i47(n26) : t73(n26);
                        });
                    })(this) : t73(this);
                }
            }
            class Pd extends Sd {
                constructor(e129, t73, i47){
                    super(e129, t73, i47), this.extendTemplate({
                        attributes: {
                            role: "textbox",
                            class: "ck-editor__editable_inline"
                        }
                    });
                }
                render() {
                    super.render();
                    const e130 = this._editingView, t74 = this.t;
                    e130.change((i48)=>{
                        const n26 = e130.document.getRoot(this.name);
                        i48.setAttribute("aria-label", t74("Rich Text Editor, %0", this.name), n26);
                    });
                }
            }
            i2(43);
            i2(45);
            class Md extends Ml {
                constructor(e130){
                    super(e130), this.set("value"), this.set("id"), this.set("placeholder"), this.set("isReadOnly", !1), this.set("hasError", !1), this.set("ariaDescribedById"), this.focusTracker = new Rs, this.bind("isFocused").to(this.focusTracker), this.set("isEmpty", !0);
                    const t74 = this.bindTemplate;
                    this.setTemplate({
                        tag: "input",
                        attributes: {
                            type: "text",
                            class: [
                                "ck",
                                "ck-input",
                                "ck-input-text",
                                t74.if("isFocused", "ck-input_focused"),
                                t74.if("isEmpty", "ck-input-text_empty"),
                                t74.if("hasError", "ck-error")
                            ],
                            id: t74.to("id"),
                            placeholder: t74.to("placeholder"),
                            readonly: t74.to("isReadOnly"),
                            "aria-invalid": t74.if("hasError", !0),
                            "aria-describedby": t74.to("ariaDescribedById")
                        },
                        on: {
                            input: t74.to("input"),
                            change: t74.to(this._updateIsEmpty.bind(this))
                        }
                    });
                }
                render() {
                    super.render(), this.focusTracker.add(this.element), this._setDomElementValue(this.value), this._updateIsEmpty(), this.on("change:value", (e131, t75, i48)=>{
                        this._setDomElementValue(i48), this._updateIsEmpty();
                    });
                }
                select() {
                    this.element.select();
                }
                focus() {
                    this.element.focus();
                }
                _updateIsEmpty() {
                    this.isEmpty = !this.element.value;
                }
                _setDomElementValue(e) {
                    this.element.value = e || 0 === e ? e : "";
                }
            }
            i2(47);
            class Nd extends Ml {
                constructor(e131, t75){
                    super(e131);
                    const i48 = "ck-labeled-field-view-" + s3(), n26 = "ck-labeled-field-view-status-" + s3();
                    this.fieldView = t75(this, i48, n26), this.set("label"), this.set("isEnabled", !0), this.set("isEmpty", !0), this.set("isFocused", !1), this.set("errorText", null), this.set("infoText", null), this.set("class"), this.set("placeholder"), this.labelView = this._createLabelView(i48), this.statusView = this._createStatusView(n26), this.bind("_statusText").to(this, "errorText", this, "infoText", (e132, t76)=>e132 || t76
                    );
                    const o12 = this.bindTemplate;
                    this.setTemplate({
                        tag: "div",
                        attributes: {
                            class: [
                                "ck",
                                "ck-labeled-field-view",
                                o12.to("class"),
                                o12.if("isEnabled", "ck-disabled", (e132)=>!e132
                                ),
                                o12.if("isEmpty", "ck-labeled-field-view_empty"),
                                o12.if("isFocused", "ck-labeled-field-view_focused"),
                                o12.if("placeholder", "ck-labeled-field-view_placeholder"),
                                o12.if("errorText", "ck-error")
                            ]
                        },
                        children: [
                            {
                                tag: "div",
                                attributes: {
                                    class: [
                                        "ck",
                                        "ck-labeled-field-view__input-wrapper"
                                    ]
                                },
                                children: [
                                    this.fieldView,
                                    this.labelView
                                ]
                            },
                            this.statusView
                        ]
                    });
                }
                _createLabelView(e) {
                    const t76 = new Ed(this.locale);
                    return t76.for = e, t76.bind("text").to(this, "label"), t76;
                }
                _createStatusView(e) {
                    const t76 = new Ml(this.locale), i49 = this.bindTemplate;
                    return t76.setTemplate({
                        tag: "div",
                        attributes: {
                            class: [
                                "ck",
                                "ck-labeled-field-view__status",
                                i49.if("errorText", "ck-labeled-field-view__status_error"),
                                i49.if("_statusText", "ck-hidden", (e132)=>!e132
                                )
                            ],
                            id: e,
                            role: i49.if("errorText", "alert")
                        },
                        children: [
                            {
                                text: i49.to("_statusText")
                            }
                        ]
                    }), t76;
                }
                focus() {
                    this.fieldView.focus();
                }
            }
            function Rd(e132, t76, i49) {
                const n27 = new Md(e132.locale);
                return n27.set({
                    id: t76,
                    ariaDescribedById: i49
                }), n27.bind("isReadOnly").to(e132, "isEnabled", (e133)=>!e133
                ), n27.bind("hasError").to(e132, "errorText", (e133)=>!!e133
                ), n27.on("input", ()=>{
                    e132.errorText = null;
                }), e132.bind("isEmpty", "isFocused", "placeholder").to(n27), n27;
            }
            class Od extends an {
                static get pluginName() {
                    return "Notification";
                }
                init() {
                    this.on("show:warning", (e132, t76)=>{
                        window.alert(t76.message);
                    }, {
                        priority: "lowest"
                    });
                }
                showSuccess(e, t = {
                }) {
                    this._showNotification({
                        message: e,
                        type: "success",
                        namespace: t.namespace,
                        title: t.title
                    });
                }
                showInfo(e, t = {
                }) {
                    this._showNotification({
                        message: e,
                        type: "info",
                        namespace: t.namespace,
                        title: t.title
                    });
                }
                showWarning(e, t = {
                }) {
                    this._showNotification({
                        message: e,
                        type: "warning",
                        namespace: t.namespace,
                        title: t.title
                    });
                }
                _showNotification(e) {
                    const t76 = "show:" + e.type + (e.namespace ? ":" + e.namespace : "");
                    this.fire(t76, {
                        message: e.message,
                        type: e.type,
                        title: e.title || ""
                    });
                }
            }
            class zd {
                constructor(e132, t76){
                    t76 && De(this, t76), e132 && this.set(e132);
                }
            }
            Ke(zd, Ue);
            i2(49);
            const Dd = Ms("px"), Ld = vr.document.body;
            class Vd extends Ml {
                constructor(e133){
                    super(e133);
                    const t77 = this.bindTemplate;
                    this.set("top", 0), this.set("left", 0), this.set("position", "arrow_nw"), this.set("isVisible", !1), this.set("withArrow", !0), this.set("class"), this.content = this.createCollection(), this.setTemplate({
                        tag: "div",
                        attributes: {
                            class: [
                                "ck",
                                "ck-balloon-panel",
                                t77.to("position", (e134)=>"ck-balloon-panel_" + e134
                                ),
                                t77.if("isVisible", "ck-balloon-panel_visible"),
                                t77.if("withArrow", "ck-balloon-panel_with-arrow"),
                                t77.to("class")
                            ],
                            style: {
                                top: t77.to("top", Dd),
                                left: t77.to("left", Dd)
                            }
                        },
                        children: this.content
                    });
                }
                show() {
                    this.isVisible = !0;
                }
                hide() {
                    this.isVisible = !1;
                }
                attachTo(e) {
                    this.show();
                    const t78 = Vd.defaultPositions, i49 = Object.assign({
                    }, {
                        element: this.element,
                        positions: [
                            t78.southArrowNorth,
                            t78.southArrowNorthMiddleWest,
                            t78.southArrowNorthMiddleEast,
                            t78.southArrowNorthWest,
                            t78.southArrowNorthEast,
                            t78.northArrowSouth,
                            t78.northArrowSouthMiddleWest,
                            t78.northArrowSouthMiddleEast,
                            t78.northArrowSouthWest,
                            t78.northArrowSouthEast
                        ],
                        limiter: Ld,
                        fitInViewport: !0
                    }, e), n27 = Vd._getOptimalPosition(i49), o13 = parseInt(n27.left), r8 = parseInt(n27.top), s6 = n27.name;
                    Object.assign(this, {
                        top: r8,
                        left: o13,
                        position: s6
                    });
                }
                pin(e) {
                    this.unpin(), this._pinWhenIsVisibleCallback = ()=>{
                        this.isVisible ? this._startPinning(e) : this._stopPinning();
                    }, this._startPinning(e), this.listenTo(this, "change:isVisible", this._pinWhenIsVisibleCallback);
                }
                unpin() {
                    this._pinWhenIsVisibleCallback && (this._stopPinning(), this.stopListening(this, "change:isVisible", this._pinWhenIsVisibleCallback), this._pinWhenIsVisibleCallback = null, this.hide());
                }
                _startPinning(e) {
                    this.attachTo(e);
                    const t78 = jd(e.target), i49 = e.limiter ? jd(e.limiter) : Ld;
                    this.listenTo(vr.document, "scroll", (n27, o13)=>{
                        const r8 = o13.target, s6 = t78 && r8.contains(t78), a4 = i49 && r8.contains(i49);
                        !s6 && !a4 && t78 && i49 || this.attachTo(e);
                    }, {
                        useCapture: !0
                    }), this.listenTo(vr.window, "resize", ()=>{
                        this.attachTo(e);
                    });
                }
                _stopPinning() {
                    this.stopListening(vr.document, "scroll"), this.stopListening(vr.window, "resize");
                }
            }
            function jd(e134) {
                return Yi(e134) ? e134 : xs(e134) ? e134.commonAncestorContainer : "function" == typeof e134 ? jd(e134()) : null;
            }
            function Bd(e134, t78) {
                return e134.top - t78.height - Vd.arrowVerticalOffset;
            }
            function Fd(e134) {
                return e134.bottom + Vd.arrowVerticalOffset;
            }
            Vd.arrowHorizontalOffset = 25, Vd.arrowVerticalOffset = 10, Vd._getOptimalPosition = cd, Vd.defaultPositions = {
                northWestArrowSouthWest: (e134, t78)=>({
                        top: Bd(e134, t78),
                        left: e134.left - Vd.arrowHorizontalOffset,
                        name: "arrow_sw"
                    })
                ,
                northWestArrowSouthMiddleWest: (e134, t78)=>({
                        top: Bd(e134, t78),
                        left: e134.left - 0.25 * t78.width - Vd.arrowHorizontalOffset,
                        name: "arrow_smw"
                    })
                ,
                northWestArrowSouth: (e134, t78)=>({
                        top: Bd(e134, t78),
                        left: e134.left - t78.width / 2,
                        name: "arrow_s"
                    })
                ,
                northWestArrowSouthMiddleEast: (e134, t78)=>({
                        top: Bd(e134, t78),
                        left: e134.left - 0.75 * t78.width + Vd.arrowHorizontalOffset,
                        name: "arrow_sme"
                    })
                ,
                northWestArrowSouthEast: (e134, t78)=>({
                        top: Bd(e134, t78),
                        left: e134.left - t78.width + Vd.arrowHorizontalOffset,
                        name: "arrow_se"
                    })
                ,
                northArrowSouthWest: (e134, t78)=>({
                        top: Bd(e134, t78),
                        left: e134.left + e134.width / 2 - Vd.arrowHorizontalOffset,
                        name: "arrow_sw"
                    })
                ,
                northArrowSouthMiddleWest: (e134, t78)=>({
                        top: Bd(e134, t78),
                        left: e134.left + e134.width / 2 - 0.25 * t78.width - Vd.arrowHorizontalOffset,
                        name: "arrow_smw"
                    })
                ,
                northArrowSouth: (e134, t78)=>({
                        top: Bd(e134, t78),
                        left: e134.left + e134.width / 2 - t78.width / 2,
                        name: "arrow_s"
                    })
                ,
                northArrowSouthMiddleEast: (e134, t78)=>({
                        top: Bd(e134, t78),
                        left: e134.left + e134.width / 2 - 0.75 * t78.width + Vd.arrowHorizontalOffset,
                        name: "arrow_sme"
                    })
                ,
                northArrowSouthEast: (e134, t78)=>({
                        top: Bd(e134, t78),
                        left: e134.left + e134.width / 2 - t78.width + Vd.arrowHorizontalOffset,
                        name: "arrow_se"
                    })
                ,
                northEastArrowSouthWest: (e134, t78)=>({
                        top: Bd(e134, t78),
                        left: e134.right - Vd.arrowHorizontalOffset,
                        name: "arrow_sw"
                    })
                ,
                northEastArrowSouthMiddleWest: (e134, t78)=>({
                        top: Bd(e134, t78),
                        left: e134.right - 0.25 * t78.width - Vd.arrowHorizontalOffset,
                        name: "arrow_smw"
                    })
                ,
                northEastArrowSouth: (e134, t78)=>({
                        top: Bd(e134, t78),
                        left: e134.right - t78.width / 2,
                        name: "arrow_s"
                    })
                ,
                northEastArrowSouthMiddleEast: (e134, t78)=>({
                        top: Bd(e134, t78),
                        left: e134.right - 0.75 * t78.width + Vd.arrowHorizontalOffset,
                        name: "arrow_sme"
                    })
                ,
                northEastArrowSouthEast: (e134, t78)=>({
                        top: Bd(e134, t78),
                        left: e134.right - t78.width + Vd.arrowHorizontalOffset,
                        name: "arrow_se"
                    })
                ,
                southWestArrowNorthWest: (e134, t78)=>({
                        top: Fd(e134),
                        left: e134.left - Vd.arrowHorizontalOffset,
                        name: "arrow_nw"
                    })
                ,
                southWestArrowNorthMiddleWest: (e134, t78)=>({
                        top: Fd(e134),
                        left: e134.left - 0.25 * t78.width - Vd.arrowHorizontalOffset,
                        name: "arrow_nmw"
                    })
                ,
                southWestArrowNorth: (e134, t78)=>({
                        top: Fd(e134),
                        left: e134.left - t78.width / 2,
                        name: "arrow_n"
                    })
                ,
                southWestArrowNorthMiddleEast: (e134, t78)=>({
                        top: Fd(e134),
                        left: e134.left - 0.75 * t78.width + Vd.arrowHorizontalOffset,
                        name: "arrow_nme"
                    })
                ,
                southWestArrowNorthEast: (e134, t78)=>({
                        top: Fd(e134),
                        left: e134.left - t78.width + Vd.arrowHorizontalOffset,
                        name: "arrow_ne"
                    })
                ,
                southArrowNorthWest: (e134, t78)=>({
                        top: Fd(e134),
                        left: e134.left + e134.width / 2 - Vd.arrowHorizontalOffset,
                        name: "arrow_nw"
                    })
                ,
                southArrowNorthMiddleWest: (e134, t78)=>({
                        top: Fd(e134),
                        left: e134.left + e134.width / 2 - 0.25 * t78.width - Vd.arrowHorizontalOffset,
                        name: "arrow_nmw"
                    })
                ,
                southArrowNorth: (e134, t78)=>({
                        top: Fd(e134),
                        left: e134.left + e134.width / 2 - t78.width / 2,
                        name: "arrow_n"
                    })
                ,
                southArrowNorthMiddleEast: (e134, t78)=>({
                        top: Fd(e134),
                        left: e134.left + e134.width / 2 - 0.75 * t78.width + Vd.arrowHorizontalOffset,
                        name: "arrow_nme"
                    })
                ,
                southArrowNorthEast: (e134, t78)=>({
                        top: Fd(e134),
                        left: e134.left + e134.width / 2 - t78.width + Vd.arrowHorizontalOffset,
                        name: "arrow_ne"
                    })
                ,
                southEastArrowNorthWest: (e134, t78)=>({
                        top: Fd(e134),
                        left: e134.right - Vd.arrowHorizontalOffset,
                        name: "arrow_nw"
                    })
                ,
                southEastArrowNorthMiddleWest: (e134, t78)=>({
                        top: Fd(e134),
                        left: e134.right - 0.25 * t78.width - Vd.arrowHorizontalOffset,
                        name: "arrow_nmw"
                    })
                ,
                southEastArrowNorth: (e134, t78)=>({
                        top: Fd(e134),
                        left: e134.right - t78.width / 2,
                        name: "arrow_n"
                    })
                ,
                southEastArrowNorthMiddleEast: (e134, t78)=>({
                        top: Fd(e134),
                        left: e134.right - 0.75 * t78.width + Vd.arrowHorizontalOffset,
                        name: "arrow_nme"
                    })
                ,
                southEastArrowNorthEast: (e134, t78)=>({
                        top: Fd(e134),
                        left: e134.right - t78.width + Vd.arrowHorizontalOffset,
                        name: "arrow_ne"
                    })
            };
            i2(51), i2(53);
            const Hd = Ms("px");
            class Ud extends Qe {
                static get pluginName() {
                    return "ContextualBalloon";
                }
                constructor(e134){
                    super(e134), this.positionLimiter = ()=>{
                        const e135 = this.editor.editing.view, t78 = e135.document.selection.editableElement;
                        return t78 ? e135.domConverter.mapViewToDom(t78.root) : null;
                    }, this.set("visibleView", null), this.view = new Vd(e134.locale), e134.ui.view.body.add(this.view), e134.ui.focusTracker.add(this.view.element), this._viewToStack = new Map, this._idToStack = new Map, this.set("_numberOfStacks", 0), this.set("_singleViewMode", !1), this._rotatorView = this._createRotatorView(), this._fakePanelsView = this._createFakePanelsView();
                }
                hasView(e) {
                    return Array.from(this._viewToStack.keys()).includes(e);
                }
                add(e) {
                    if (this.hasView(e.view)) throw new c2.a("contextualballoon-add-view-exist", [
                        this,
                        e
                    ]);
                    const t78 = e.stackId || "main";
                    if (!this._idToStack.has(t78)) return this._idToStack.set(t78, new Map([
                        [
                            e.view,
                            e
                        ]
                    ])), this._viewToStack.set(e.view, this._idToStack.get(t78)), this._numberOfStacks = this._idToStack.size, void (this._visibleStack && !e.singleViewMode || this.showStack(t78));
                    const i49 = this._idToStack.get(t78);
                    e.singleViewMode && this.showStack(t78), i49.set(e.view, e), this._viewToStack.set(e.view, i49), i49 === this._visibleStack && this._showView(e);
                }
                remove(e) {
                    if (!this.hasView(e)) throw new c2.a("contextualballoon-remove-view-not-exist", [
                        this,
                        e
                    ]);
                    const t78 = this._viewToStack.get(e);
                    this._singleViewMode && this.visibleView === e && (this._singleViewMode = !1), this.visibleView === e && (1 === t78.size ? this._idToStack.size > 1 ? this._showNextStack() : (this.view.hide(), this.visibleView = null, this._rotatorView.hideView()) : this._showView(Array.from(t78.values())[t78.size - 2])), 1 === t78.size ? (this._idToStack.delete(this._getStackId(t78)), this._numberOfStacks = this._idToStack.size) : t78.delete(e), this._viewToStack.delete(e);
                }
                updatePosition(e) {
                    e && (this._visibleStack.get(this.visibleView).position = e), this.view.pin(this._getBalloonPosition()), this._fakePanelsView.updatePosition();
                }
                showStack(e) {
                    this.visibleStack = e;
                    const t78 = this._idToStack.get(e);
                    if (!t78) throw new c2.a("contextualballoon-showstack-stack-not-exist", this);
                    this._visibleStack !== t78 && this._showView(Array.from(t78.values()).pop());
                }
                get _visibleStack() {
                    return this._viewToStack.get(this.visibleView);
                }
                _getStackId(e) {
                    return Array.from(this._idToStack.entries()).find((t78)=>t78[1] === e
                    )[0];
                }
                _showNextStack() {
                    const e135 = Array.from(this._idToStack.values());
                    let t78 = e135.indexOf(this._visibleStack) + 1;
                    e135[t78] || (t78 = 0), this.showStack(this._getStackId(e135[t78]));
                }
                _showPrevStack() {
                    const e135 = Array.from(this._idToStack.values());
                    let t78 = e135.indexOf(this._visibleStack) - 1;
                    e135[t78] || (t78 = e135.length - 1), this.showStack(this._getStackId(e135[t78]));
                }
                _createRotatorView() {
                    const e135 = new Wd(this.editor.locale), t78 = this.editor.locale.t;
                    return this.view.content.add(e135), e135.bind("isNavigationVisible").to(this, "_numberOfStacks", this, "_singleViewMode", (e136, t79)=>!t79 && e136 > 1
                    ), e135.on("change:isNavigationVisible", ()=>this.updatePosition()
                    , {
                        priority: "low"
                    }), e135.bind("counter").to(this, "visibleView", this, "_numberOfStacks", (e136, i49)=>{
                        if (i49 < 2) return "";
                        const n27 = Array.from(this._idToStack.values()).indexOf(this._visibleStack) + 1;
                        return t78("%0 of %1", [
                            n27,
                            i49
                        ]);
                    }), e135.buttonNextView.on("execute", ()=>{
                        e135.focusTracker.isFocused && this.editor.editing.view.focus(), this._showNextStack();
                    }), e135.buttonPrevView.on("execute", ()=>{
                        e135.focusTracker.isFocused && this.editor.editing.view.focus(), this._showPrevStack();
                    }), e135;
                }
                _createFakePanelsView() {
                    const e135 = new qd(this.editor.locale, this.view);
                    return e135.bind("numberOfPanels").to(this, "_numberOfStacks", this, "_singleViewMode", (e136, t78)=>!t78 && e136 >= 2 ? Math.min(e136 - 1, 2) : 0
                    ), e135.listenTo(this.view, "change:top", ()=>e135.updatePosition()
                    ), e135.listenTo(this.view, "change:left", ()=>e135.updatePosition()
                    ), this.editor.ui.view.body.add(e135), e135;
                }
                _showView({ view: e , balloonClassName: t = "" , withArrow: i = !0 , singleViewMode: n = !1  }) {
                    this.view.class = t, this.view.withArrow = i, this._rotatorView.showView(e), this.visibleView = e, this.view.pin(this._getBalloonPosition()), this._fakePanelsView.updatePosition(), n && (this._singleViewMode = !0);
                }
                _getBalloonPosition() {
                    let e135 = Array.from(this._visibleStack.values()).pop().position;
                    return e135 && !e135.limiter && (e135 = Object.assign({
                    }, e135, {
                        limiter: this.positionLimiter
                    })), e135;
                }
            }
            class Wd extends Ml {
                constructor(e135){
                    super(e135);
                    const t78 = e135.t, i49 = this.bindTemplate;
                    this.set("isNavigationVisible", !0), this.focusTracker = new Rs, this.buttonPrevView = this._createButtonView(t78("Previous"), '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'), this.buttonNextView = this._createButtonView(t78("Next"), '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'), this.content = this.createCollection(), this.setTemplate({
                        tag: "div",
                        attributes: {
                            class: [
                                "ck",
                                "ck-balloon-rotator"
                            ],
                            "z-index": "-1"
                        },
                        children: [
                            {
                                tag: "div",
                                attributes: {
                                    class: [
                                        "ck-balloon-rotator__navigation",
                                        i49.to("isNavigationVisible", (e136)=>e136 ? "" : "ck-hidden"
                                        )
                                    ]
                                },
                                children: [
                                    this.buttonPrevView,
                                    {
                                        tag: "span",
                                        attributes: {
                                            class: [
                                                "ck-balloon-rotator__counter"
                                            ]
                                        },
                                        children: [
                                            {
                                                text: i49.to("counter")
                                            }
                                        ]
                                    },
                                    this.buttonNextView
                                ]
                            },
                            {
                                tag: "div",
                                attributes: {
                                    class: "ck-balloon-rotator__content"
                                },
                                children: this.content
                            }
                        ]
                    });
                }
                render() {
                    super.render(), this.focusTracker.add(this.element);
                }
                showView(e) {
                    this.hideView(), this.content.add(e);
                }
                hideView() {
                    this.content.clear();
                }
                _createButtonView(e, t) {
                    const i50 = new ed(this.locale);
                    return i50.set({
                        label: e,
                        icon: t,
                        tooltip: !0
                    }), i50;
                }
            }
            class qd extends Ml {
                constructor(e136, t79){
                    super(e136);
                    const i50 = this.bindTemplate;
                    this.set("top", 0), this.set("left", 0), this.set("height", 0), this.set("width", 0), this.set("numberOfPanels", 0), this.content = this.createCollection(), this._balloonPanelView = t79, this.setTemplate({
                        tag: "div",
                        attributes: {
                            class: [
                                "ck-fake-panel",
                                i50.to("numberOfPanels", (e137)=>e137 ? "" : "ck-hidden"
                                )
                            ],
                            style: {
                                top: i50.to("top", Hd),
                                left: i50.to("left", Hd),
                                width: i50.to("width", Hd),
                                height: i50.to("height", Hd)
                            }
                        },
                        children: this.content
                    }), this.on("change:numberOfPanels", (e137, t80, i51, n27)=>{
                        i51 > n27 ? this._addPanels(i51 - n27) : this._removePanels(n27 - i51), this.updatePosition();
                    });
                }
                _addPanels(e) {
                    for(; e--;){
                        const e137 = new Ml;
                        e137.setTemplate({
                            tag: "div"
                        }), this.content.add(e137), this.registerChild(e137);
                    }
                }
                _removePanels(e) {
                    for(; e--;){
                        const e137 = this.content.last;
                        this.content.remove(e137), this.deregisterChild(e137), e137.destroy();
                    }
                }
                updatePosition() {
                    if (this.numberOfPanels) {
                        const { top: e137 , left: t80  } = this._balloonPanelView, { width: i51 , height: n27  } = new Ts(this._balloonPanelView.element);
                        Object.assign(this, {
                            top: e137,
                            left: t80,
                            width: i51,
                            height: n27
                        });
                    }
                }
            }
            i2(55);
            const $d = Ms("px");
            class Yd extends Ml {
                constructor(e137){
                    super(e137);
                    const t80 = this.bindTemplate;
                    this.set("isActive", !1), this.set("isSticky", !1), this.set("limiterElement", null), this.set("limiterBottomOffset", 50), this.set("viewportTopOffset", 0), this.set("_marginLeft", null), this.set("_isStickyToTheLimiter", !1), this.set("_hasViewportTopOffset", !1), this.content = this.createCollection(), this._contentPanelPlaceholder = new Nl({
                        tag: "div",
                        attributes: {
                            class: [
                                "ck",
                                "ck-sticky-panel__placeholder"
                            ],
                            style: {
                                display: t80.to("isSticky", (e138)=>e138 ? "block" : "none"
                                ),
                                height: t80.to("isSticky", (e138)=>e138 ? $d(this._panelRect.height) : null
                                )
                            }
                        }
                    }).render(), this._contentPanel = new Nl({
                        tag: "div",
                        attributes: {
                            class: [
                                "ck",
                                "ck-sticky-panel__content",
                                t80.if("isSticky", "ck-sticky-panel__content_sticky"),
                                t80.if("_isStickyToTheLimiter", "ck-sticky-panel__content_sticky_bottom-limit")
                            ],
                            style: {
                                width: t80.to("isSticky", (e138)=>e138 ? $d(this._contentPanelPlaceholder.getBoundingClientRect().width) : null
                                ),
                                top: t80.to("_hasViewportTopOffset", (e138)=>e138 ? $d(this.viewportTopOffset) : null
                                ),
                                bottom: t80.to("_isStickyToTheLimiter", (e138)=>e138 ? $d(this.limiterBottomOffset) : null
                                ),
                                marginLeft: t80.to("_marginLeft")
                            }
                        },
                        children: this.content
                    }).render(), this.setTemplate({
                        tag: "div",
                        attributes: {
                            class: [
                                "ck",
                                "ck-sticky-panel"
                            ]
                        },
                        children: [
                            this._contentPanelPlaceholder,
                            this._contentPanel
                        ]
                    });
                }
                render() {
                    super.render(), this._checkIfShouldBeSticky(), this.listenTo(vr.window, "scroll", ()=>{
                        this._checkIfShouldBeSticky();
                    }), this.listenTo(this, "change:isActive", ()=>{
                        this._checkIfShouldBeSticky();
                    });
                }
                _checkIfShouldBeSticky() {
                    const e138 = this._panelRect = this._contentPanel.getBoundingClientRect();
                    let t81;
                    this.limiterElement ? (t81 = this._limiterRect = this.limiterElement.getBoundingClientRect(), this.isSticky = this.isActive && t81.top < this.viewportTopOffset && this._panelRect.height + this.limiterBottomOffset < t81.height) : this.isSticky = !1, this.isSticky ? (this._isStickyToTheLimiter = t81.bottom < e138.height + this.limiterBottomOffset + this.viewportTopOffset, this._hasViewportTopOffset = !this._isStickyToTheLimiter && !!this.viewportTopOffset, this._marginLeft = this._isStickyToTheLimiter ? null : $d(-vr.window.scrollX)) : (this._isStickyToTheLimiter = !1, this._hasViewportTopOffset = !1, this._marginLeft = null);
                }
            }
            Ms("px");
            i2(57);
            Ms("px");
            Ms("px");
            i2(59);
            const Gd = new WeakMap;
            function Kd(e138) {
                const { view: t81 , element: i51 , text: n27 , isDirectHost: o13 = !0 , keepOnFocus: r8 = !1  } = e138, s6 = t81.document;
                Gd.has(s6) || (Gd.set(s6, new Map), s6.registerPostFixer((e139)=>Jd(s6, e139)
                )), Gd.get(s6).set(i51, {
                    text: n27,
                    isDirectHost: o13,
                    keepOnFocus: r8,
                    hostElement: o13 ? i51 : null
                }), t81.change((e139)=>Jd(s6, e139)
                );
            }
            function Qd(e138, t81) {
                return !!t81.hasClass("ck-placeholder") && (e138.removeClass("ck-placeholder", t81), !0);
            }
            function Jd(e138, t81) {
                const i51 = Gd.get(e138), n27 = [];
                let o13 = !1;
                for (const [e139, r8] of i51)r8.isDirectHost && (n27.push(e139), Zd(t81, e139, r8) && (o13 = !0));
                for (const [e140, r9] of i51){
                    if (r9.isDirectHost) continue;
                    const i52 = Xd(e140);
                    i52 && (n27.includes(i52) || (r9.hostElement = i52, Zd(t81, e140, r9) && (o13 = !0)));
                }
                return o13;
            }
            function Zd(e138, t81, i51) {
                const { text: n27 , isDirectHost: o13 , hostElement: r8  } = i51;
                let s6 = !1;
                r8.getAttribute("data-placeholder") !== n27 && (e138.setAttribute("data-placeholder", n27, r8), s6 = !0);
                return (o13 || 1 == t81.childCount) && (function(e139, t82) {
                    if (!e139.isAttached()) return !1;
                    if (Array.from(e139.getChildren()).some((e140)=>!e140.is("uiElement")
                    )) return !1;
                    if (t82) return !0;
                    const i52 = e139.document;
                    if (!i52.isFocused) return !0;
                    const n28 = i52.selection.anchor;
                    return n28 && n28.parent !== e139;
                })(r8, i51.keepOnFocus) ? (function(e139, t82) {
                    return !t82.hasClass("ck-placeholder") && (e139.addClass("ck-placeholder", t82), !0);
                })(e138, r8) && (s6 = !0) : Qd(e138, r8) && (s6 = !0), s6;
            }
            function Xd(e138) {
                if (e138.childCount) {
                    const t81 = e138.getChild(0);
                    if (t81.is("element") && !t81.is("uiElement")) return t81;
                }
                return null;
            }
            const eh = new Map;
            function th(e138, t81, i51) {
                let n27 = eh.get(e138);
                n27 || (n27 = new Map, eh.set(e138, n27)), n27.set(t81, i51);
            }
            function ih(e138) {
                return [
                    e138
                ];
            }
            function nh(e138, t81, i51 = {
            }) {
                const n27 = function(e139, t82) {
                    const i52 = eh.get(e139);
                    return i52 && i52.has(t82) ? i52.get(t82) : ih;
                }(e138.constructor, t81.constructor);
                try {
                    return n27(e138 = e138.clone(), t81, i51);
                } catch (e139) {
                    throw e139;
                }
            }
            function oh(e138, t81, i51) {
                e138 = e138.slice(), t81 = t81.slice();
                const n27 = new rh(i51.document, i51.useRelations, i51.forceWeakRemove);
                n27.setOriginalOperations(e138), n27.setOriginalOperations(t81);
                const o13 = n27.originalOperations;
                if (0 == e138.length || 0 == t81.length) return {
                    operationsA: e138,
                    operationsB: t81,
                    originalOperations: o13
                };
                const r8 = new WeakMap;
                for (const t82 of e138)r8.set(t82, 0);
                const s6 = {
                    nextBaseVersionA: e138[e138.length - 1].baseVersion + 1,
                    nextBaseVersionB: t81[t81.length - 1].baseVersion + 1,
                    originalOperationsACount: e138.length,
                    originalOperationsBCount: t81.length
                };
                let a4 = 0;
                for(; a4 < e138.length;){
                    const i52 = e138[a4], o14 = r8.get(i52);
                    if (o14 == t81.length) {
                        a4++;
                        continue;
                    }
                    const s7 = t81[o14], c7 = nh(i52, s7, n27.getContext(i52, s7, !0)), l4 = nh(s7, i52, n27.getContext(s7, i52, !1));
                    n27.updateRelation(i52, s7), n27.setOriginalOperations(c7, i52), n27.setOriginalOperations(l4, s7);
                    for (const e139 of c7)r8.set(e139, o14 + l4.length);
                    e138.splice(a4, 1, ...c7), t81.splice(o14, 1, ...l4);
                }
                if (i51.padWithNoOps) {
                    const i52 = e138.length - s6.originalOperationsACount, n28 = t81.length - s6.originalOperationsBCount;
                    ah(e138, n28 - i52), ah(t81, i52 - n28);
                }
                return sh(e138, s6.nextBaseVersionB), sh(t81, s6.nextBaseVersionA), {
                    operationsA: e138,
                    operationsB: t81,
                    originalOperations: o13
                };
            }
            class rh {
                constructor(e138, t81, i51 = !1){
                    this.originalOperations = new Map, this._history = e138.history, this._useRelations = t81, this._forceWeakRemove = !!i51, this._relations = new Map;
                }
                setOriginalOperations(e, t = null) {
                    const i52 = t ? this.originalOperations.get(t) : null;
                    for (const t82 of e)this.originalOperations.set(t82, i52 || t82);
                }
                updateRelation(e, t) {
                    switch(e.constructor){
                        case Ec:
                            switch(t.constructor){
                                case Nc:
                                    e.targetPosition.isEqual(t.sourcePosition) || t.movedRange.containsPosition(e.targetPosition) ? this._setRelation(e, t, "insertAtSource") : e.targetPosition.isEqual(t.deletionPosition) ? this._setRelation(e, t, "insertBetween") : e.targetPosition.isAfter(t.sourcePosition) && this._setRelation(e, t, "moveTargetAfter");
                                    break;
                                case Ec:
                                    e.targetPosition.isEqual(t.sourcePosition) || e.targetPosition.isBefore(t.sourcePosition) ? this._setRelation(e, t, "insertBefore") : this._setRelation(e, t, "insertAfter");
                            }
                            break;
                        case Rc:
                            switch(t.constructor){
                                case Nc:
                                    e.splitPosition.isBefore(t.sourcePosition) && this._setRelation(e, t, "splitBefore");
                                    break;
                                case Ec:
                                    if (e.splitPosition.isEqual(t.sourcePosition) || e.splitPosition.isBefore(t.sourcePosition)) this._setRelation(e, t, "splitBefore");
                                    else {
                                        const i52 = oa._createFromPositionAndShift(t.sourcePosition, t.howMany);
                                        if (e.splitPosition.hasSameParentAs(t.sourcePosition) && i52.containsPosition(e.splitPosition)) {
                                            const n27 = i52.end.offset - e.splitPosition.offset, o13 = e.splitPosition.offset - i52.start.offset;
                                            this._setRelation(e, t, {
                                                howMany: n27,
                                                offset: o13
                                            });
                                        }
                                    }
                            }
                            break;
                        case Nc:
                            switch(t.constructor){
                                case Nc:
                                    e.targetPosition.isEqual(t.sourcePosition) || this._setRelation(e, t, "mergeTargetNotMoved"), e.sourcePosition.isEqual(t.targetPosition) && this._setRelation(e, t, "mergeSourceNotMoved"), e.sourcePosition.isEqual(t.sourcePosition) && this._setRelation(e, t, "mergeSameElement");
                                    break;
                                case Rc:
                                    e.sourcePosition.isEqual(t.splitPosition) && this._setRelation(e, t, "splitAtSource");
                            }
                            break;
                        case Sc:
                            {
                                const i52 = e.newRange;
                                if (!i52) return;
                                switch(t.constructor){
                                    case Ec:
                                        {
                                            const n27 = oa._createFromPositionAndShift(t.sourcePosition, t.howMany), o13 = n27.containsPosition(i52.start) || n27.start.isEqual(i52.start), r8 = n27.containsPosition(i52.end) || n27.end.isEqual(i52.end);
                                            !o13 && !r8 || n27.containsRange(i52) || this._setRelation(e, t, {
                                                side: o13 ? "left" : "right",
                                                path: o13 ? i52.start.path.slice() : i52.end.path.slice()
                                            });
                                            break;
                                        }
                                    case Nc:
                                        {
                                            const n27 = i52.start.isEqual(t.targetPosition), o13 = i52.start.isEqual(t.deletionPosition), r8 = i52.end.isEqual(t.deletionPosition), s6 = i52.end.isEqual(t.sourcePosition);
                                            (n27 || o13 || r8 || s6) && this._setRelation(e, t, {
                                                wasInLeftElement: n27,
                                                wasStartBeforeMergedElement: o13,
                                                wasEndBeforeMergedElement: r8,
                                                wasInRightElement: s6
                                            });
                                            break;
                                        }
                                }
                                break;
                            }
                    }
                }
                getContext(e, t, i) {
                    return {
                        aIsStrong: i,
                        aWasUndone: this._wasUndone(e),
                        bWasUndone: this._wasUndone(t),
                        abRelation: this._useRelations ? this._getRelation(e, t) : null,
                        baRelation: this._useRelations ? this._getRelation(t, e) : null,
                        forceWeakRemove: this._forceWeakRemove
                    };
                }
                _wasUndone(e) {
                    const t82 = this.originalOperations.get(e);
                    return t82.wasUndone || this._history.isUndoneOperation(t82);
                }
                _getRelation(e, t) {
                    const i52 = this.originalOperations.get(t), n27 = this._history.getUndoneOperation(i52);
                    if (!n27) return null;
                    const o13 = this.originalOperations.get(e), r8 = this._relations.get(o13);
                    return r8 && r8.get(n27) || null;
                }
                _setRelation(e, t, i) {
                    const n27 = this.originalOperations.get(e), o13 = this.originalOperations.get(t);
                    let r8 = this._relations.get(n27);
                    r8 || (r8 = new Map, this._relations.set(n27, r8)), r8.set(o13, i);
                }
            }
            function sh(e139, t82) {
                for (const i52 of e139)i52.baseVersion = t82++;
            }
            function ah(e139, t82) {
                for(let i52 = 0; i52 < t82; i52++)e139.push(new Zc(0));
            }
            function ch(e139, t82, i52) {
                const n27 = e139.nodes.getNode(0).getAttribute(t82);
                if (n27 == i52) return null;
                const o13 = new oa(e139.position, e139.position.getShiftedBy(e139.howMany));
                return new Cc(o13, t82, n27, i52, 0);
            }
            function lh(e139, t82) {
                return null === e139.targetPosition._getTransformedByDeletion(t82.sourcePosition, t82.howMany);
            }
            function dh(e139, t82) {
                const i52 = [];
                for(let n27 = 0; n27 < e139.length; n27++){
                    const o13 = e139[n27], r8 = new Ec(o13.start, o13.end.offset - o13.start.offset, t82, 0);
                    i52.push(r8);
                    for(let t83 = n27 + 1; t83 < e139.length; t83++)e139[t83] = e139[t83]._getTransformedByMove(r8.sourcePosition, r8.targetPosition, r8.howMany)[0];
                    t82 = t82._getTransformedByMove(r8.sourcePosition, r8.targetPosition, r8.howMany);
                }
                return i52;
            }
            th(Cc, Cc, (e139, t82, i52)=>{
                if (e139.key === t82.key && e139.range.start.hasSameParentAs(t82.range.start)) {
                    const n27 = e139.range.getDifference(t82.range).map((t83)=>new Cc(t83, e139.key, e139.oldValue, e139.newValue, 0)
                    ), o13 = e139.range.getIntersection(t82.range);
                    return o13 && i52.aIsStrong && n27.push(new Cc(o13, t82.key, t82.newValue, e139.newValue, 0)), 0 == n27.length ? [
                        new Zc(0)
                    ] : n27;
                }
                return [
                    e139
                ];
            }), th(Cc, Ic, (e139, t82)=>{
                if (e139.range.start.hasSameParentAs(t82.position) && e139.range.containsPosition(t82.position)) {
                    const i52 = e139.range._getTransformedByInsertion(t82.position, t82.howMany, !t82.shouldReceiveAttributes).map((t83)=>new Cc(t83, e139.key, e139.oldValue, e139.newValue, e139.baseVersion)
                    );
                    if (t82.shouldReceiveAttributes) {
                        const n27 = ch(t82, e139.key, e139.oldValue);
                        n27 && i52.unshift(n27);
                    }
                    return i52;
                }
                return e139.range = e139.range._getTransformedByInsertion(t82.position, t82.howMany, !1)[0], [
                    e139
                ];
            }), th(Cc, Nc, (e139, t82)=>{
                const i52 = [];
                e139.range.start.hasSameParentAs(t82.deletionPosition) && (e139.range.containsPosition(t82.deletionPosition) || e139.range.start.isEqual(t82.deletionPosition)) && i52.push(oa._createFromPositionAndShift(t82.graveyardPosition, 1));
                const n27 = e139.range._getTransformedByMergeOperation(t82);
                return n27.isCollapsed || i52.push(n27), i52.map((t83)=>new Cc(t83, e139.key, e139.oldValue, e139.newValue, e139.baseVersion)
                );
            }), th(Cc, Ec, (e139, t82)=>(function(e140, t83) {
                    const i52 = oa._createFromPositionAndShift(t83.sourcePosition, t83.howMany);
                    let n27 = null, o13 = [];
                    i52.containsRange(e140, !0) ? n27 = e140 : e140.start.hasSameParentAs(i52.start) ? (o13 = e140.getDifference(i52), n27 = e140.getIntersection(i52)) : o13 = [
                        e140
                    ];
                    const r8 = [];
                    for (let e141 of o13){
                        e141 = e141._getTransformedByDeletion(t83.sourcePosition, t83.howMany);
                        const i53 = t83.getMovedRangeStart(), n28 = e141.start.hasSameParentAs(i53);
                        e141 = e141._getTransformedByInsertion(i53, t83.howMany, n28), r8.push(...e141);
                    }
                    n27 && r8.push(n27._getTransformedByMove(t83.sourcePosition, t83.targetPosition, t83.howMany, !1)[0]);
                    return r8;
                })(e139.range, t82).map((t83)=>new Cc(t83, e139.key, e139.oldValue, e139.newValue, e139.baseVersion)
                )
            ), th(Cc, Rc, (e139, t82)=>{
                if (e139.range.end.isEqual(t82.insertionPosition)) return t82.graveyardPosition || e139.range.end.offset++, [
                    e139
                ];
                if (e139.range.start.hasSameParentAs(t82.splitPosition) && e139.range.containsPosition(t82.splitPosition)) {
                    const i52 = e139.clone();
                    return i52.range = new oa(t82.moveTargetPosition.clone(), e139.range.end._getCombined(t82.splitPosition, t82.moveTargetPosition)), e139.range.end = t82.splitPosition.clone(), e139.range.end.stickiness = "toPrevious", [
                        e139,
                        i52
                    ];
                }
                return e139.range = e139.range._getTransformedBySplitOperation(t82), [
                    e139
                ];
            }), th(Ic, Cc, (e139, t82)=>{
                const i52 = [
                    e139
                ];
                if (e139.shouldReceiveAttributes && e139.position.hasSameParentAs(t82.range.start) && t82.range.containsPosition(e139.position)) {
                    const n27 = ch(e139, t82.key, t82.newValue);
                    n27 && i52.push(n27);
                }
                return i52;
            }), th(Ic, Ic, (e139, t82, i52)=>(e139.position.isEqual(t82.position) && i52.aIsStrong || (e139.position = e139.position._getTransformedByInsertOperation(t82)), [
                    e139
                ])
            ), th(Ic, Ec, (e139, t82)=>(e139.position = e139.position._getTransformedByMoveOperation(t82), [
                    e139
                ])
            ), th(Ic, Rc, (e139, t82)=>(e139.position = e139.position._getTransformedBySplitOperation(t82), [
                    e139
                ])
            ), th(Ic, Nc, (e139, t82)=>(e139.position = e139.position._getTransformedByMergeOperation(t82), [
                    e139
                ])
            ), th(Sc, Ic, (e139, t82)=>(e139.oldRange && (e139.oldRange = e139.oldRange._getTransformedByInsertOperation(t82)[0]), e139.newRange && (e139.newRange = e139.newRange._getTransformedByInsertOperation(t82)[0]), [
                    e139
                ])
            ), th(Sc, Sc, (e139, t82, i52)=>{
                if (e139.name == t82.name) {
                    if (!i52.aIsStrong) return [
                        new Zc(0)
                    ];
                    e139.oldRange = t82.newRange ? t82.newRange.clone() : null;
                }
                return [
                    e139
                ];
            }), th(Sc, Nc, (e139, t82)=>(e139.oldRange && (e139.oldRange = e139.oldRange._getTransformedByMergeOperation(t82)), e139.newRange && (e139.newRange = e139.newRange._getTransformedByMergeOperation(t82)), [
                    e139
                ])
            ), th(Sc, Ec, (e139, t82, i52)=>{
                if (e139.oldRange && (e139.oldRange = oa._createFromRanges(e139.oldRange._getTransformedByMoveOperation(t82))), e139.newRange) {
                    if (i52.abRelation) {
                        const n27 = oa._createFromRanges(e139.newRange._getTransformedByMoveOperation(t82));
                        if ("left" == i52.abRelation.side && t82.targetPosition.isEqual(e139.newRange.start)) return e139.newRange.start.path = i52.abRelation.path, e139.newRange.end = n27.end, [
                            e139
                        ];
                        if ("right" == i52.abRelation.side && t82.targetPosition.isEqual(e139.newRange.end)) return e139.newRange.start = n27.start, e139.newRange.end.path = i52.abRelation.path, [
                            e139
                        ];
                    }
                    e139.newRange = oa._createFromRanges(e139.newRange._getTransformedByMoveOperation(t82));
                }
                return [
                    e139
                ];
            }), th(Sc, Rc, (e139, t82, i52)=>{
                if (e139.oldRange && (e139.oldRange = e139.oldRange._getTransformedBySplitOperation(t82)), e139.newRange) {
                    if (i52.abRelation) {
                        const n27 = e139.newRange._getTransformedBySplitOperation(t82);
                        return e139.newRange.start.isEqual(t82.splitPosition) && i52.abRelation.wasStartBeforeMergedElement ? e139.newRange.start = ea._createAt(t82.insertionPosition) : e139.newRange.start.isEqual(t82.splitPosition) && !i52.abRelation.wasInLeftElement && (e139.newRange.start = ea._createAt(t82.moveTargetPosition)), e139.newRange.end.isEqual(t82.splitPosition) && i52.abRelation.wasInRightElement ? e139.newRange.end = ea._createAt(t82.moveTargetPosition) : e139.newRange.end.isEqual(t82.splitPosition) && i52.abRelation.wasEndBeforeMergedElement ? e139.newRange.end = ea._createAt(t82.insertionPosition) : e139.newRange.end = n27.end, [
                            e139
                        ];
                    }
                    e139.newRange = e139.newRange._getTransformedBySplitOperation(t82);
                }
                return [
                    e139
                ];
            }), th(Nc, Ic, (e139, t82)=>(e139.sourcePosition.hasSameParentAs(t82.position) && (e139.howMany += t82.howMany), e139.sourcePosition = e139.sourcePosition._getTransformedByInsertOperation(t82), e139.targetPosition = e139.targetPosition._getTransformedByInsertOperation(t82), [
                    e139
                ])
            ), th(Nc, Nc, (e139, t82, i52)=>{
                if (e139.sourcePosition.isEqual(t82.sourcePosition) && e139.targetPosition.isEqual(t82.targetPosition)) {
                    if (i52.bWasUndone) {
                        const i53 = t82.graveyardPosition.path.slice();
                        return i53.push(0), e139.sourcePosition = new ea(t82.graveyardPosition.root, i53), e139.howMany = 0, [
                            e139
                        ];
                    }
                    return [
                        new Zc(0)
                    ];
                }
                if (e139.sourcePosition.isEqual(t82.sourcePosition) && !e139.targetPosition.isEqual(t82.targetPosition) && !i52.bWasUndone && "splitAtSource" != i52.abRelation) {
                    const n27 = "$graveyard" == e139.targetPosition.root.rootName, o13 = "$graveyard" == t82.targetPosition.root.rootName, r8 = n27 && !o13;
                    if (o13 && !n27 || !r8 && i52.aIsStrong) {
                        const i53 = t82.targetPosition._getTransformedByMergeOperation(t82), n28 = e139.targetPosition._getTransformedByMergeOperation(t82);
                        return [
                            new Ec(i53, e139.howMany, n28, 0)
                        ];
                    }
                    return [
                        new Zc(0)
                    ];
                }
                return e139.sourcePosition.hasSameParentAs(t82.targetPosition) && (e139.howMany += t82.howMany), e139.sourcePosition = e139.sourcePosition._getTransformedByMergeOperation(t82), e139.targetPosition = e139.targetPosition._getTransformedByMergeOperation(t82), e139.graveyardPosition.isEqual(t82.graveyardPosition) && i52.aIsStrong || (e139.graveyardPosition = e139.graveyardPosition._getTransformedByMergeOperation(t82)), [
                    e139
                ];
            }), th(Nc, Ec, (e139, t82, i52)=>{
                const n27 = oa._createFromPositionAndShift(t82.sourcePosition, t82.howMany);
                return "remove" == t82.type && !i52.bWasUndone && !i52.forceWeakRemove && e139.deletionPosition.hasSameParentAs(t82.sourcePosition) && n27.containsPosition(e139.sourcePosition) ? [
                    new Zc(0)
                ] : (e139.sourcePosition.hasSameParentAs(t82.targetPosition) && (e139.howMany += t82.howMany), e139.sourcePosition.hasSameParentAs(t82.sourcePosition) && (e139.howMany -= t82.howMany), e139.sourcePosition = e139.sourcePosition._getTransformedByMoveOperation(t82), e139.targetPosition = e139.targetPosition._getTransformedByMoveOperation(t82), e139.graveyardPosition.isEqual(t82.targetPosition) || (e139.graveyardPosition = e139.graveyardPosition._getTransformedByMoveOperation(t82)), [
                    e139
                ]);
            }), th(Nc, Rc, (e139, t82, i52)=>{
                if (t82.graveyardPosition && (e139.graveyardPosition = e139.graveyardPosition._getTransformedByDeletion(t82.graveyardPosition, 1), e139.deletionPosition.isEqual(t82.graveyardPosition) && (e139.howMany = t82.howMany)), e139.targetPosition.isEqual(t82.splitPosition)) {
                    const n27 = 0 != t82.howMany, o13 = t82.graveyardPosition && e139.deletionPosition.isEqual(t82.graveyardPosition);
                    if (n27 || o13 || "mergeTargetNotMoved" == i52.abRelation) return e139.sourcePosition = e139.sourcePosition._getTransformedBySplitOperation(t82), [
                        e139
                    ];
                }
                if (e139.sourcePosition.isEqual(t82.splitPosition)) {
                    if ("mergeSourceNotMoved" == i52.abRelation) return e139.howMany = 0, e139.targetPosition = e139.targetPosition._getTransformedBySplitOperation(t82), [
                        e139
                    ];
                    if ("mergeSameElement" == i52.abRelation || e139.sourcePosition.offset > 0) return e139.sourcePosition = t82.moveTargetPosition.clone(), e139.targetPosition = e139.targetPosition._getTransformedBySplitOperation(t82), [
                        e139
                    ];
                }
                return e139.sourcePosition.hasSameParentAs(t82.splitPosition) && (e139.howMany = t82.splitPosition.offset), e139.sourcePosition = e139.sourcePosition._getTransformedBySplitOperation(t82), e139.targetPosition = e139.targetPosition._getTransformedBySplitOperation(t82), [
                    e139
                ];
            }), th(Ec, Ic, (e139, t82)=>{
                const i52 = oa._createFromPositionAndShift(e139.sourcePosition, e139.howMany)._getTransformedByInsertOperation(t82, !1)[0];
                return e139.sourcePosition = i52.start, e139.howMany = i52.end.offset - i52.start.offset, e139.targetPosition.isEqual(t82.position) || (e139.targetPosition = e139.targetPosition._getTransformedByInsertOperation(t82)), [
                    e139
                ];
            }), th(Ec, Ec, (e139, t82, i52)=>{
                const n27 = oa._createFromPositionAndShift(e139.sourcePosition, e139.howMany), o13 = oa._createFromPositionAndShift(t82.sourcePosition, t82.howMany);
                let r8, s6 = i52.aIsStrong, a4 = !i52.aIsStrong;
                if ("insertBefore" == i52.abRelation || "insertAfter" == i52.baRelation ? a4 = !0 : "insertAfter" != i52.abRelation && "insertBefore" != i52.baRelation || (a4 = !1), r8 = e139.targetPosition.isEqual(t82.targetPosition) && a4 ? e139.targetPosition._getTransformedByDeletion(t82.sourcePosition, t82.howMany) : e139.targetPosition._getTransformedByMove(t82.sourcePosition, t82.targetPosition, t82.howMany), lh(e139, t82) && lh(t82, e139)) return [
                    t82.getReversed()
                ];
                if (n27.containsPosition(t82.targetPosition) && n27.containsRange(o13, !0)) return n27.start = n27.start._getTransformedByMove(t82.sourcePosition, t82.targetPosition, t82.howMany), n27.end = n27.end._getTransformedByMove(t82.sourcePosition, t82.targetPosition, t82.howMany), dh([
                    n27
                ], r8);
                if (o13.containsPosition(e139.targetPosition) && o13.containsRange(n27, !0)) return n27.start = n27.start._getCombined(t82.sourcePosition, t82.getMovedRangeStart()), n27.end = n27.end._getCombined(t82.sourcePosition, t82.getMovedRangeStart()), dh([
                    n27
                ], r8);
                const c7 = cn(e139.sourcePosition.getParentPath(), t82.sourcePosition.getParentPath());
                if ("prefix" == c7 || "extension" == c7) return n27.start = n27.start._getTransformedByMove(t82.sourcePosition, t82.targetPosition, t82.howMany), n27.end = n27.end._getTransformedByMove(t82.sourcePosition, t82.targetPosition, t82.howMany), dh([
                    n27
                ], r8);
                "remove" != e139.type || "remove" == t82.type || i52.aWasUndone || i52.forceWeakRemove ? "remove" == e139.type || "remove" != t82.type || i52.bWasUndone || i52.forceWeakRemove || (s6 = !1) : s6 = !0;
                const l4 = [], d6 = n27.getDifference(o13);
                for (const e140 of d6){
                    e140.start = e140.start._getTransformedByDeletion(t82.sourcePosition, t82.howMany), e140.end = e140.end._getTransformedByDeletion(t82.sourcePosition, t82.howMany);
                    const i53 = "same" == cn(e140.start.getParentPath(), t82.getMovedRangeStart().getParentPath()), n28 = e140._getTransformedByInsertion(t82.getMovedRangeStart(), t82.howMany, i53);
                    l4.push(...n28);
                }
                const h3 = n27.getIntersection(o13);
                return null !== h3 && s6 && (h3.start = h3.start._getCombined(t82.sourcePosition, t82.getMovedRangeStart()), h3.end = h3.end._getCombined(t82.sourcePosition, t82.getMovedRangeStart()), 0 === l4.length ? l4.push(h3) : 1 == l4.length ? o13.start.isBefore(n27.start) || o13.start.isEqual(n27.start) ? l4.unshift(h3) : l4.push(h3) : l4.splice(1, 0, h3)), 0 === l4.length ? [
                    new Zc(e139.baseVersion)
                ] : dh(l4, r8);
            }), th(Ec, Rc, (e139, t82, i52)=>{
                let n27 = e139.targetPosition.clone();
                e139.targetPosition.isEqual(t82.insertionPosition) && t82.graveyardPosition && "moveTargetAfter" != i52.abRelation || (n27 = e139.targetPosition._getTransformedBySplitOperation(t82));
                const o13 = oa._createFromPositionAndShift(e139.sourcePosition, e139.howMany);
                if (o13.end.isEqual(t82.insertionPosition)) return t82.graveyardPosition || e139.howMany++, e139.targetPosition = n27, [
                    e139
                ];
                if (o13.start.hasSameParentAs(t82.splitPosition) && o13.containsPosition(t82.splitPosition)) {
                    let e140 = new oa(t82.splitPosition, o13.end);
                    e140 = e140._getTransformedBySplitOperation(t82);
                    return dh([
                        new oa(o13.start, t82.splitPosition),
                        e140
                    ], n27);
                }
                e139.targetPosition.isEqual(t82.splitPosition) && "insertAtSource" == i52.abRelation && (n27 = t82.moveTargetPosition), e139.targetPosition.isEqual(t82.insertionPosition) && "insertBetween" == i52.abRelation && (n27 = e139.targetPosition);
                const r8 = [
                    o13._getTransformedBySplitOperation(t82)
                ];
                if (t82.graveyardPosition) {
                    const n28 = o13.start.isEqual(t82.graveyardPosition) || o13.containsPosition(t82.graveyardPosition);
                    e139.howMany > 1 && n28 && !i52.aWasUndone && r8.push(oa._createFromPositionAndShift(t82.insertionPosition, 1));
                }
                return dh(r8, n27);
            }), th(Ec, Nc, (e139, t82, i52)=>{
                const n27 = oa._createFromPositionAndShift(e139.sourcePosition, e139.howMany);
                if (t82.deletionPosition.hasSameParentAs(e139.sourcePosition) && n27.containsPosition(t82.sourcePosition)) {
                    if ("remove" != e139.type || i52.forceWeakRemove) {
                        if (1 == e139.howMany) return i52.bWasUndone ? (e139.sourcePosition = t82.graveyardPosition.clone(), e139.targetPosition = e139.targetPosition._getTransformedByMergeOperation(t82), [
                            e139
                        ]) : [
                            new Zc(0)
                        ];
                    } else if (!i52.aWasUndone) {
                        const i53 = [];
                        let n28 = t82.graveyardPosition.clone(), o13 = t82.targetPosition._getTransformedByMergeOperation(t82);
                        e139.howMany > 1 && (i53.push(new Ec(e139.sourcePosition, e139.howMany - 1, e139.targetPosition, 0)), n28 = n28._getTransformedByMove(e139.sourcePosition, e139.targetPosition, e139.howMany - 1), o13 = o13._getTransformedByMove(e139.sourcePosition, e139.targetPosition, e139.howMany - 1));
                        const r8 = t82.deletionPosition._getCombined(e139.sourcePosition, e139.targetPosition), s6 = new Ec(n28, 1, r8, 0), a4 = s6.getMovedRangeStart().path.slice();
                        a4.push(0);
                        const c7 = new ea(s6.targetPosition.root, a4);
                        o13 = o13._getTransformedByMove(n28, r8, 1);
                        const l4 = new Ec(o13, t82.howMany, c7, 0);
                        return i53.push(s6), i53.push(l4), i53;
                    }
                }
                const o13 = oa._createFromPositionAndShift(e139.sourcePosition, e139.howMany)._getTransformedByMergeOperation(t82);
                return e139.sourcePosition = o13.start, e139.howMany = o13.end.offset - o13.start.offset, e139.targetPosition = e139.targetPosition._getTransformedByMergeOperation(t82), [
                    e139
                ];
            }), th(Pc, Ic, (e139, t82)=>(e139.position = e139.position._getTransformedByInsertOperation(t82), [
                    e139
                ])
            ), th(Pc, Nc, (e139, t82)=>e139.position.isEqual(t82.deletionPosition) ? (e139.position = t82.graveyardPosition.clone(), e139.position.stickiness = "toNext", [
                    e139
                ]) : (e139.position = e139.position._getTransformedByMergeOperation(t82), [
                    e139
                ])
            ), th(Pc, Ec, (e139, t82)=>(e139.position = e139.position._getTransformedByMoveOperation(t82), [
                    e139
                ])
            ), th(Pc, Pc, (e139, t82, i52)=>{
                if (e139.position.isEqual(t82.position)) {
                    if (!i52.aIsStrong) return [
                        new Zc(0)
                    ];
                    e139.oldName = t82.newName;
                }
                return [
                    e139
                ];
            }), th(Pc, Rc, (e139, t82)=>{
                if ("same" == cn(e139.position.path, t82.splitPosition.getParentPath()) && !t82.graveyardPosition) {
                    const t83 = new Pc(e139.position.getShiftedBy(1), e139.oldName, e139.newName, 0);
                    return [
                        e139,
                        t83
                    ];
                }
                return e139.position = e139.position._getTransformedBySplitOperation(t82), [
                    e139
                ];
            }), th(Mc, Mc, (e139, t82, i52)=>{
                if (e139.root === t82.root && e139.key === t82.key) {
                    if (!i52.aIsStrong || e139.newValue === t82.newValue) return [
                        new Zc(0)
                    ];
                    e139.oldValue = t82.newValue;
                }
                return [
                    e139
                ];
            }), th(Rc, Ic, (e139, t82)=>(e139.splitPosition.hasSameParentAs(t82.position) && e139.splitPosition.offset < t82.position.offset && (e139.howMany += t82.howMany), e139.splitPosition = e139.splitPosition._getTransformedByInsertOperation(t82), e139.insertionPosition = e139.insertionPosition._getTransformedByInsertOperation(t82), [
                    e139
                ])
            ), th(Rc, Nc, (e139, t82, i52)=>{
                if (!e139.graveyardPosition && !i52.bWasUndone && e139.splitPosition.hasSameParentAs(t82.sourcePosition)) {
                    const i53 = t82.graveyardPosition.path.slice();
                    i53.push(0);
                    const n27 = new ea(t82.graveyardPosition.root, i53), o13 = Rc.getInsertionPosition(new ea(t82.graveyardPosition.root, i53)), r8 = new Rc(n27, 0, o13, null, 0);
                    return e139.splitPosition = e139.splitPosition._getTransformedByMergeOperation(t82), e139.insertionPosition = Rc.getInsertionPosition(e139.splitPosition), e139.graveyardPosition = r8.insertionPosition.clone(), e139.graveyardPosition.stickiness = "toNext", [
                        r8,
                        e139
                    ];
                }
                return e139.splitPosition.hasSameParentAs(t82.deletionPosition) && !e139.splitPosition.isAfter(t82.deletionPosition) && e139.howMany--, e139.splitPosition.hasSameParentAs(t82.targetPosition) && (e139.howMany += t82.howMany), e139.splitPosition = e139.splitPosition._getTransformedByMergeOperation(t82), e139.insertionPosition = Rc.getInsertionPosition(e139.splitPosition), e139.graveyardPosition && (e139.graveyardPosition = e139.graveyardPosition._getTransformedByMergeOperation(t82)), [
                    e139
                ];
            }), th(Rc, Ec, (e139, t82, i52)=>{
                const n27 = oa._createFromPositionAndShift(t82.sourcePosition, t82.howMany);
                if (e139.graveyardPosition) {
                    const o13 = n27.start.isEqual(e139.graveyardPosition) || n27.containsPosition(e139.graveyardPosition);
                    if (!i52.bWasUndone && o13) {
                        const i53 = e139.splitPosition._getTransformedByMoveOperation(t82), n28 = e139.graveyardPosition._getTransformedByMoveOperation(t82), o14 = n28.path.slice();
                        o14.push(0);
                        const r8 = new ea(n28.root, o14);
                        return [
                            new Ec(i53, e139.howMany, r8, 0)
                        ];
                    }
                    e139.graveyardPosition = e139.graveyardPosition._getTransformedByMoveOperation(t82);
                }
                const o13 = e139.splitPosition.isEqual(t82.targetPosition);
                if (o13 && ("insertAtSource" == i52.baRelation || "splitBefore" == i52.abRelation)) return e139.howMany += t82.howMany, e139.splitPosition = e139.splitPosition._getTransformedByDeletion(t82.sourcePosition, t82.howMany), e139.insertionPosition = Rc.getInsertionPosition(e139.splitPosition), [
                    e139
                ];
                if (o13 && i52.abRelation && i52.abRelation.howMany) {
                    const { howMany: t83 , offset: n28  } = i52.abRelation;
                    return e139.howMany += t83, e139.splitPosition = e139.splitPosition.getShiftedBy(n28), [
                        e139
                    ];
                }
                if (e139.splitPosition.hasSameParentAs(t82.sourcePosition) && n27.containsPosition(e139.splitPosition)) {
                    const i53 = t82.howMany - (e139.splitPosition.offset - t82.sourcePosition.offset);
                    return e139.howMany -= i53, e139.splitPosition.hasSameParentAs(t82.targetPosition) && e139.splitPosition.offset < t82.targetPosition.offset && (e139.howMany += t82.howMany), e139.splitPosition = t82.sourcePosition.clone(), e139.insertionPosition = Rc.getInsertionPosition(e139.splitPosition), [
                        e139
                    ];
                }
                return t82.sourcePosition.isEqual(t82.targetPosition) || (e139.splitPosition.hasSameParentAs(t82.sourcePosition) && e139.splitPosition.offset <= t82.sourcePosition.offset && (e139.howMany -= t82.howMany), e139.splitPosition.hasSameParentAs(t82.targetPosition) && e139.splitPosition.offset < t82.targetPosition.offset && (e139.howMany += t82.howMany)), e139.splitPosition.stickiness = "toNone", e139.splitPosition = e139.splitPosition._getTransformedByMoveOperation(t82), e139.splitPosition.stickiness = "toNext", e139.graveyardPosition ? e139.insertionPosition = e139.insertionPosition._getTransformedByMoveOperation(t82) : e139.insertionPosition = Rc.getInsertionPosition(e139.splitPosition), [
                    e139
                ];
            }), th(Rc, Rc, (e139, t82, i52)=>{
                if (e139.splitPosition.isEqual(t82.splitPosition)) {
                    if (!e139.graveyardPosition && !t82.graveyardPosition) return [
                        new Zc(0)
                    ];
                    if (e139.graveyardPosition && t82.graveyardPosition && e139.graveyardPosition.isEqual(t82.graveyardPosition)) return [
                        new Zc(0)
                    ];
                    if ("splitBefore" == i52.abRelation) return e139.howMany = 0, e139.graveyardPosition = e139.graveyardPosition._getTransformedBySplitOperation(t82), [
                        e139
                    ];
                }
                if (e139.graveyardPosition && t82.graveyardPosition && e139.graveyardPosition.isEqual(t82.graveyardPosition)) {
                    const n27 = "$graveyard" == e139.splitPosition.root.rootName, o13 = "$graveyard" == t82.splitPosition.root.rootName, r8 = n27 && !o13;
                    if (o13 && !n27 || !r8 && i52.aIsStrong) {
                        const i53 = [];
                        return t82.howMany && i53.push(new Ec(t82.moveTargetPosition, t82.howMany, t82.splitPosition, 0)), e139.howMany && i53.push(new Ec(e139.splitPosition, e139.howMany, e139.moveTargetPosition, 0)), i53;
                    }
                    return [
                        new Zc(0)
                    ];
                }
                if (e139.graveyardPosition && (e139.graveyardPosition = e139.graveyardPosition._getTransformedBySplitOperation(t82)), e139.splitPosition.isEqual(t82.insertionPosition) && "splitBefore" == i52.abRelation) return e139.howMany++, [
                    e139
                ];
                if (t82.splitPosition.isEqual(e139.insertionPosition) && "splitBefore" == i52.baRelation) {
                    const i53 = t82.insertionPosition.path.slice();
                    i53.push(0);
                    const n27 = new ea(t82.insertionPosition.root, i53);
                    return [
                        e139,
                        new Ec(e139.insertionPosition, 1, n27, 0)
                    ];
                }
                return e139.splitPosition.hasSameParentAs(t82.splitPosition) && e139.splitPosition.offset < t82.splitPosition.offset && (e139.howMany -= t82.howMany), e139.splitPosition = e139.splitPosition._getTransformedBySplitOperation(t82), e139.insertionPosition = Rc.getInsertionPosition(e139.splitPosition), [
                    e139
                ];
            });
            class hh extends ts {
                constructor(e139){
                    super(e139), this.domEventType = "click";
                }
                onDomEvent(e) {
                    this.fire(e.type, e);
                }
            }
            class uh extends ts {
                constructor(e140){
                    super(e140), this.domEventType = [
                        "mousedown",
                        "mouseup",
                        "mouseover",
                        "mouseout"
                    ];
                }
                onDomEvent(e) {
                    this.fire(e.type, e);
                }
            }
            class gh {
                constructor(e141){
                    this.document = e141;
                }
                createDocumentFragment(e) {
                    return new Wo(this.document, e);
                }
                createElement(e, t, i) {
                    return new eo(this.document, e, t, i);
                }
                createText(e) {
                    return new hn(this.document, e);
                }
                clone(e, t = !1) {
                    return e._clone(t);
                }
                appendChild(e, t) {
                    return t._appendChild(e);
                }
                insertChild(e, t, i) {
                    return i._insertChild(e, t);
                }
                removeChildren(e, t, i) {
                    return i._removeChildren(e, t);
                }
                remove(e) {
                    const t82 = e.parent;
                    return t82 ? this.removeChildren(t82.getChildIndex(e), 1, t82) : [];
                }
                replace(e, t) {
                    const i52 = e.parent;
                    if (i52) {
                        const n27 = i52.getChildIndex(e);
                        return this.removeChildren(n27, 1, i52), this.insertChild(n27, t, i52), !0;
                    }
                    return !1;
                }
                unwrapElement(e) {
                    const t82 = e.parent;
                    if (t82) {
                        const i52 = t82.getChildIndex(e);
                        this.remove(e), this.insertChild(i52, e.getChildren(), t82);
                    }
                }
                rename(e, t) {
                    const i52 = new eo(this.document, e, t.getAttributes(), t.getChildren());
                    return this.replace(t, i52) ? i52 : null;
                }
                setAttribute(e, t, i) {
                    i._setAttribute(e, t);
                }
                removeAttribute(e, t) {
                    t._removeAttribute(e);
                }
                addClass(e, t) {
                    t._addClass(e);
                }
                removeClass(e, t) {
                    t._removeClass(e);
                }
                setStyle(e, t, i) {
                    ct(e) && (void 0) === i && (i = t), i._setStyle(e, t);
                }
                removeStyle(e, t) {
                    t._removeStyle(e);
                }
                setCustomProperty(e, t, i) {
                    i._setCustomProperty(e, t);
                }
                removeCustomProperty(e, t) {
                    return t._removeCustomProperty(e);
                }
                createPositionAt(e, t) {
                    return co._createAt(e, t);
                }
                createPositionAfter(e) {
                    return co._createAfter(e);
                }
                createPositionBefore(e) {
                    return co._createBefore(e);
                }
                createRange(e, t) {
                    return new lo(e, t);
                }
                createRangeOn(e) {
                    return lo._createOn(e);
                }
                createRangeIn(e) {
                    return lo._createIn(e);
                }
                createSelection(e, t, i) {
                    return new go(e, t, i);
                }
            }
            new Set([
                "black",
                "silver",
                "gray",
                "white",
                "maroon",
                "red",
                "purple",
                "fuchsia",
                "green",
                "lime",
                "olive",
                "yellow",
                "navy",
                "blue",
                "teal",
                "aqua",
                "orange",
                "aliceblue",
                "antiquewhite",
                "aquamarine",
                "azure",
                "beige",
                "bisque",
                "blanchedalmond",
                "blueviolet",
                "brown",
                "burlywood",
                "cadetblue",
                "chartreuse",
                "chocolate",
                "coral",
                "cornflowerblue",
                "cornsilk",
                "crimson",
                "cyan",
                "darkblue",
                "darkcyan",
                "darkgoldenrod",
                "darkgray",
                "darkgreen",
                "darkgrey",
                "darkkhaki",
                "darkmagenta",
                "darkolivegreen",
                "darkorange",
                "darkorchid",
                "darkred",
                "darksalmon",
                "darkseagreen",
                "darkslateblue",
                "darkslategray",
                "darkslategrey",
                "darkturquoise",
                "darkviolet",
                "deeppink",
                "deepskyblue",
                "dimgray",
                "dimgrey",
                "dodgerblue",
                "firebrick",
                "floralwhite",
                "forestgreen",
                "gainsboro",
                "ghostwhite",
                "gold",
                "goldenrod",
                "greenyellow",
                "grey",
                "honeydew",
                "hotpink",
                "indianred",
                "indigo",
                "ivory",
                "khaki",
                "lavender",
                "lavenderblush",
                "lawngreen",
                "lemonchiffon",
                "lightblue",
                "lightcoral",
                "lightcyan",
                "lightgoldenrodyellow",
                "lightgray",
                "lightgreen",
                "lightgrey",
                "lightpink",
                "lightsalmon",
                "lightseagreen",
                "lightskyblue",
                "lightslategray",
                "lightslategrey",
                "lightsteelblue",
                "lightyellow",
                "limegreen",
                "linen",
                "magenta",
                "mediumaquamarine",
                "mediumblue",
                "mediumorchid",
                "mediumpurple",
                "mediumseagreen",
                "mediumslateblue",
                "mediumspringgreen",
                "mediumturquoise",
                "mediumvioletred",
                "midnightblue",
                "mintcream",
                "mistyrose",
                "moccasin",
                "navajowhite",
                "oldlace",
                "olivedrab",
                "orangered",
                "orchid",
                "palegoldenrod",
                "palegreen",
                "paleturquoise",
                "palevioletred",
                "papayawhip",
                "peachpuff",
                "peru",
                "pink",
                "plum",
                "powderblue",
                "rosybrown",
                "royalblue",
                "saddlebrown",
                "salmon",
                "sandybrown",
                "seagreen",
                "seashell",
                "sienna",
                "skyblue",
                "slateblue",
                "slategray",
                "slategrey",
                "snow",
                "springgreen",
                "steelblue",
                "tan",
                "thistle",
                "tomato",
                "turquoise",
                "violet",
                "wheat",
                "whitesmoke",
                "yellowgreen",
                "rebeccapurple",
                "currentcolor",
                "transparent"
            ]);
            class mh extends yl {
                constructor(e142, t82){
                    super(e142), this.view = t82, this._toolbarConfig = fd(e142.config.get("toolbar")), this._elementReplacer = new vs;
                }
                get element() {
                    return this.view.element;
                }
                init(e) {
                    const t83 = this.editor, i52 = this.view, n27 = t83.editing.view, o13 = i52.editable, r8 = n27.document.getRoot();
                    o13.name = r8.rootName, i52.render();
                    const s6 = o13.element;
                    this.setEditableElement(o13.name, s6), this.focusTracker.add(s6), i52.editable.bind("isFocused").to(this.focusTracker), n27.attachDomRoot(s6), e && this._elementReplacer.replace(e, this.element), this._initPlaceholder(), this._initToolbar(), this.fire("ready");
                }
                destroy() {
                    const e143 = this.view, t83 = this.editor.editing.view;
                    this._elementReplacer.restore(), t83.detachDomRoot(e143.editable.name), e143.destroy(), super.destroy();
                }
                _initToolbar() {
                    const e143 = this.editor, t83 = this.view, i52 = e143.editing.view;
                    t83.stickyPanel.bind("isActive").to(this.focusTracker, "isFocused"), t83.stickyPanel.limiterElement = t83.element, this._toolbarConfig.viewportTopOffset && (t83.stickyPanel.viewportTopOffset = this._toolbarConfig.viewportTopOffset), t83.toolbar.fillFromConfig(this._toolbarConfig, this.componentFactory), (function({ origin: e144 , originKeystrokeHandler: t84 , originFocusTracker: i53 , toolbar: n27 , beforeFocus: o13 , afterBlur: r8  }) {
                        i53.add(n27.element), t84.set("Alt+F10", (e145, t85)=>{
                            i53.isFocused && !n27.focusTracker.isFocused && (o13 && o13(), n27.focus(), t85());
                        }), n27.keystrokes.set("Esc", (t85, i54)=>{
                            n27.focusTracker.isFocused && (e144.focus(), r8 && r8(), i54());
                        });
                    })({
                        origin: i52,
                        originFocusTracker: this.focusTracker,
                        originKeystrokeHandler: e143.keystrokes,
                        toolbar: t83.toolbar
                    });
                }
                _initPlaceholder() {
                    const e143 = this.editor, t83 = e143.editing.view, i52 = t83.document.getRoot(), n27 = e143.sourceElement, o13 = e143.config.get("placeholder") || n27 && "textarea" === n27.tagName.toLowerCase() && n27.getAttribute("placeholder");
                    o13 && Kd({
                        view: t83,
                        element: i52,
                        text: o13,
                        isDirectHost: !1,
                        keepOnFocus: !0
                    });
                }
            }
            i2(61);
            class fh extends Id {
                constructor(e143, t83, i52 = {
                }){
                    super(e143), this.stickyPanel = new Yd(e143), this.toolbar = new pd(e143, {
                        shouldGroupWhenFull: i52.shouldToolbarGroupWhenFull
                    }), this.editable = new Pd(e143, t83);
                }
                render() {
                    super.render(), this.stickyPanel.content.add(this.toolbar), this.top.add(this.stickyPanel), this.main.add(this.editable);
                }
            }
            class ph extends kl {
                constructor(e144, t84){
                    super(t84), Yi(e144) && (this.sourceElement = e144), this.model.document.createRoot();
                    const i53 = !this.config.get("toolbar.shouldNotGroupWhenFull"), n27 = new fh(this.locale, this.editing.view, {
                        shouldToolbarGroupWhenFull: i53
                    });
                    this.ui = new mh(this, n27), (function(e145) {
                        if (!M(e145.updateSourceElement)) throw new c2.a("attachtoform-missing-elementapi-interface", e145);
                        const t85 = e145.sourceElement;
                        if (t85 && "textarea" === t85.tagName.toLowerCase() && t85.form) {
                            let i54;
                            const n28 = t85.form, o13 = ()=>e145.updateSourceElement()
                            ;
                            M(n28.submit) && (i54 = n28.submit, n28.submit = ()=>{
                                o13(), i54.apply(n28);
                            }), n28.addEventListener("submit", o13), e145.on("destroy", ()=>{
                                n28.removeEventListener("submit", o13), i54 && (n28.submit = i54);
                            });
                        }
                    })(this);
                }
                destroy() {
                    return this.sourceElement && this.updateSourceElement(), this.ui.destroy(), super.destroy();
                }
                static create(e, t = {
                }) {
                    return new Promise((i54)=>{
                        const n28 = new this(e, t);
                        i54(n28.initPlugins().then(()=>n28.ui.init(Yi(e) ? e : null)
                        ).then(()=>{
                            if (!Yi(e) && t.initialData) throw new c2.a("editor-create-initial-data", null);
                            const i55 = (void 0) !== t.initialData ? t.initialData : function(e145) {
                                var t85;
                                return Yi(e145) ? (t85 = e145, t85 instanceof HTMLTextAreaElement ? t85.value : t85.innerHTML) : e145;
                            }(e);
                            return n28.data.init(i55);
                        }).then(()=>n28.fire("ready")
                        ).then(()=>n28
                        ));
                    });
                }
            }
            Ke(ph, xl), Ke(ph, Al);
            class bh {
                constructor(e145){
                    this.files = (function(e146) {
                        const t85 = e146.files ? Array.from(e146.files) : [], i54 = e146.items ? Array.from(e146.items) : [];
                        if (t85.length) return t85;
                        return i54.filter((e147)=>"file" === e147.kind
                        ).map((e147)=>e147.getAsFile()
                        );
                    })(e145), this._native = e145;
                }
                get types() {
                    return this._native.types;
                }
                getData(e) {
                    return this._native.getData(e);
                }
                setData(e, t) {
                    this._native.setData(e, t);
                }
                set effectAllowed(e) {
                    this._native.effectAllowed = e;
                }
                get effectAllowed() {
                    return this._native.effectAllowed;
                }
                set dropEffect(e) {
                    this._native.dropEffect = e;
                }
                get dropEffect() {
                    return this._native.dropEffect;
                }
                get isCanceled() {
                    return "none" == this._native.dropEffect || !!this._native.mozUserCancelled;
                }
            }
            class wh extends ts {
                constructor(e146){
                    super(e146);
                    const t85 = this.document;
                    function i54(e147) {
                        return (i55, n28)=>{
                            n28.preventDefault();
                            const r8 = n28.dropRange ? [
                                n28.dropRange
                            ] : null, s6 = new o3(t85, e147);
                            t85.fire(s6, {
                                dataTransfer: n28.dataTransfer,
                                method: i55.name,
                                targetRanges: r8,
                                target: n28.target
                            }), s6.stop.called && n28.stopPropagation();
                        };
                    }
                    this.domEventType = [
                        "paste",
                        "copy",
                        "cut",
                        "drop",
                        "dragover",
                        "dragstart",
                        "dragend",
                        "dragenter",
                        "dragleave"
                    ], this.listenTo(t85, "paste", i54("clipboardInput"), {
                        priority: "low"
                    }), this.listenTo(t85, "drop", i54("clipboardInput"), {
                        priority: "low"
                    }), this.listenTo(t85, "dragover", i54("dragging"), {
                        priority: "low"
                    });
                }
                onDomEvent(e) {
                    const t86 = {
                        dataTransfer: new bh(e.clipboardData ? e.clipboardData : e.dataTransfer)
                    };
                    "drop" != e.type && "dragover" != e.type || (t86.dropRange = (function(e147, t87) {
                        const i55 = t87.target.ownerDocument, n28 = t87.clientX, o13 = t87.clientY;
                        let r8;
                        i55.caretRangeFromPoint && i55.caretRangeFromPoint(n28, o13) ? r8 = i55.caretRangeFromPoint(n28, o13) : t87.rangeParent && (r8 = i55.createRange(), r8.setStart(t87.rangeParent, t87.rangeOffset), r8.collapse(!0));
                        if (r8) return e147.domConverter.domRangeToView(r8);
                        return null;
                    })(this.view, e)), this.fire(e.type, e, t86);
                }
            }
            const kh = [
                "figcaption",
                "li"
            ];
            class _h extends Qe {
                static get pluginName() {
                    return "ClipboardPipeline";
                }
                init() {
                    this.editor.editing.view.addObserver(wh), this._setupPasteDrop(), this._setupCopyCut();
                }
                _setupPasteDrop() {
                    const e147 = this.editor, t86 = e147.model, i55 = e147.editing.view, n28 = i55.document;
                    this.listenTo(n28, "clipboardInput", (t87)=>{
                        e147.isReadOnly && t87.stop();
                    }, {
                        priority: "highest"
                    }), this.listenTo(n28, "clipboardInput", (e148, t87)=>{
                        const n29 = t87.dataTransfer;
                        let r8 = t87.content || "";
                        var s6;
                        r8 || (n29.getData("text/html") ? r8 = (function(e149) {
                            return e149.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g, (e150, t88)=>1 == t88.length ? " " : t88
                            );
                        })(n29.getData("text/html")) : n29.getData("text/plain") && (((s6 = (s6 = n29.getData("text/plain")).replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\r?\n\r?\n/g, "</p><p>").replace(/\r?\n/g, "<br>").replace(/^\s/, "&nbsp;").replace(/\s$/, "&nbsp;").replace(/\s\s/g, " &nbsp;")).includes("</p><p>") || s6.includes("<br>")) && (s6 = `<p>${s6}</p>`), r8 = s6), r8 = this.editor.data.htmlProcessor.toView(r8));
                        const a4 = new o3(this, "inputTransformation");
                        this.fire(a4, {
                            content: r8,
                            dataTransfer: n29,
                            targetRanges: t87.targetRanges,
                            method: t87.method
                        }), a4.stop.called && e148.stop(), i55.scrollToTheSelection();
                    }, {
                        priority: "low"
                    }), this.listenTo(this, "inputTransformation", (e148, i56)=>{
                        if (i56.content.isEmpty) return;
                        const n29 = this.editor.data.toModel(i56.content, "$clipboardHolder");
                        0 != n29.childCount && (e148.stop(), t86.change(()=>{
                            this.fire("contentInsertion", {
                                content: n29,
                                method: i56.method,
                                dataTransfer: i56.dataTransfer,
                                targetRanges: i56.targetRanges
                            });
                        }));
                    }, {
                        priority: "low"
                    }), this.listenTo(this, "contentInsertion", (e148, i56)=>{
                        i56.resultRange = t86.insertContent(i56.content);
                    }, {
                        priority: "low"
                    });
                }
                _setupCopyCut() {
                    const e147 = this.editor, t86 = e147.model.document, i55 = e147.editing.view.document;
                    function n28(n29, o13) {
                        const r8 = o13.dataTransfer;
                        o13.preventDefault();
                        const s7 = e147.data.toView(e147.model.getSelectedContent(t86.selection));
                        i55.fire("clipboardOutput", {
                            dataTransfer: r8,
                            content: s7,
                            method: n29.name
                        });
                    }
                    this.listenTo(i55, "copy", n28, {
                        priority: "low"
                    }), this.listenTo(i55, "cut", (t87, i56)=>{
                        e147.isReadOnly ? i56.preventDefault() : n28(t87, i56);
                    }, {
                        priority: "low"
                    }), this.listenTo(i55, "clipboardOutput", (i56, n29)=>{
                        n29.content.isEmpty || (n29.dataTransfer.setData("text/html", this.editor.data.htmlProcessor.toData(n29.content)), n29.dataTransfer.setData("text/plain", function e148(t87) {
                            let i57 = "";
                            if (t87.is("$text") || t87.is("$textProxy")) i57 = t87.data;
                            else if (t87.is("element", "img") && t87.hasAttribute("alt")) i57 = t87.getAttribute("alt");
                            else if (t87.is("element", "br")) i57 = "\n";
                            else {
                                let n30 = null;
                                for (const o13 of t87.getChildren()){
                                    const t88 = e148(o13);
                                    n30 && (n30.is("containerElement") || o13.is("containerElement")) && (kh.includes(n30.name) || kh.includes(o13.name) ? i57 += "\n" : i57 += "\n\n"), i57 += t88, n30 = o13;
                                }
                            }
                            return i57;
                        }(n29.content))), "cut" == n29.method && e147.model.deleteContent(t86.selection);
                    }, {
                        priority: "low"
                    });
                }
            }
            function* vh(e147, t86) {
                for (const i55 of t86)i55 && e147.getAttributeProperties(i55[0]).copyOnEnter && (yield i55);
            }
            class yh extends Ze {
                execute() {
                    const e147 = this.editor.model, t86 = e147.document;
                    e147.change((i55)=>{
                        !function(e148, t87, i56, n28) {
                            const o13 = i56.isCollapsed, r8 = i56.getFirstRange(), s7 = r8.start.parent, a4 = r8.end.parent;
                            if (n28.isLimit(s7) || n28.isLimit(a4)) return void (o13 || s7 != a4 || e148.deleteContent(i56));
                            if (o13) {
                                const e149 = vh(t87.model.schema, i56.getAttributes());
                                xh(t87, r8.start), t87.setSelectionAttribute(e149);
                            } else {
                                const n29 = !(r8.start.isAtStart && r8.end.isAtEnd), o14 = s7 == a4;
                                e148.deleteContent(i56, {
                                    leaveUnmerged: n29
                                }), n29 && (o14 ? xh(t87, i56.focus) : t87.setSelection(a4, 0));
                            }
                        }(this.editor.model, i55, t86.selection, e147.schema), this.fire("afterExecute", {
                            writer: i55
                        });
                    });
                }
            }
            function xh(e147, t86) {
                e147.split(t86), e147.setSelection(t86.parent.nextSibling, 0);
            }
            class Ah extends Or {
                constructor(e147){
                    super(e147);
                    const t86 = this.document;
                    t86.on("keydown", (e148, i55)=>{
                        if (this.isEnabled && i55.keyCode == No.enter) {
                            const n28 = new fo(t86, "enter", t86.selection.getFirstRange());
                            t86.fire(n28, new es(t86, i55.domEvent, {
                                isSoft: i55.shiftKey
                            })), n28.stop.called && e148.stop();
                        }
                    });
                }
                observe() {
                }
            }
            class Ch extends Qe {
                static get pluginName() {
                    return "Enter";
                }
                init() {
                    const e148 = this.editor, t87 = e148.editing.view, i55 = t87.document;
                    t87.addObserver(Ah), e148.commands.add("enter", new yh(e148)), this.listenTo(i55, "enter", (i56, n28)=>{
                        n28.preventDefault(), n28.isSoft || (e148.execute("enter"), t87.scrollToTheSelection());
                    }, {
                        priority: "low"
                    });
                }
            }
            class Th {
                constructor(e148, t87 = 20){
                    this.model = e148, this.size = 0, this.limit = t87, this.isLocked = !1, this._changeCallback = (e149, t88)=>{
                        "transparent" != t88.type && t88 !== this._batch && this._reset(!0);
                    }, this._selectionChangeCallback = ()=>{
                        this._reset();
                    }, this.model.document.on("change", this._changeCallback), this.model.document.selection.on("change:range", this._selectionChangeCallback), this.model.document.selection.on("change:attribute", this._selectionChangeCallback);
                }
                get batch() {
                    return this._batch || (this._batch = this.model.createBatch()), this._batch;
                }
                input(e) {
                    this.size += e, this.size >= this.limit && this._reset(!0);
                }
                lock() {
                    this.isLocked = !0;
                }
                unlock() {
                    this.isLocked = !1;
                }
                destroy() {
                    this.model.document.off("change", this._changeCallback), this.model.document.selection.off("change:range", this._selectionChangeCallback), this.model.document.selection.off("change:attribute", this._selectionChangeCallback);
                }
                _reset(e) {
                    this.isLocked && !e || (this._batch = null, this.size = 0);
                }
            }
            class Eh extends Ze {
                constructor(e149, t88){
                    super(e149), this.direction = t88, this._buffer = new Th(e149.model, e149.config.get("typing.undoStep"));
                }
                get buffer() {
                    return this._buffer;
                }
                execute(e = {
                }) {
                    const t89 = this.editor.model, i55 = t89.document;
                    t89.enqueueChange(this._buffer.batch, (n28)=>{
                        this._buffer.lock();
                        const o13 = n28.createSelection(e.selection || i55.selection), r8 = e.sequence || 1, s7 = o13.isCollapsed;
                        if (o13.isCollapsed && t89.modifySelection(o13, {
                            direction: this.direction,
                            unit: e.unit
                        }), this._shouldEntireContentBeReplacedWithParagraph(r8)) return void this._replaceEntireContentWithParagraph(n28);
                        if (this._shouldReplaceFirstBlockWithParagraph(o13, r8)) return void this.editor.execute("paragraph", {
                            selection: o13
                        });
                        if (o13.isCollapsed) return;
                        let a4 = 0;
                        o13.getFirstRange().getMinimalFlatRanges().forEach((e150)=>{
                            a4 += uo(e150.getWalker({
                                singleCharacters: !0,
                                ignoreElementEnd: !0,
                                shallow: !0
                            }));
                        }), t89.deleteContent(o13, {
                            doNotResetEntireContent: s7,
                            direction: this.direction
                        }), this._buffer.input(a4), n28.setSelection(o13), this._buffer.unlock();
                    });
                }
                _shouldEntireContentBeReplacedWithParagraph(e) {
                    if (e > 1) return !1;
                    const t89 = this.editor.model, i55 = t89.document.selection, n28 = t89.schema.getLimitElement(i55);
                    if (!(i55.isCollapsed && i55.containsEntireContent(n28))) return !1;
                    if (!t89.schema.checkChild(n28, "paragraph")) return !1;
                    const o13 = n28.getChild(0);
                    return !o13 || "paragraph" !== o13.name;
                }
                _replaceEntireContentWithParagraph(e) {
                    const t89 = this.editor.model, i55 = t89.document.selection, n28 = t89.schema.getLimitElement(i55), o13 = e.createElement("paragraph");
                    e.remove(e.createRangeIn(n28)), e.insert(o13, n28), e.setSelection(o13, 0);
                }
                _shouldReplaceFirstBlockWithParagraph(e, t) {
                    const i55 = this.editor.model;
                    if (t > 1 || "backward" != this.direction) return !1;
                    if (!e.isCollapsed) return !1;
                    const n28 = e.getFirstPosition(), o13 = i55.schema.getLimitElement(n28), r8 = o13.getChild(0);
                    return n28.parent == r8 && !!e.containsEntireContent(r8) && !!i55.schema.checkChild(o13, "paragraph") && "paragraph" != r8.name;
                }
            }
            class Ih extends Or {
                constructor(e150){
                    super(e150);
                    const t89 = e150.document;
                    let i55 = 0;
                    function n28(e151, i56, n29) {
                        const o13 = new fo(t89, "delete", t89.selection.getFirstRange());
                        t89.fire(o13, new es(t89, i56, n29)), o13.stop.called && e151.stop();
                    }
                    t89.on("keyup", (e151, t90)=>{
                        t90.keyCode != No.delete && t90.keyCode != No.backspace || (i55 = 0);
                    }), t89.on("keydown", (e151, t90)=>{
                        const o13 = {
                        };
                        if (t90.keyCode == No.delete) o13.direction = "forward", o13.unit = "character";
                        else {
                            if (t90.keyCode != No.backspace) return;
                            o13.direction = "backward", o13.unit = "codePoint";
                        }
                        const r8 = So.isMac ? t90.altKey : t90.ctrlKey;
                        o13.unit = r8 ? "word" : o13.unit, o13.sequence = ++i55, n28(e151, t90.domEvent, o13);
                    }), So.isAndroid && t89.on("beforeinput", (t90, i56)=>{
                        if ("deleteContentBackward" != i56.domEvent.inputType) return;
                        const o13 = {
                            unit: "codepoint",
                            direction: "backward",
                            sequence: 1
                        }, r8 = i56.domTarget.ownerDocument.defaultView.getSelection();
                        r8.anchorNode == r8.focusNode && r8.anchorOffset + 1 != r8.focusOffset && (o13.selectionToRemove = e150.domConverter.domSelectionToView(r8)), n28(t90, i56.domEvent, o13);
                    });
                }
                observe() {
                }
            }
            class Sh extends Qe {
                static get pluginName() {
                    return "Delete";
                }
                init() {
                    const e151 = this.editor, t90 = e151.editing.view, i56 = t90.document;
                    t90.addObserver(Ih);
                    const n29 = new Eh(e151, "forward");
                    if (e151.commands.add("deleteForward", n29), e151.commands.add("forwardDelete", n29), e151.commands.add("delete", new Eh(e151, "backward")), this.listenTo(i56, "delete", (i57, n30)=>{
                        const o13 = {
                            unit: n30.unit,
                            sequence: n30.sequence
                        };
                        if (n30.selectionToRemove) {
                            const t91 = e151.model.createSelection(), i58 = [];
                            for (const t92 of n30.selectionToRemove.getRanges())i58.push(e151.editing.mapper.toModelRange(t92));
                            t91.setTo(i58), o13.selection = t91;
                        }
                        e151.execute("forward" == n30.direction ? "deleteForward" : "delete", o13), n30.preventDefault(), t90.scrollToTheSelection();
                    }, {
                        priority: "low"
                    }), So.isAndroid) {
                        let e152 = null;
                        this.listenTo(i56, "delete", (t91, i57)=>{
                            const n30 = i57.domTarget.ownerDocument.defaultView.getSelection();
                            e152 = {
                                anchorNode: n30.anchorNode,
                                anchorOffset: n30.anchorOffset,
                                focusNode: n30.focusNode,
                                focusOffset: n30.focusOffset
                            };
                        }, {
                            priority: "lowest"
                        }), this.listenTo(i56, "keyup", (t91, i57)=>{
                            if (e152) {
                                const t92 = i57.domTarget.ownerDocument.defaultView.getSelection();
                                t92.collapse(e152.anchorNode, e152.anchorOffset), t92.extend(e152.focusNode, e152.focusOffset), e152 = null;
                            }
                        });
                    }
                }
            }
            class Ph {
                constructor(){
                    this._stack = [];
                }
                add(e, t) {
                    const i56 = this._stack, n29 = i56[0];
                    this._insertDescriptor(e);
                    const o13 = i56[0];
                    n29 === o13 || Mh(n29, o13) || this.fire("change:top", {
                        oldDescriptor: n29,
                        newDescriptor: o13,
                        writer: t
                    });
                }
                remove(e, t) {
                    const i56 = this._stack, n29 = i56[0];
                    this._removeDescriptor(e);
                    const o13 = i56[0];
                    n29 === o13 || Mh(n29, o13) || this.fire("change:top", {
                        oldDescriptor: n29,
                        newDescriptor: o13,
                        writer: t
                    });
                }
                _insertDescriptor(e) {
                    const t90 = this._stack, i56 = t90.findIndex((t91)=>t91.id === e.id
                    );
                    if (Mh(e, t90[i56])) return;
                    i56 > -1 && t90.splice(i56, 1);
                    let n29 = 0;
                    for(; t90[n29] && Nh(t90[n29], e);)n29++;
                    t90.splice(n29, 0, e);
                }
                _removeDescriptor(e) {
                    const t90 = this._stack, i56 = t90.findIndex((t91)=>t91.id === e
                    );
                    i56 > -1 && t90.splice(i56, 1);
                }
            }
            function Mh(e151, t90) {
                return e151 && t90 && e151.priority == t90.priority && Rh(e151.classes) == Rh(t90.classes);
            }
            function Nh(e151, t90) {
                return e151.priority > t90.priority || !(e151.priority < t90.priority) && Rh(e151.classes) > Rh(t90.classes);
            }
            function Rh(e151) {
                return Array.isArray(e151) ? e151.sort().join(",") : e151;
            }
            Ke(Ph, h1);
            function Oh(e151) {
                return !!e151.is("element") && !!e151.getCustomProperty("widget");
            }
            function zh(e151, t90, i56 = {
            }) {
                if (!e151.is("containerElement")) throw new c2.a("widget-to-widget-wrong-element-type", null, {
                    element: e151
                });
                return t90.setAttribute("contenteditable", "false", e151), t90.addClass("ck-widget", e151), t90.setCustomProperty("widget", !0, e151), e151.getFillerOffset = Uh, i56.label && (function(e152, t91, i57) {
                    i57.setCustomProperty("widgetLabel", t91, e152);
                })(e151, i56.label, t90), i56.hasSelectionHandle && (function(e152, t91) {
                    const i57 = t91.createUIElement("div", {
                        class: "ck ck-widget__selection-handle"
                    }, function(e153) {
                        const t92 = this.toDomElement(e153), i58 = new Zl;
                        return i58.set("content", '<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'), i58.render(), t92.appendChild(i58.element), t92;
                    });
                    t91.insert(t91.createPositionAt(e152, 0), i57), t91.addClass([
                        "ck-widget_with-selection-handle"
                    ], e152);
                })(e151, t90), Vh(e151, t90, Dh, Lh), e151;
            }
            function Dh(e151, t90, i56) {
                if (t90.classes && i56.addClass(en(t90.classes), e151), t90.attributes) for(const n29 in t90.attributes)i56.setAttribute(n29, t90.attributes[n29], e151);
            }
            function Lh(e151, t90, i56) {
                if (t90.classes && i56.removeClass(en(t90.classes), e151), t90.attributes) for(const n29 in t90.attributes)i56.removeAttribute(n29, e151);
            }
            function Vh(e151, t90, i56, n29) {
                const o13 = new Ph;
                o13.on("change:top", (t91, o14)=>{
                    o14.oldDescriptor && n29(e151, o14.oldDescriptor, o14.writer), o14.newDescriptor && i56(e151, o14.newDescriptor, o14.writer);
                }), t90.setCustomProperty("addHighlight", (e152, t91, i57)=>o13.add(t91, i57)
                , e151), t90.setCustomProperty("removeHighlight", (e152, t91, i57)=>o13.remove(t91, i57)
                , e151);
            }
            function jh(e151) {
                const t90 = e151.getCustomProperty("widgetLabel");
                return t90 ? "function" == typeof t90 ? t90() : t90 : "";
            }
            function Bh(e151, t90) {
                return t90.addClass([
                    "ck-editor__editable",
                    "ck-editor__nested-editable"
                ], e151), t90.setAttribute("contenteditable", e151.isReadOnly ? "false" : "true", e151), e151.on("change:isReadOnly", (i56, n29, o13)=>{
                    t90.setAttribute("contenteditable", o13 ? "false" : "true", e151);
                }), e151.on("change:isFocused", (i56, n29, o13)=>{
                    o13 ? t90.addClass("ck-editor__nested-editable_focused", e151) : t90.removeClass("ck-editor__nested-editable_focused", e151);
                }), e151;
            }
            function Fh(e151, t90) {
                const i56 = e151.getSelectedElement();
                if (i56) {
                    const n29 = qh(e151);
                    if (n29) return t90.createRange(t90.createPositionAt(i56, n29));
                    if (t90.schema.isObject(i56) && !t90.schema.isInline(i56)) return t90.createRangeOn(i56);
                }
                const n29 = e151.getSelectedBlocks().next().value;
                if (n29) {
                    if (n29.isEmpty) return t90.createRange(t90.createPositionAt(n29, 0));
                    const i57 = t90.createPositionAfter(n29);
                    return e151.focus.isTouching(i57) ? t90.createRange(i57) : t90.createRange(t90.createPositionBefore(n29));
                }
                return t90.createRange(e151.focus);
            }
            function Hh(e151, t90) {
                const i56 = new Ts(vr.window), n29 = i56.getIntersection(e151), o13 = t90.height + Vd.arrowVerticalOffset;
                if (e151.top - o13 > i56.top || e151.bottom + o13 < i56.bottom) return null;
                const r8 = n29 || e151, s7 = r8.left + r8.width / 2 - t90.width / 2;
                return {
                    top: Math.max(e151.top, 0) + Vd.arrowVerticalOffset,
                    left: s7,
                    name: "arrow_n"
                };
            }
            function Uh() {
                return null;
            }
            function Wh(e151, t90, i56) {
                return e151 && Oh(e151) && !i56.isInline(t90);
            }
            function qh(e151) {
                return e151.getAttribute("widget-type-around");
            }
            const $h = [
                Oo("arrowUp"),
                Oo("arrowRight"),
                Oo("arrowDown"),
                Oo("arrowLeft"),
                9,
                16,
                17,
                18,
                19,
                20,
                27,
                33,
                34,
                35,
                36,
                45,
                91,
                93,
                144,
                145,
                173,
                174,
                175,
                176,
                177,
                178,
                179,
                255
            ];
            for(let e151 = 112; e151 <= 135; e151++)$h.push(e151);
            function Yh(e152) {
                return !(!e152.ctrlKey && !e152.metaKey) || $h.includes(e152.keyCode);
            }
            i2(63);
            const Gh = [
                "before",
                "after"
            ], Kh = (new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>', "image/svg+xml").firstChild;
            class Qh extends Qe {
                static get pluginName() {
                    return "WidgetTypeAround";
                }
                static get requires() {
                    return [
                        Ch,
                        Sh
                    ];
                }
                constructor(e152){
                    super(e152), this._currentFakeCaretModelElement = null;
                }
                init() {
                    const e153 = this.editor, t90 = e153.editing.view;
                    this.on("change:isEnabled", (i56, n29, o13)=>{
                        t90.change((e154)=>{
                            for (const i57 of t90.document.roots)o13 ? e154.removeClass("ck-widget__type-around_disabled", i57) : e154.addClass("ck-widget__type-around_disabled", i57);
                        }), o13 || e153.model.change((e154)=>{
                            e154.removeSelectionAttribute("widget-type-around");
                        });
                    }), this._enableTypeAroundUIInjection(), this._enableInsertingParagraphsOnButtonClick(), this._enableInsertingParagraphsOnEnterKeypress(), this._enableInsertingParagraphsOnTypingKeystroke(), this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(), this._enableDeleteIntegration(), this._enableInsertContentIntegration(), this._enableDeleteContentIntegration();
                }
                destroy() {
                    this._currentFakeCaretModelElement = null;
                }
                _insertParagraph(e, t) {
                    const i56 = this.editor, n29 = i56.editing.view;
                    i56.execute("insertParagraph", {
                        position: i56.model.createPositionAt(e, t)
                    }), n29.focus(), n29.scrollToTheSelection();
                }
                _listenToIfEnabled(e, t, i, n) {
                    this.listenTo(e, t, (...e153)=>{
                        this.isEnabled && i(...e153);
                    }, n);
                }
                _insertParagraphAccordingToFakeCaretPosition() {
                    const e153 = this.editor.model.document.selection, t90 = qh(e153);
                    if (!t90) return !1;
                    const i56 = e153.getSelectedElement();
                    return this._insertParagraph(i56, t90), !0;
                }
                _enableTypeAroundUIInjection() {
                    const e153 = this.editor, t90 = e153.model.schema, i56 = e153.locale.t, n29 = {
                        before: i56("Insert paragraph before block"),
                        after: i56("Insert paragraph after block")
                    };
                    e153.editing.downcastDispatcher.on("insert", (e154, i57, o13)=>{
                        const r8 = o13.mapper.toViewElement(i57.item);
                        Wh(r8, i57.item, t90) && (function(e155, t91, i58) {
                            const n30 = e155.createUIElement("div", {
                                class: "ck ck-reset_all ck-widget__type-around"
                            }, function(e156) {
                                const i59 = this.toDomElement(e156);
                                return (function(e157, t92) {
                                    for (const i60 of Gh){
                                        const n31 = new Nl({
                                            tag: "div",
                                            attributes: {
                                                class: [
                                                    "ck",
                                                    "ck-widget__type-around__button",
                                                    "ck-widget__type-around__button_" + i60
                                                ],
                                                title: t92[i60]
                                            },
                                            children: [
                                                e157.ownerDocument.importNode(Kh, !0)
                                            ]
                                        });
                                        e157.appendChild(n31.render());
                                    }
                                })(i59, t91), (function(e157) {
                                    const t92 = new Nl({
                                        tag: "div",
                                        attributes: {
                                            class: [
                                                "ck",
                                                "ck-widget__type-around__fake-caret"
                                            ]
                                        }
                                    });
                                    e157.appendChild(t92.render());
                                })(i59), i59;
                            });
                            e155.insert(e155.createPositionAt(i58, "end"), n30);
                        })(o13.writer, n29, r8);
                    }, {
                        priority: "low"
                    });
                }
                _enableTypeAroundFakeCaretActivationUsingKeyboardArrows() {
                    const e153 = this.editor, t90 = e153.model, i56 = t90.document.selection, n29 = t90.schema, o13 = e153.editing.view;
                    function r8(e154) {
                        return "ck-widget_type-around_show-fake-caret_" + e154;
                    }
                    this._listenToIfEnabled(o13.document, "arrowKey", (e154, t91)=>{
                        this._handleArrowKeyPress(e154, t91);
                    }, {
                        context: [
                            Oh,
                            "$text"
                        ],
                        priority: "high"
                    }), this._listenToIfEnabled(i56, "change:range", (t91, i57)=>{
                        i57.directChange && e153.model.change((e154)=>{
                            e154.removeSelectionAttribute("widget-type-around");
                        });
                    }), this._listenToIfEnabled(t90.document, "change:data", ()=>{
                        const t91 = i56.getSelectedElement();
                        if (t91) {
                            if (Wh(e153.editing.mapper.toViewElement(t91), t91, n29)) return;
                        }
                        e153.model.change((e154)=>{
                            e154.removeSelectionAttribute("widget-type-around");
                        });
                    }), this._listenToIfEnabled(e153.editing.downcastDispatcher, "selection", (e154, t91, i57)=>{
                        const o14 = i57.writer;
                        if (this._currentFakeCaretModelElement) {
                            const e155 = i57.mapper.toViewElement(this._currentFakeCaretModelElement);
                            e155 && (o14.removeClass(Gh.map(r8), e155), this._currentFakeCaretModelElement = null);
                        }
                        const s7 = t91.selection.getSelectedElement();
                        if (!s7) return;
                        const a4 = i57.mapper.toViewElement(s7);
                        if (!Wh(a4, s7, n29)) return;
                        const c7 = qh(t91.selection);
                        c7 && (o14.addClass(r8(c7), a4), this._currentFakeCaretModelElement = s7);
                    }), this._listenToIfEnabled(e153.ui.focusTracker, "change:isFocused", (t91, i57, n30)=>{
                        n30 || e153.model.change((e154)=>{
                            e154.removeSelectionAttribute("widget-type-around");
                        });
                    });
                }
                _handleArrowKeyPress(e, t) {
                    const i56 = this.editor, n29 = i56.model, o13 = n29.document.selection, r8 = n29.schema, s7 = i56.editing.view, a4 = Vo(t.keyCode, i56.locale.contentLanguageDirection), c7 = s7.document.selection.getSelectedElement();
                    let l4;
                    Wh(c7, i56.editing.mapper.toModelElement(c7), r8) ? l4 = this._handleArrowKeyPressOnSelectedWidget(a4) : o13.isCollapsed && (l4 = this._handleArrowKeyPressWhenSelectionNextToAWidget(a4)), l4 && (t.preventDefault(), e.stop());
                }
                _handleArrowKeyPressOnSelectedWidget(e) {
                    const t90 = this.editor.model, i56 = qh(t90.document.selection);
                    return t90.change((t91)=>{
                        if (!i56) return t91.setSelectionAttribute("widget-type-around", e ? "after" : "before"), !0;
                        if (!(i56 === (e ? "after" : "before"))) return t91.removeSelectionAttribute("widget-type-around"), !0;
                        return !1;
                    });
                }
                _handleArrowKeyPressWhenSelectionNextToAWidget(e) {
                    const t90 = this.editor, i56 = t90.model, n29 = i56.schema, o13 = t90.plugins.get("Widget"), r8 = o13._getObjectElementNextToSelection(e);
                    return !!Wh(t90.editing.mapper.toViewElement(r8), r8, n29) && (i56.change((t91)=>{
                        o13._setSelectionOverElement(r8), t91.setSelectionAttribute("widget-type-around", e ? "before" : "after");
                    }), !0);
                }
                _enableInsertingParagraphsOnButtonClick() {
                    const e153 = this.editor, t90 = e153.editing.view;
                    this._listenToIfEnabled(t90.document, "mousedown", (i56, n29)=>{
                        const o13 = n29.domTarget.closest(".ck-widget__type-around__button");
                        if (!o13) return;
                        const r8 = function(e154) {
                            return e154.classList.contains("ck-widget__type-around__button_before") ? "before" : "after";
                        }(o13), s7 = function(e154, t91) {
                            const i57 = e154.closest(".ck-widget");
                            return t91.mapDomToView(i57);
                        }(o13, t90.domConverter), a4 = e153.editing.mapper.toModelElement(s7);
                        this._insertParagraph(a4, r8), n29.preventDefault(), i56.stop();
                    });
                }
                _enableInsertingParagraphsOnEnterKeypress() {
                    const e153 = this.editor, t90 = e153.model.document.selection, i56 = e153.editing.view;
                    this._listenToIfEnabled(i56.document, "enter", (i57, n29)=>{
                        if ("atTarget" != i57.eventPhase) return;
                        const o13 = t90.getSelectedElement(), r8 = e153.editing.mapper.toViewElement(o13), s7 = e153.model.schema;
                        let a4;
                        this._insertParagraphAccordingToFakeCaretPosition() ? a4 = !0 : Wh(r8, o13, s7) && (this._insertParagraph(o13, n29.isSoft ? "before" : "after"), a4 = !0), a4 && (n29.preventDefault(), i57.stop());
                    }, {
                        context: Oh
                    });
                }
                _enableInsertingParagraphsOnTypingKeystroke() {
                    const e153 = this.editor.editing.view, t90 = [
                        No.enter,
                        No.delete,
                        No.backspace
                    ];
                    this._listenToIfEnabled(e153.document, "keydown", (e154, i56)=>{
                        t90.includes(i56.keyCode) || Yh(i56) || this._insertParagraphAccordingToFakeCaretPosition();
                    }, {
                        priority: "high"
                    });
                }
                _enableDeleteIntegration() {
                    const e153 = this.editor, t90 = e153.editing.view, i56 = e153.model, n29 = i56.schema;
                    this._listenToIfEnabled(t90.document, "delete", (t91, o13)=>{
                        if ("atTarget" != t91.eventPhase) return;
                        const r8 = qh(i56.document.selection);
                        if (!r8) return;
                        const s7 = o13.direction, a4 = i56.document.selection.getSelectedElement(), c7 = "forward" == s7;
                        if ("before" === r8 === c7) e153.execute("delete", {
                            selection: i56.createSelection(a4, "on")
                        });
                        else {
                            const t92 = n29.getNearestSelectionRange(i56.createPositionAt(a4, r8), s7);
                            if (t92) {
                                if (t92.isCollapsed) {
                                    const o14 = i56.createSelection(t92.start);
                                    if (i56.modifySelection(o14, {
                                        direction: s7
                                    }), o14.focus.isEqual(t92.start)) {
                                        const e154 = function(e155, t93) {
                                            let i57 = t93;
                                            for (const n30 of t93.getAncestors({
                                                parentFirst: !0
                                            })){
                                                if (n30.childCount > 1 || e155.isLimit(n30)) break;
                                                i57 = n30;
                                            }
                                            return i57;
                                        }(n29, t92.start.parent);
                                        i56.deleteContent(i56.createSelection(e154, "on"), {
                                            doNotAutoparagraph: !0
                                        });
                                    } else i56.change((i57)=>{
                                        i57.setSelection(t92), e153.execute(c7 ? "deleteForward" : "delete");
                                    });
                                } else i56.change((i57)=>{
                                    i57.setSelection(t92), e153.execute(c7 ? "deleteForward" : "delete");
                                });
                            }
                        }
                        o13.preventDefault(), t91.stop();
                    }, {
                        context: Oh
                    });
                }
                _enableInsertContentIntegration() {
                    const e153 = this.editor, t90 = this.editor.model, i56 = t90.document.selection;
                    this._listenToIfEnabled(e153.model, "insertContent", (e154, [n29, o13])=>{
                        if (o13 && !o13.is("documentSelection")) return;
                        const r8 = qh(i56);
                        return r8 ? (e154.stop(), t90.change((e155)=>{
                            const o14 = i56.getSelectedElement(), s7 = t90.createPositionAt(o14, r8), a4 = e155.createSelection(s7), c7 = t90.insertContent(n29, a4);
                            return e155.setSelection(a4), c7;
                        })) : void 0;
                    }, {
                        priority: "high"
                    });
                }
                _enableDeleteContentIntegration() {
                    const e153 = this.editor, t90 = this.editor.model.document.selection;
                    this._listenToIfEnabled(e153.model, "deleteContent", (e154, [i56])=>{
                        if (i56 && !i56.is("documentSelection")) return;
                        qh(t90) && e154.stop();
                    }, {
                        priority: "high"
                    });
                }
            }
            i2(65);
            function Jh(e153) {
                const t90 = e153.model;
                return (i56, n29)=>{
                    const o13 = n29.keyCode == No.arrowup, r8 = n29.keyCode == No.arrowdown, s7 = n29.shiftKey, a4 = t90.document.selection;
                    if (!o13 && !r8) return;
                    const c7 = r8;
                    if (s7 && (function(e154, t91) {
                        return !e154.isCollapsed && e154.isBackward == t91;
                    })(a4, c7)) return;
                    const l4 = function(e154, t91, i57) {
                        const n30 = e154.model;
                        if (i57) {
                            const e155 = t91.isCollapsed ? t91.focus : t91.getLastPosition(), i58 = Zh(n30, e155, "forward");
                            if (!i58) return null;
                            const o14 = n30.createRange(e155, i58), r9 = Xh(n30.schema, o14, "backward");
                            return r9 && e155.isBefore(r9) ? n30.createRange(e155, r9) : null;
                        }
                        {
                            const e155 = t91.isCollapsed ? t91.focus : t91.getFirstPosition(), i58 = Zh(n30, e155, "backward");
                            if (!i58) return null;
                            const o14 = n30.createRange(i58, e155), r9 = Xh(n30.schema, o14, "forward");
                            return r9 && e155.isAfter(r9) ? n30.createRange(r9, e155) : null;
                        }
                    }(e153, a4, c7);
                    l4 && !l4.isCollapsed && (function(e154, t91, i57) {
                        const n30 = e154.model, o14 = e154.view.domConverter;
                        if (i57) {
                            const e155 = n30.createSelection(t91.start);
                            n30.modifySelection(e155), e155.focus.isAtEnd || t91.start.isEqual(e155.focus) || (t91 = n30.createRange(e155.focus, t91.end));
                        }
                        const r9 = e154.mapper.toViewRange(t91), s8 = o14.viewRangeToDom(r9), a5 = Ts.getDomRangeRects(s8);
                        let c8;
                        for (const e155 of a5)if ((void 0) !== c8) {
                            if (Math.round(e155.top) >= c8) return !1;
                            c8 = Math.max(c8, Math.round(e155.bottom));
                        } else c8 = Math.round(e155.bottom);
                        return !0;
                    })(e153, l4, c7) && (t90.change((e154)=>{
                        const i57 = c7 ? l4.end : l4.start;
                        if (s7) {
                            const n30 = t90.createSelection(a4.anchor);
                            n30.setFocus(i57), e154.setSelection(n30);
                        } else e154.setSelection(i57);
                    }), i56.stop(), n29.preventDefault(), n29.stopPropagation());
                };
            }
            function Zh(e153, t90, i56) {
                const n29 = e153.schema, o13 = e153.createRangeIn(t90.root), r8 = "forward" == i56 ? "elementStart" : "elementEnd";
                for (const { previousPosition: e154 , item: s7 , type: a4  } of o13.getWalker({
                    startPosition: t90,
                    direction: i56
                })){
                    if (n29.isLimit(s7) && !n29.isInline(s7)) return e154;
                    if (a4 == r8 && n29.isBlock(s7)) return null;
                }
                return null;
            }
            function Xh(e153, t90, i56) {
                const n29 = "backward" == i56 ? t90.end : t90.start;
                if (e153.checkChild(n29, "$text")) return n29;
                for (const { nextPosition: n30  } of t90.getWalker({
                    direction: i56
                }))if (e153.checkChild(n30, "$text")) return n30;
            }
            class eu extends Qe {
                static get pluginName() {
                    return "Widget";
                }
                static get requires() {
                    return [
                        Qh,
                        Sh
                    ];
                }
                init() {
                    const e153 = this.editor, t90 = e153.editing.view, i56 = t90.document;
                    this._previouslySelected = new Set, this.editor.editing.downcastDispatcher.on("selection", (t91, i57, n29)=>{
                        const o13 = n29.writer, r8 = i57.selection;
                        if (r8.isCollapsed) return;
                        const s7 = r8.getSelectedElement();
                        if (!s7) return;
                        const a4 = e153.editing.mapper.toViewElement(s7);
                        Oh(a4) && n29.consumable.consume(r8, "selection") && o13.setSelection(o13.createRangeOn(a4), {
                            fake: !0,
                            label: jh(a4)
                        });
                    }), this.editor.editing.downcastDispatcher.on("selection", (e154, t91, i57)=>{
                        this._clearPreviouslySelectedWidgets(i57.writer);
                        const n29 = i57.writer, o13 = n29.document.selection;
                        let r8 = null;
                        for (const e155 of o13.getRanges())for (const t92 of e155){
                            const e156 = t92.item;
                            Oh(e156) && !tu(e156, r8) && (n29.addClass("ck-widget_selected", e156), this._previouslySelected.add(e156), r8 = e156);
                        }
                    }, {
                        priority: "low"
                    }), t90.addObserver(uh), this.listenTo(i56, "mousedown", (...e154)=>this._onMousedown(...e154)
                    ), this.listenTo(i56, "arrowKey", (...e154)=>{
                        this._handleSelectionChangeOnArrowKeyPress(...e154);
                    }, {
                        context: [
                            Oh,
                            "$text"
                        ]
                    }), this.listenTo(i56, "arrowKey", (...e154)=>{
                        this._preventDefaultOnArrowKeyPress(...e154);
                    }, {
                        context: "$root"
                    }), this.listenTo(i56, "arrowKey", Jh(this.editor.editing), {
                        context: "$text"
                    }), this.listenTo(i56, "delete", (e154, t91)=>{
                        this._handleDelete("forward" == t91.direction) && (t91.preventDefault(), e154.stop());
                    }, {
                        context: "$root"
                    });
                }
                _onMousedown(e, t) {
                    const i56 = this.editor, n29 = i56.editing.view, o13 = n29.document;
                    let r8 = t.target;
                    if ((function(e153) {
                        for(; e153;){
                            if (e153.is("editableElement") && !e153.is("rootElement")) return !0;
                            if (Oh(e153)) return !1;
                            e153 = e153.parent;
                        }
                        return !1;
                    })(r8)) {
                        if ((So.isSafari || So.isGecko) && t.domEvent.detail >= 3) {
                            const e153 = i56.editing.mapper, n30 = r8.is("attributeElement") ? r8.findAncestor((e154)=>!e154.is("attributeElement")
                            ) : r8, o14 = e153.toModelElement(n30);
                            t.preventDefault(), this.editor.model.change((e154)=>{
                                e154.setSelection(o14, "in");
                            });
                        }
                        return;
                    }
                    if (!Oh(r8) && (r8 = r8.findAncestor(Oh), !r8)) return;
                    So.isAndroid && t.preventDefault(), o13.isFocused || n29.focus();
                    const s7 = i56.editing.mapper.toModelElement(r8);
                    this._setSelectionOverElement(s7);
                }
                _handleSelectionChangeOnArrowKeyPress(e, t) {
                    const i56 = t.keyCode, n29 = this.editor.model, o13 = n29.schema, r8 = n29.document.selection, s7 = r8.getSelectedElement(), a4 = Vo(i56, this.editor.locale.contentLanguageDirection);
                    if (s7 && o13.isObject(s7)) {
                        const i57 = a4 ? r8.getLastPosition() : r8.getFirstPosition(), s8 = o13.getNearestSelectionRange(i57, a4 ? "forward" : "backward");
                        return void (s8 && (n29.change((e153)=>{
                            e153.setSelection(s8);
                        }), t.preventDefault(), e.stop()));
                    }
                    if (!r8.isCollapsed) return;
                    const c7 = this._getObjectElementNextToSelection(a4);
                    c7 && o13.isObject(c7) && (this._setSelectionOverElement(c7), t.preventDefault(), e.stop());
                }
                _preventDefaultOnArrowKeyPress(e, t) {
                    const i56 = this.editor.model, n29 = i56.schema, o13 = i56.document.selection.getSelectedElement();
                    o13 && n29.isObject(o13) && (t.preventDefault(), e.stop());
                }
                _handleDelete(e) {
                    if (this.editor.isReadOnly) return;
                    const t90 = this.editor.model.document.selection;
                    if (!t90.isCollapsed) return;
                    const i56 = this._getObjectElementNextToSelection(e);
                    return i56 ? (this.editor.model.change((e153)=>{
                        let n29 = t90.anchor.parent;
                        for(; n29.isEmpty;){
                            const t91 = n29;
                            n29 = t91.parent, e153.remove(t91);
                        }
                        this._setSelectionOverElement(i56);
                    }), !0) : void 0;
                }
                _setSelectionOverElement(e) {
                    this.editor.model.change((t90)=>{
                        t90.setSelection(t90.createRangeOn(e));
                    });
                }
                _getObjectElementNextToSelection(e) {
                    const t90 = this.editor.model, i56 = t90.schema, n29 = t90.document.selection, o13 = t90.createSelection(n29);
                    t90.modifySelection(o13, {
                        direction: e ? "forward" : "backward"
                    });
                    const r8 = e ? o13.focus.nodeBefore : o13.focus.nodeAfter;
                    return r8 && i56.isObject(r8) ? r8 : null;
                }
                _clearPreviouslySelectedWidgets(e) {
                    for (const t90 of this._previouslySelected)e.removeClass("ck-widget_selected", t90);
                    this._previouslySelected.clear();
                }
            }
            function tu(e153, t90) {
                return !!t90 && Array.from(e153.getAncestors()).includes(t90);
            }
            var iu = function(e153, t90, i56) {
                var n29 = !0, o13 = !0;
                if ("function" != typeof e153) throw new TypeError("Expected a function");
                return w(i56) && (n29 = "leading" in i56 ? !!i56.leading : n29, o13 = "trailing" in i56 ? !!i56.trailing : o13), fs(e153, t90, {
                    leading: n29,
                    maxWait: t90,
                    trailing: o13
                });
            };
            i2(67);
            class nu extends Qe {
                static get pluginName() {
                    return "DragDrop";
                }
                static get requires() {
                    return [
                        _h,
                        eu
                    ];
                }
                init() {
                    const e153 = this.editor, t90 = e153.editing.view;
                    this._draggedRange = null, this._draggingUid = "", this._draggableElement = null, this._updateDropMarkerThrottled = iu((e154)=>this._updateDropMarker(e154)
                    , 40), this._removeDropMarkerDelayed = su(()=>this._removeDropMarker()
                    , 40), this._clearDraggableAttributesDelayed = su(()=>this._clearDraggableAttributes()
                    , 40), t90.addObserver(wh), t90.addObserver(uh), this._setupDragging(), this._setupContentInsertionIntegration(), this._setupClipboardInputIntegration(), this._setupDropMarker(), this._setupDraggableAttributeHandling(), this.listenTo(e153, "change:isReadOnly", (e154, t91, i56)=>{
                        i56 ? this.forceDisabled("readOnlyMode") : this.clearForceDisabled("readOnlyMode");
                    }), this.on("change:isEnabled", (e154, t91, i56)=>{
                        i56 || this._finalizeDragging(!1);
                    }), So.isAndroid && this.forceDisabled("noAndroidSupport");
                }
                destroy() {
                    return this._draggedRange && (this._draggedRange.detach(), this._draggedRange = null), this._updateDropMarkerThrottled.cancel(), this._removeDropMarkerDelayed.cancel(), this._clearDraggableAttributesDelayed.cancel(), super.destroy();
                }
                _setupDragging() {
                    const e153 = this.editor, t90 = e153.model, i56 = t90.document, n29 = e153.editing.view, o13 = n29.document;
                    this.listenTo(o13, "dragstart", (n30, r8)=>{
                        const a4 = i56.selection;
                        if (r8.target && r8.target.is("editableElement")) return void r8.preventDefault();
                        const c7 = r8.target ? au(r8.target) : null;
                        if (c7) {
                            const i57 = e153.editing.mapper.toModelElement(c7);
                            this._draggedRange = ba.fromRange(t90.createRangeOn(i57)), e153.plugins.has("WidgetToolbarRepository") && e153.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");
                        } else if (!o13.selection.isCollapsed) {
                            const e154 = o13.selection.getSelectedElement();
                            e154 && Oh(e154) || (this._draggedRange = ba.fromRange(a4.getFirstRange()));
                        }
                        if (!this._draggedRange) return void r8.preventDefault();
                        this._draggingUid = s3(), r8.dataTransfer.effectAllowed = this.isEnabled ? "copyMove" : "copy", r8.dataTransfer.setData("application/ckeditor5-dragging-uid", this._draggingUid);
                        const l4 = t90.createSelection(this._draggedRange.toRange()), d6 = e153.data.toView(t90.getSelectedContent(l4));
                        o13.fire("clipboardOutput", {
                            dataTransfer: r8.dataTransfer,
                            content: d6,
                            method: n30.name
                        }), this.isEnabled || (this._draggedRange.detach(), this._draggedRange = null, this._draggingUid = "");
                    }, {
                        priority: "low"
                    }), this.listenTo(o13, "dragend", (e154, t91)=>{
                        this._finalizeDragging(!t91.dataTransfer.isCanceled && "move" == t91.dataTransfer.dropEffect);
                    }, {
                        priority: "low"
                    }), this.listenTo(o13, "dragenter", ()=>{
                        this.isEnabled && n29.focus();
                    }), this.listenTo(o13, "dragleave", ()=>{
                        this._removeDropMarkerDelayed();
                    }), this.listenTo(o13, "dragging", (t91, i57)=>{
                        if (!this.isEnabled) return void (i57.dataTransfer.dropEffect = "none");
                        this._removeDropMarkerDelayed.cancel();
                        const n30 = ou(e153, i57.targetRanges, i57.target);
                        this._draggedRange || (i57.dataTransfer.dropEffect = "copy"), So.isGecko || ("copy" == i57.dataTransfer.effectAllowed ? i57.dataTransfer.dropEffect = "copy" : [
                            "all",
                            "copyMove"
                        ].includes(i57.dataTransfer.effectAllowed) && (i57.dataTransfer.dropEffect = "move")), n30 && this._updateDropMarkerThrottled(n30);
                    }, {
                        priority: "low"
                    });
                }
                _setupClipboardInputIntegration() {
                    const e153 = this.editor, t90 = e153.editing.view.document;
                    this.listenTo(t90, "clipboardInput", (t91, i56)=>{
                        if ("drop" != i56.method) return;
                        const n29 = ou(e153, i56.targetRanges, i56.target);
                        if (this._removeDropMarker(), !n29) return this._finalizeDragging(!1), void t91.stop();
                        this._draggedRange && this._draggingUid != i56.dataTransfer.getData("application/ckeditor5-dragging-uid") && (this._draggedRange.detach(), this._draggedRange = null, this._draggingUid = "");
                        if ("move" == ru(i56.dataTransfer) && this._draggedRange && this._draggedRange.containsRange(n29, !0)) return this._finalizeDragging(!1), void t91.stop();
                        i56.targetRanges = [
                            e153.editing.mapper.toViewRange(n29)
                        ];
                    }, {
                        priority: "high"
                    });
                }
                _setupContentInsertionIntegration() {
                    const e153 = this.editor.plugins.get(_h);
                    e153.on("contentInsertion", (e154, t90)=>{
                        if (!this.isEnabled || "drop" !== t90.method) return;
                        const i56 = t90.targetRanges.map((e155)=>this.editor.editing.mapper.toModelRange(e155)
                        );
                        this.editor.model.change((e155)=>e155.setSelection(i56)
                        );
                    }, {
                        priority: "high"
                    }), e153.on("contentInsertion", (e154, t90)=>{
                        if (!this.isEnabled || "drop" !== t90.method) return;
                        const i56 = "move" == ru(t90.dataTransfer), n29 = !t90.resultRange || !t90.resultRange.isCollapsed;
                        this._finalizeDragging(n29 && i56);
                    }, {
                        priority: "lowest"
                    });
                }
                _setupDraggableAttributeHandling() {
                    const e153 = this.editor, t90 = e153.editing.view, i56 = t90.document;
                    this.listenTo(i56, "mousedown", (n29, o13)=>{
                        if (So.isAndroid || !o13) return;
                        this._clearDraggableAttributesDelayed.cancel();
                        let r8 = au(o13.target);
                        if (So.isBlink && !e153.isReadOnly && !r8 && !i56.selection.isCollapsed) {
                            const e154 = i56.selection.getSelectedElement();
                            e154 && Oh(e154) || (r8 = i56.selection.editableElement);
                        }
                        r8 && (t90.change((e154)=>{
                            e154.setAttribute("draggable", "true", r8);
                        }), this._draggableElement = e153.editing.mapper.toModelElement(r8));
                    }), this.listenTo(i56, "mouseup", ()=>{
                        So.isAndroid || this._clearDraggableAttributesDelayed();
                    });
                }
                _clearDraggableAttributes() {
                    const e153 = this.editor.editing;
                    e153.view.change((t90)=>{
                        this._draggableElement && "$graveyard" != this._draggableElement.root.rootName && t90.removeAttribute("draggable", e153.mapper.toViewElement(this._draggableElement)), this._draggableElement = null;
                    });
                }
                _setupDropMarker() {
                    const e153 = this.editor;
                    e153.conversion.for("editingDowncast").markerToHighlight({
                        model: "drop-target",
                        view: {
                            classes: [
                                "ck-clipboard-drop-target-range"
                            ]
                        }
                    }), e153.conversion.for("editingDowncast").markerToElement({
                        model: "drop-target",
                        view: (t90, { writer: i56  })=>{
                            if (e153.model.schema.checkChild(t90.markerRange.start, "$text")) return i56.createUIElement("span", {
                                class: "ck ck-clipboard-drop-target-position"
                            }, function(e154) {
                                const t91 = this.toDomElement(e154);
                                return t91.innerHTML = "&NoBreak;<span></span>&NoBreak;", t91;
                            });
                        }
                    });
                }
                _updateDropMarker(e) {
                    const t90 = this.editor, i56 = t90.model.markers;
                    t90.model.change((t91)=>{
                        i56.has("drop-target") ? i56.get("drop-target").getRange().isEqual(e) || t91.updateMarker("drop-target", {
                            range: e
                        }) : t91.addMarker("drop-target", {
                            range: e,
                            usingOperation: !1,
                            affectsData: !1
                        });
                    });
                }
                _removeDropMarker() {
                    const e153 = this.editor.model;
                    this._removeDropMarkerDelayed.cancel(), this._updateDropMarkerThrottled.cancel(), e153.markers.has("drop-target") && e153.change((e154)=>{
                        e154.removeMarker("drop-target");
                    });
                }
                _finalizeDragging(e) {
                    const t90 = this.editor, i56 = t90.model;
                    this._removeDropMarker(), this._clearDraggableAttributes(), t90.plugins.has("WidgetToolbarRepository") && t90.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"), this._draggingUid = "", this._draggedRange && (e && this.isEnabled && i56.deleteContent(i56.createSelection(this._draggedRange), {
                        doNotAutoparagraph: !0
                    }), this._draggedRange.detach(), this._draggedRange = null);
                }
            }
            function ou(e153, t90, i56) {
                const n29 = e153.model, o13 = e153.editing.mapper;
                let r8 = null;
                const s7 = t90 ? t90[0].start : null;
                if (i56.is("uiElement") && (i56 = i56.parent), r8 = (function(e154, t91) {
                    const i57 = e154.model, n30 = e154.editing.mapper;
                    if (Oh(t91)) return i57.createRangeOn(n30.toModelElement(t91));
                    if (!t91.is("editableElement")) {
                        const e155 = t91.findAncestor((e156)=>Oh(e156) || e156.is("editableElement")
                        );
                        if (Oh(e155)) return i57.createRangeOn(n30.toModelElement(e155));
                    }
                    return null;
                })(e153, i56), r8) return r8;
                const a4 = function(e154, t91) {
                    const i57 = e154.editing.mapper, n30 = e154.editing.view, o14 = i57.toModelElement(t91);
                    if (o14) return o14;
                    const r9 = n30.createPositionBefore(t91), s8 = i57.findMappedViewAncestor(r9);
                    return i57.toModelElement(s8);
                }(e153, i56), c7 = s7 ? o13.toModelPosition(s7) : null;
                return c7 ? (r8 = (function(e154, t91, i57) {
                    const n30 = e154.model;
                    if (!n30.schema.checkChild(i57, "$block")) return null;
                    const o14 = n30.createPositionAt(i57, 0), r9 = t91.path.slice(0, o14.path.length), s8 = n30.createPositionFromPath(t91.root, r9).nodeAfter;
                    if (s8 && n30.schema.isObject(s8)) return n30.createRangeOn(s8);
                    return null;
                })(e153, c7, a4), r8 || (r8 = n29.schema.getNearestSelectionRange(c7, So.isGecko ? "forward" : "backward"), r8 || (function(e154, t91) {
                    const i57 = e154.model;
                    for(; t91;){
                        if (i57.schema.isObject(t91)) return i57.createRangeOn(t91);
                        t91 = t91.parent;
                    }
                })(e153, c7.parent))) : (function(e154, t91) {
                    const i57 = e154.model, n30 = i57.schema, o14 = i57.createPositionAt(t91, 0);
                    return n30.getNearestSelectionRange(o14, "forward");
                })(e153, a4);
            }
            function ru(e153) {
                return So.isGecko ? e153.dropEffect : [
                    "all",
                    "copyMove"
                ].includes(e153.effectAllowed) ? "move" : "copy";
            }
            function su(e153, t90) {
                let i56;
                function n29(...o13) {
                    n29.cancel(), i56 = setTimeout(()=>e153(...o13)
                    , t90);
                }
                return n29.cancel = ()=>{
                    clearTimeout(i56);
                }, n29;
            }
            function au(e153) {
                if (e153.is("editableElement")) return null;
                if (e153.hasClass("ck-widget__selection-handle")) return e153.findAncestor(Oh);
                if (Oh(e153)) return e153;
                const t90 = e153.findAncestor((e154)=>Oh(e154) || e154.is("editableElement")
                );
                return Oh(t90) ? t90 : null;
            }
            class cu extends Qe {
                static get pluginName() {
                    return "PastePlainText";
                }
                static get requires() {
                    return [
                        _h
                    ];
                }
                init() {
                    const e153 = this.editor, t90 = e153.model, i56 = e153.editing.view, n29 = i56.document, o13 = t90.document.selection;
                    let r8 = !1;
                    i56.addObserver(wh), this.listenTo(n29, "keydown", (e154, t91)=>{
                        r8 = t91.shiftKey;
                    }), e153.plugins.get(_h).on("contentInsertion", (e154, i57)=>{
                        (r8 || (function(e155, t91) {
                            if (e155.childCount > 1) return !1;
                            const i58 = e155.getChild(0);
                            if (t91.isObject(i58)) return !1;
                            return 0 == [
                                ...i58.getAttributeKeys()
                            ].length;
                        })(i57.content, t90.schema)) && t90.change((e155)=>{
                            const n30 = Array.from(o13.getAttributes()).filter(([e156])=>t90.schema.getAttributeProperties(e156).isFormatting
                            );
                            o13.isCollapsed || t90.deleteContent(o13, {
                                doNotAutoparagraph: !0
                            }), n30.push(...o13.getAttributes());
                            const r9 = e155.createRangeIn(i57.content);
                            for (const t91 of r9.getItems())t91.is("$textProxy") && e155.setAttributes(n30, t91);
                        });
                    });
                }
            }
            class lu extends Qe {
                static get pluginName() {
                    return "Clipboard";
                }
                static get requires() {
                    return [
                        _h,
                        nu,
                        cu
                    ];
                }
            }
            class du extends Ze {
                execute() {
                    const e153 = this.editor.model, t90 = e153.document;
                    e153.change((i56)=>{
                        !function(e154, t91, i57) {
                            const n29 = i57.isCollapsed, o13 = i57.getFirstRange(), r8 = o13.start.parent, s7 = o13.end.parent, a4 = r8 == s7;
                            if (n29) {
                                const n30 = vh(e154.schema, i57.getAttributes());
                                hu(e154, t91, o13.end), t91.removeSelectionAttribute(i57.getAttributeKeys()), t91.setSelectionAttribute(n30);
                            } else {
                                const n30 = !(o13.start.isAtStart && o13.end.isAtEnd);
                                e154.deleteContent(i57, {
                                    leaveUnmerged: n30
                                }), a4 ? hu(e154, t91, i57.focus) : n30 && t91.setSelection(s7, 0);
                            }
                        }(e153, i56, t90.selection), this.fire("afterExecute", {
                            writer: i56
                        });
                    });
                }
                refresh() {
                    const e153 = this.editor.model, t90 = e153.document;
                    this.isEnabled = (function(e154, t91) {
                        if (t91.rangeCount > 1) return !1;
                        const i56 = t91.anchor;
                        if (!i56 || !e154.checkChild(i56, "softBreak")) return !1;
                        const n29 = t91.getFirstRange(), o13 = n29.start.parent, r8 = n29.end.parent;
                        if ((uu(o13, e154) || uu(r8, e154)) && o13 !== r8) return !1;
                        return !0;
                    })(e153.schema, t90.selection);
                }
            }
            function hu(e153, t90, i56) {
                const n29 = t90.createElement("softBreak");
                e153.insertContent(n29, i56), t90.setSelection(n29, "after");
            }
            function uu(e153, t90) {
                return !e153.is("rootElement") && (t90.isLimit(e153) || uu(e153.parent, t90));
            }
            class gu extends Qe {
                static get pluginName() {
                    return "ShiftEnter";
                }
                init() {
                    const e153 = this.editor, t90 = e153.model.schema, i56 = e153.conversion, n29 = e153.editing.view, o13 = n29.document;
                    t90.register("softBreak", {
                        allowWhere: "$text",
                        isInline: !0
                    }), i56.for("upcast").elementToElement({
                        model: "softBreak",
                        view: "br"
                    }), i56.for("downcast").elementToElement({
                        model: "softBreak",
                        view: (e154, { writer: t91  })=>t91.createEmptyElement("br")
                    }), n29.addObserver(Ah), e153.commands.add("shiftEnter", new du(e153)), this.listenTo(o13, "enter", (t91, i57)=>{
                        i57.preventDefault(), i57.isSoft && (e153.execute("shiftEnter"), n29.scrollToTheSelection());
                    }, {
                        priority: "low"
                    });
                }
            }
            class mu extends Ze {
                execute() {
                    const e153 = this.editor.model, t90 = e153.document.selection;
                    let i56 = e153.schema.getLimitElement(t90);
                    if (t90.containsEntireContent(i56) || !fu(e153.schema, i56)) do {
                        if (i56 = i56.parent, !i56) return;
                    }while (!fu(e153.schema, i56))
                    e153.change((e154)=>{
                        e154.setSelection(i56, "in");
                    });
                }
            }
            function fu(e153, t90) {
                return e153.isLimit(t90) && (e153.checkChild(t90, "$text") || e153.checkChild(t90, "paragraph"));
            }
            const pu = zo("Ctrl+A");
            class bu extends Qe {
                static get pluginName() {
                    return "SelectAllEditing";
                }
                init() {
                    const e153 = this.editor, t90 = e153.editing.view.document;
                    e153.commands.add("selectAll", new mu(e153)), this.listenTo(t90, "keydown", (t91, i56)=>{
                        Oo(i56) === pu && (e153.execute("selectAll"), i56.preventDefault());
                    });
                }
            }
            class wu extends Qe {
                static get pluginName() {
                    return "SelectAllUI";
                }
                init() {
                    const e153 = this.editor;
                    e153.ui.componentFactory.add("selectAll", (t90)=>{
                        const i56 = e153.commands.get("selectAll"), n29 = new ed(t90), o13 = t90.t;
                        return n29.set({
                            label: o13("Select all"),
                            icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',
                            keystroke: "Ctrl+A",
                            tooltip: !0
                        }), n29.bind("isOn", "isEnabled").to(i56, "value", "isEnabled"), this.listenTo(n29, "execute", ()=>{
                            e153.execute("selectAll"), e153.editing.view.focus();
                        }), n29;
                    });
                }
            }
            class ku extends Qe {
                static get requires() {
                    return [
                        bu,
                        wu
                    ];
                }
                static get pluginName() {
                    return "SelectAll";
                }
            }
            class _u extends Ze {
                constructor(e153, t90){
                    super(e153), this._buffer = new Th(e153.model, t90), this._batches = new WeakSet;
                }
                get buffer() {
                    return this._buffer;
                }
                destroy() {
                    super.destroy(), this._buffer.destroy();
                }
                execute(e = {
                }) {
                    const t91 = this.editor.model, i56 = t91.document, n29 = e.text || "", o13 = n29.length, r8 = e.range ? t91.createSelection(e.range) : i56.selection, s7 = e.resultRange;
                    t91.enqueueChange(this._buffer.batch, (e154)=>{
                        this._buffer.lock(), this._batches.add(this._buffer.batch), t91.deleteContent(r8), n29 && t91.insertContent(e154.createText(n29, i56.selection.getAttributes()), r8), s7 ? e154.setSelection(s7) : r8.is("documentSelection") || e154.setSelection(r8), this._buffer.unlock(), this._buffer.input(o13);
                    });
                }
            }
            function vu(e154) {
                if (e154.newChildren.length - e154.oldChildren.length != 1) return;
                const t91 = function(e155, t92) {
                    const i56 = [];
                    let n29, o13 = 0;
                    function r8() {
                        n29 && (i56.push(n29), n29 = null);
                    }
                    function s7(e156) {
                        return n29 && n29.type == e156;
                    }
                    return e155.forEach((e156)=>{
                        "equal" == e156 ? (r8(), o13++) : "insert" == e156 ? (s7("insert") ? n29.values.push(t92[o13]) : (r8(), n29 = {
                            type: "insert",
                            index: o13,
                            values: [
                                t92[o13]
                            ]
                        }), o13++) : s7("delete") ? n29.howMany++ : (r8(), n29 = {
                            type: "delete",
                            index: o13,
                            howMany: 1
                        });
                    }), r8(), i56;
                }(gr(e154.oldChildren, e154.newChildren, yu), e154.newChildren);
                if (t91.length > 1) return;
                const i56 = t91[0];
                return i56.values[0] && i56.values[0].is("$text") ? i56 : void 0;
            }
            function yu(e154, t91) {
                return e154 && e154.is("$text") && t91 && t91.is("$text") ? e154.data === t91.data : e154 === t91;
            }
            class xu {
                constructor(e154){
                    this.editor = e154, this.editing = this.editor.editing;
                }
                handle(e, t) {
                    if ((function(e155) {
                        if (0 == e155.length) return !1;
                        for (const t91 of e155)if ("children" === t91.type && !vu(t91)) return !0;
                        return !1;
                    })(e)) this._handleContainerChildrenMutations(e, t);
                    else for (const i56 of e)this._handleTextMutation(i56, t), this._handleTextNodeInsertion(i56);
                }
                _handleContainerChildrenMutations(e, t) {
                    const i56 = function(e155) {
                        const t91 = e155.map((e156)=>e156.node
                        ).reduce((e156, t92)=>e156.getCommonAncestor(t92, {
                                includeSelf: !0
                            })
                        );
                        if (!t91) return;
                        return t91.getAncestors({
                            includeSelf: !0,
                            parentFirst: !0
                        }).find((e156)=>e156.is("containerElement") || e156.is("rootElement")
                        );
                    }(e);
                    if (!i56) return;
                    const n29 = this.editor.editing.view.domConverter.mapViewToDom(i56), o13 = new Er(this.editor.editing.view.document), r8 = this.editor.data.toModel(o13.domToView(n29)).getChild(0), s7 = this.editor.editing.mapper.toModelElement(i56);
                    if (!s7) return;
                    const a4 = Array.from(r8.getChildren()), c7 = Array.from(s7.getChildren()), l4 = a4[a4.length - 1], d6 = c7[c7.length - 1], h3 = l4 && l4.is("element", "softBreak"), u4 = d6 && !d6.is("element", "softBreak");
                    h3 && u4 && a4.pop();
                    const g4 = this.editor.model.schema;
                    if (!Au(a4, g4) || !Au(c7, g4)) return;
                    const m4 = a4.map((e155)=>e155.is("$text") ? e155.data : "@"
                    ).join("").replace(/\u00A0/g, " "), f4 = c7.map((e155)=>e155.is("$text") ? e155.data : "@"
                    ).join("").replace(/\u00A0/g, " ");
                    if (f4 === m4) return;
                    const p5 = gr(f4, m4), { firstChangeAt: b3 , insertions: w2 , deletions: k2  } = Cu(p5);
                    let _1 = null;
                    t && (_1 = this.editing.mapper.toModelRange(t.getFirstRange()));
                    const v1 = m4.substr(b3, w2), y1 = this.editor.model.createRange(this.editor.model.createPositionAt(s7, b3), this.editor.model.createPositionAt(s7, b3 + k2));
                    this.editor.execute("input", {
                        text: v1,
                        range: y1,
                        resultRange: _1
                    });
                }
                _handleTextMutation(e, t) {
                    if ("text" != e.type) return;
                    const i56 = e.newText.replace(/\u00A0/g, " "), n29 = e.oldText.replace(/\u00A0/g, " ");
                    if (n29 === i56) return;
                    const o13 = gr(n29, i56), { firstChangeAt: r8 , insertions: s7 , deletions: a4  } = Cu(o13);
                    let c7 = null;
                    t && (c7 = this.editing.mapper.toModelRange(t.getFirstRange()));
                    const l4 = this.editing.view.createPositionAt(e.node, r8), d6 = this.editing.mapper.toModelPosition(l4), h3 = this.editor.model.createRange(d6, d6.getShiftedBy(a4)), u4 = i56.substr(r8, s7);
                    this.editor.execute("input", {
                        text: u4,
                        range: h3,
                        resultRange: c7
                    });
                }
                _handleTextNodeInsertion(e) {
                    if ("children" != e.type) return;
                    const t91 = vu(e), i56 = this.editing.view.createPositionAt(e.node, t91.index), n29 = this.editing.mapper.toModelPosition(i56), o13 = t91.values[0].data;
                    this.editor.execute("input", {
                        text: o13.replace(/\u00A0/g, " "),
                        range: this.editor.model.createRange(n29)
                    });
                }
            }
            function Au(e155, t91) {
                return e155.every((e156)=>t91.isInline(e156)
                );
            }
            function Cu(e155) {
                let t91 = null, i56 = null;
                for(let n29 = 0; n29 < e155.length; n29++)"equal" != e155[n29] && (t91 = null === t91 ? n29 : t91, i56 = n29);
                let n30 = 0, o13 = 0;
                for(let r8 = t91; r8 <= i56; r8++)"insert" != e155[r8] && n30++, "delete" != e155[r8] && o13++;
                return {
                    insertions: o13,
                    deletions: n30,
                    firstChangeAt: t91
                };
            }
            class Tu extends Qe {
                static get pluginName() {
                    return "Input";
                }
                init() {
                    const e155 = this.editor, t91 = new _u(e155, e155.config.get("typing.undoStep") || 20);
                    e155.commands.add("input", t91), (function(e156) {
                        let t92 = null;
                        const i56 = e156.model, n29 = e156.editing.view, o13 = e156.commands.get("input");
                        function r8(e157) {
                            const r9 = i56.document, a4 = n29.document.isComposing, c7 = t92 && t92.isEqual(r9.selection);
                            t92 = null, o13.isEnabled && (Yh(e157) || r9.selection.isCollapsed || a4 && 229 === e157.keyCode || !a4 && 229 === e157.keyCode && c7 || s7());
                        }
                        function s7() {
                            const e157 = o13.buffer;
                            e157.lock();
                            const t93 = e157.batch;
                            o13._batches.add(t93), i56.enqueueChange(t93, ()=>{
                                i56.deleteContent(i56.document.selection);
                            }), e157.unlock();
                        }
                        So.isAndroid ? n29.document.on("beforeinput", (e157, t93)=>r8(t93)
                        , {
                            priority: "lowest"
                        }) : n29.document.on("keydown", (e157, t93)=>r8(t93)
                        , {
                            priority: "lowest"
                        }), n29.document.on("compositionstart", function() {
                            const e157 = i56.document, t93 = 1 !== e157.selection.rangeCount || e157.selection.getFirstRange().isFlat;
                            if (e157.selection.isCollapsed || t93) return;
                            s7();
                        }, {
                            priority: "lowest"
                        }), n29.document.on("compositionend", ()=>{
                            t92 = i56.createSelection(i56.document.selection);
                        }, {
                            priority: "lowest"
                        });
                    })(e155), (function(e156) {
                        e156.editing.view.document.on("mutations", (t92, i56, n29)=>{
                            new xu(e156).handle(i56, n29);
                        });
                    })(e155);
                }
                isInput(e) {
                    return this.editor.commands.get("input")._batches.has(e);
                }
            }
            class Eu extends Qe {
                static get requires() {
                    return [
                        Tu,
                        Sh
                    ];
                }
                static get pluginName() {
                    return "Typing";
                }
            }
            function Iu(e155, t91) {
                let i56 = e155.start;
                return {
                    text: Array.from(e155.getItems()).reduce((e156, n29)=>n29.is("$text") || n29.is("$textProxy") ? e156 + n29.data : (i56 = t91.createPositionAfter(n29), "")
                    , ""),
                    range: t91.createRange(i56, e155.end)
                };
            }
            class Su {
                constructor(e155, t91){
                    this.model = e155, this.testCallback = t91, this.hasMatch = !1, this.set("isEnabled", !0), this.on("change:isEnabled", ()=>{
                        this.isEnabled ? this._startListening() : (this.stopListening(e155.document.selection), this.stopListening(e155.document));
                    }), this._startListening();
                }
                _startListening() {
                    const e156 = this.model.document;
                    this.listenTo(e156.selection, "change:range", (t92, { directChange: i56  })=>{
                        i56 && (e156.selection.isCollapsed ? this._evaluateTextBeforeSelection("selection") : this.hasMatch && (this.fire("unmatched"), this.hasMatch = !1));
                    }), this.listenTo(e156, "change:data", (e157, t92)=>{
                        "transparent" != t92.type && this._evaluateTextBeforeSelection("data", {
                            batch: t92
                        });
                    });
                }
                _evaluateTextBeforeSelection(e, t = {
                }) {
                    const i56 = this.model, n29 = i56.document.selection, o13 = i56.createRange(i56.createPositionAt(n29.focus.parent, 0), n29.focus), { text: r8 , range: s7  } = Iu(o13, i56), a4 = this.testCallback(r8);
                    if (!a4 && this.hasMatch && this.fire("unmatched"), this.hasMatch = !!a4, a4) {
                        const i57 = Object.assign(t, {
                            text: r8,
                            range: s7
                        });
                        "object" == typeof a4 && Object.assign(i57, a4), this.fire("matched:" + e, i57);
                    }
                }
            }
            Ke(Su, Ue);
            class Pu extends Qe {
                static get pluginName() {
                    return "TwoStepCaretMovement";
                }
                constructor(e156){
                    super(e156), this.attributes = new Set, this._overrideUid = null;
                }
                init() {
                    const e157 = this.editor, t92 = e157.model, i56 = e157.editing.view, n29 = e157.locale, o13 = t92.document.selection;
                    this.listenTo(i56.document, "arrowKey", (e158, t93)=>{
                        if (!o13.isCollapsed) return;
                        if (t93.shiftKey || t93.altKey || t93.ctrlKey) return;
                        const i57 = t93.keyCode == No.arrowright, r8 = t93.keyCode == No.arrowleft;
                        if (!i57 && !r8) return;
                        const s7 = n29.contentLanguageDirection;
                        let a4 = !1;
                        a4 = "ltr" === s7 && i57 || "rtl" === s7 && r8 ? this._handleForwardMovement(t93) : this._handleBackwardMovement(t93), !0 === a4 && e158.stop();
                    }, {
                        context: "$text",
                        priority: "highest"
                    }), this._isNextGravityRestorationSkipped = !1, this.listenTo(o13, "change:range", (e158, t93)=>{
                        this._isNextGravityRestorationSkipped ? this._isNextGravityRestorationSkipped = !1 : this._isGravityOverridden && (!t93.directChange && Ou(o13.getFirstPosition(), this.attributes) || this._restoreGravity());
                    });
                }
                registerAttribute(e) {
                    this.attributes.add(e);
                }
                _handleForwardMovement(e) {
                    const t92 = this.attributes, i56 = this.editor.model.document.selection, n29 = i56.getFirstPosition();
                    return !this._isGravityOverridden && (!n29.isAtStart || !Mu(i56, t92)) && (Ou(n29, t92) ? (Ru(e), this._overrideGravity(), !0) : void 0);
                }
                _handleBackwardMovement(e) {
                    const t92 = this.attributes, i56 = this.editor.model, n29 = i56.document.selection, o13 = n29.getFirstPosition();
                    return this._isGravityOverridden ? (Ru(e), this._restoreGravity(), Nu(i56, t92, o13), !0) : o13.isAtStart ? !!Mu(n29, t92) && (Ru(e), Nu(i56, t92, o13), !0) : (function(e157, t93) {
                        return Ou(e157.getShiftedBy(-1), t93);
                    })(o13, t92) ? o13.isAtEnd && !Mu(n29, t92) && Ou(o13, t92) ? (Ru(e), Nu(i56, t92, o13), !0) : (this._isNextGravityRestorationSkipped = !0, this._overrideGravity(), !1) : void 0;
                }
                get _isGravityOverridden() {
                    return !!this._overrideUid;
                }
                _overrideGravity() {
                    this._overrideUid = this.editor.model.change((e157)=>e157.overrideSelectionGravity()
                    );
                }
                _restoreGravity() {
                    this.editor.model.change((e157)=>{
                        e157.restoreSelectionGravity(this._overrideUid), this._overrideUid = null;
                    });
                }
            }
            function Mu(e157, t92) {
                for (const i56 of t92)if (e157.hasAttribute(i56)) return !0;
                return !1;
            }
            function Nu(e157, t92, i56) {
                const n29 = i56.nodeBefore;
                e157.change((e158)=>{
                    n29 ? e158.setSelectionAttribute(n29.getAttributes()) : e158.removeSelectionAttribute(t92);
                });
            }
            function Ru(e157) {
                e157.preventDefault();
            }
            function Ou(e157, t92) {
                const { nodeBefore: i56 , nodeAfter: n29  } = e157;
                for (const e158 of t92){
                    const t93 = i56 ? i56.getAttribute(e158) : void 0;
                    if ((n29 ? n29.getAttribute(e158) : void 0) !== t93) return !0;
                }
                return !1;
            }
            var zu = /[\\^$.*+?()[\]{}|]/g, Du = RegExp(zu.source);
            var Lu = function(e157) {
                return (e157 = Pn(e157)) && Du.test(e157) ? e157.replace(zu, "\\$&") : e157;
            };
            const Vu = {
                copyright: {
                    from: "(c)",
                    to: "©"
                },
                registeredTrademark: {
                    from: "(r)",
                    to: "®"
                },
                trademark: {
                    from: "(tm)",
                    to: "™"
                },
                oneHalf: {
                    from: "1/2",
                    to: "½"
                },
                oneThird: {
                    from: "1/3",
                    to: "⅓"
                },
                twoThirds: {
                    from: "2/3",
                    to: "⅔"
                },
                oneForth: {
                    from: "1/4",
                    to: "¼"
                },
                threeQuarters: {
                    from: "3/4",
                    to: "¾"
                },
                lessThanOrEqual: {
                    from: "<=",
                    to: "≤"
                },
                greaterThanOrEqual: {
                    from: ">=",
                    to: "≥"
                },
                notEqual: {
                    from: "!=",
                    to: "≠"
                },
                arrowLeft: {
                    from: "<-",
                    to: "←"
                },
                arrowRight: {
                    from: "->",
                    to: "→"
                },
                horizontalEllipsis: {
                    from: "...",
                    to: "…"
                },
                enDash: {
                    from: /(^| )(--)( )$/,
                    to: [
                        null,
                        "–",
                        null
                    ]
                },
                emDash: {
                    from: /(^| )(---)( )$/,
                    to: [
                        null,
                        "—",
                        null
                    ]
                },
                quotesPrimary: {
                    from: Wu('"'),
                    to: [
                        null,
                        "“",
                        null,
                        "”"
                    ]
                },
                quotesSecondary: {
                    from: Wu("'"),
                    to: [
                        null,
                        "‘",
                        null,
                        "’"
                    ]
                },
                quotesPrimaryEnGb: {
                    from: Wu("'"),
                    to: [
                        null,
                        "‘",
                        null,
                        "’"
                    ]
                },
                quotesSecondaryEnGb: {
                    from: Wu('"'),
                    to: [
                        null,
                        "“",
                        null,
                        "”"
                    ]
                },
                quotesPrimaryPl: {
                    from: Wu('"'),
                    to: [
                        null,
                        "„",
                        null,
                        "”"
                    ]
                },
                quotesSecondaryPl: {
                    from: Wu("'"),
                    to: [
                        null,
                        "‚",
                        null,
                        "’"
                    ]
                }
            }, ju = {
                symbols: [
                    "copyright",
                    "registeredTrademark",
                    "trademark"
                ],
                mathematical: [
                    "oneHalf",
                    "oneThird",
                    "twoThirds",
                    "oneForth",
                    "threeQuarters",
                    "lessThanOrEqual",
                    "greaterThanOrEqual",
                    "notEqual",
                    "arrowLeft",
                    "arrowRight"
                ],
                typography: [
                    "horizontalEllipsis",
                    "enDash",
                    "emDash"
                ],
                quotes: [
                    "quotesPrimary",
                    "quotesSecondary"
                ]
            }, Bu = [
                "symbols",
                "mathematical",
                "typography",
                "quotes"
            ];
            function Fu(e157) {
                return "string" == typeof e157 ? new RegExp(`(${Lu(e157)})$`) : e157;
            }
            function Hu(e157) {
                return "string" == typeof e157 ? ()=>[
                        e157
                    ]
                 : e157 instanceof Array ? ()=>e157
                 : e157;
            }
            function Uu(e157) {
                return (e157.textNode ? e157.textNode : e157.nodeAfter).getAttributes();
            }
            function Wu(e157) {
                return new RegExp(`(^|\\s)(${e157})([^${e157}]*)(${e157})$`);
            }
            function qu(e157, t92, i56, n29) {
                return n29.createRange($u(e157, t92, i56, !0, n29), $u(e157, t92, i56, !1, n29));
            }
            function $u(e157, t92, i56, n29, o13) {
                let r8 = e157.textNode || (n29 ? e157.nodeBefore : e157.nodeAfter), s7 = null;
                for(; r8 && r8.getAttribute(t92) == i56;)s7 = r8, r8 = n29 ? r8.previousSibling : r8.nextSibling;
                return s7 ? o13.createPositionAt(s7, n29 ? "before" : "after") : e157;
            }
            class Yu extends Ze {
                constructor(e157){
                    super(e157), this._stack = [], this._createdBatches = new WeakSet, this.refresh(), this.listenTo(e157.data, "set", (e158, t92)=>{
                        t92[1] = {
                            ...t92[1]
                        };
                        const i56 = t92[1];
                        i56.batchType || (i56.batchType = "transparent");
                    }, {
                        priority: "high"
                    }), this.listenTo(e157.data, "set", (e158, t92)=>{
                        "transparent" === t92[1].batchType && this.clearStack();
                    });
                }
                refresh() {
                    this.isEnabled = this._stack.length > 0;
                }
                addBatch(e) {
                    const t92 = this.editor.model.document.selection, i56 = {
                        ranges: t92.hasOwnRange ? Array.from(t92.getRanges()) : [],
                        isBackward: t92.isBackward
                    };
                    this._stack.push({
                        batch: e,
                        selection: i56
                    }), this.refresh();
                }
                clearStack() {
                    this._stack = [], this.refresh();
                }
                _restoreSelection(e, t, i) {
                    const n29 = this.editor.model, o13 = n29.document, r8 = [], s7 = e.map((e158)=>e158.getTransformedByOperations(i)
                    ), a4 = s7.flat();
                    for (const e158 of s7){
                        const t92 = e158.filter((e159)=>e159.root != o13.graveyard
                        ).filter((e159)=>!Ku(e159, a4)
                        );
                        t92.length && (Gu(t92), r8.push(t92[0]));
                    }
                    r8.length && n29.change((e159)=>{
                        e159.setSelection(r8, {
                            backward: t
                        });
                    });
                }
                _undo(e, t) {
                    const i56 = this.editor.model, n29 = i56.document;
                    this._createdBatches.add(t);
                    const o13 = e.operations.slice().filter((e158)=>e158.isDocumentOperation
                    );
                    o13.reverse();
                    for (const e158 of o13){
                        const o14 = e158.baseVersion + 1, r8 = Array.from(n29.history.getOperations(o14)), s7 = oh([
                            e158.getReversed()
                        ], r8, {
                            useRelations: !0,
                            document: this.editor.model.document,
                            padWithNoOps: !1,
                            forceWeakRemove: !0
                        }).operationsA;
                        for (const o15 of s7)t.addOperation(o15), i56.applyOperation(o15), n29.history.setOperationAsUndone(e158, o15);
                    }
                }
            }
            function Gu(e158) {
                e158.sort((e159, t92)=>e159.start.isBefore(t92.start) ? -1 : 1
                );
                for(let t92 = 1; t92 < e158.length; t92++){
                    const i56 = e158[t92 - 1].getJoined(e158[t92], !0);
                    i56 && (t92--, e158.splice(t92, 2, i56));
                }
            }
            function Ku(e158, t92) {
                return t92.some((t93)=>t93 !== e158 && t93.containsRange(e158, !0)
                );
            }
            class Qu extends Yu {
                execute(e = null) {
                    const t92 = e ? this._stack.findIndex((t93)=>t93.batch == e
                    ) : this._stack.length - 1, i56 = this._stack.splice(t92, 1)[0], n29 = this.editor.model.createBatch("transparent");
                    this.editor.model.enqueueChange(n29, ()=>{
                        this._undo(i56.batch, n29);
                        const e158 = this.editor.model.document.history.getOperations(i56.batch.baseVersion);
                        this._restoreSelection(i56.selection.ranges, i56.selection.isBackward, e158), this.fire("revert", i56.batch, n29);
                    }), this.refresh();
                }
            }
            class Ju extends Yu {
                execute() {
                    const e158 = this._stack.pop(), t92 = this.editor.model.createBatch("transparent");
                    this.editor.model.enqueueChange(t92, ()=>{
                        const i56 = e158.batch.operations[e158.batch.operations.length - 1].baseVersion + 1, n29 = this.editor.model.document.history.getOperations(i56);
                        this._restoreSelection(e158.selection.ranges, e158.selection.isBackward, n29), this._undo(e158.batch, t92);
                    }), this.refresh();
                }
            }
            class Zu extends Qe {
                static get pluginName() {
                    return "UndoEditing";
                }
                constructor(e158){
                    super(e158), this._batchRegistry = new WeakSet;
                }
                init() {
                    const e159 = this.editor;
                    this._undoCommand = new Qu(e159), this._redoCommand = new Ju(e159), e159.commands.add("undo", this._undoCommand), e159.commands.add("redo", this._redoCommand), this.listenTo(e159.model, "applyOperation", (e160, t92)=>{
                        const i56 = t92[0];
                        if (!i56.isDocumentOperation) return;
                        const n29 = i56.batch, o13 = this._redoCommand._createdBatches.has(n29), r8 = this._undoCommand._createdBatches.has(n29);
                        this._batchRegistry.has(n29) || "transparent" == n29.type && !o13 && !r8 || (o13 ? this._undoCommand.addBatch(n29) : r8 || (this._undoCommand.addBatch(n29), this._redoCommand.clearStack()), this._batchRegistry.add(n29));
                    }, {
                        priority: "highest"
                    }), this.listenTo(this._undoCommand, "revert", (e160, t92, i56)=>{
                        this._redoCommand.addBatch(i56);
                    }), e159.keystrokes.set("CTRL+Z", "undo"), e159.keystrokes.set("CTRL+Y", "redo"), e159.keystrokes.set("CTRL+SHIFT+Z", "redo");
                }
            }
            var Xu = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>', eg = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';
            class tg extends Qe {
                static get pluginName() {
                    return "UndoUI";
                }
                init() {
                    const e159 = this.editor, t92 = e159.locale, i56 = e159.t, n29 = "ltr" == t92.uiLanguageDirection ? Xu : eg, o13 = "ltr" == t92.uiLanguageDirection ? eg : Xu;
                    this._addButton("undo", i56("Undo"), "CTRL+Z", n29), this._addButton("redo", i56("Redo"), "CTRL+Y", o13);
                }
                _addButton(e, t, i, n) {
                    const o13 = this.editor;
                    o13.ui.componentFactory.add(e, (r8)=>{
                        const s7 = o13.commands.get(e), a4 = new ed(r8);
                        return a4.set({
                            label: t,
                            icon: n,
                            keystroke: i,
                            tooltip: !0
                        }), a4.bind("isEnabled").to(s7, "isEnabled"), this.listenTo(a4, "execute", ()=>{
                            o13.execute(e), o13.editing.view.focus();
                        }), a4;
                    });
                }
            }
            class ig extends Qe {
                static get requires() {
                    return [
                        Zu,
                        tg
                    ];
                }
                static get pluginName() {
                    return "Undo";
                }
            }
            class ng {
                constructor(){
                    const e159 = new window.FileReader;
                    this._reader = e159, this._data = void 0, this.set("loaded", 0), e159.onprogress = (e160)=>{
                        this.loaded = e160.loaded;
                    };
                }
                get error() {
                    return this._reader.error;
                }
                get data() {
                    return this._data;
                }
                read(e) {
                    const t92 = this._reader;
                    return this.total = e.size, new Promise((i56, n29)=>{
                        t92.onload = ()=>{
                            const e160 = t92.result;
                            this._data = e160, i56(e160);
                        }, t92.onerror = ()=>{
                            n29("error");
                        }, t92.onabort = ()=>{
                            n29("aborted");
                        }, this._reader.readAsDataURL(e);
                    });
                }
                abort() {
                    this._reader.abort();
                }
            }
            Ke(ng, Ue);
            class og extends Qe {
                static get pluginName() {
                    return "FileRepository";
                }
                static get requires() {
                    return [
                        Cl
                    ];
                }
                init() {
                    this.loaders = new Zi, this.loaders.on("add", ()=>this._updatePendingAction()
                    ), this.loaders.on("remove", ()=>this._updatePendingAction()
                    ), this._loadersMap = new Map, this._pendingAction = null, this.set("uploaded", 0), this.set("uploadTotal", null), this.bind("uploadedPercent").to(this, "uploaded", this, "uploadTotal", (e160, t92)=>t92 ? e160 / t92 * 100 : 0
                    );
                }
                getLoader(e) {
                    return this._loadersMap.get(e) || null;
                }
                createLoader(e) {
                    if (!this.createUploadAdapter) return Object(c2.b)("filerepository-no-upload-adapter"), null;
                    const t92 = new rg(Promise.resolve(e), this.createUploadAdapter);
                    return this.loaders.add(t92), this._loadersMap.set(e, t92), e instanceof Promise && t92.file.then((e160)=>{
                        this._loadersMap.set(e160, t92);
                    }).catch(()=>{
                    }), t92.on("change:uploaded", ()=>{
                        let e160 = 0;
                        for (const t93 of this.loaders)e160 += t93.uploaded;
                        this.uploaded = e160;
                    }), t92.on("change:uploadTotal", ()=>{
                        let e160 = 0;
                        for (const t93 of this.loaders)t93.uploadTotal && (e160 += t93.uploadTotal);
                        this.uploadTotal = e160;
                    }), t92;
                }
                destroyLoader(e) {
                    const t92 = e instanceof rg ? e : this.getLoader(e);
                    t92._destroy(), this.loaders.remove(t92), this._loadersMap.forEach((e160, i56)=>{
                        e160 === t92 && this._loadersMap.delete(i56);
                    });
                }
                _updatePendingAction() {
                    const e160 = this.editor.plugins.get(Cl);
                    if (this.loaders.length) {
                        if (!this._pendingAction) {
                            const t92 = this.editor.t, i56 = (e161)=>`${t92("Upload in progress")} ${parseInt(e161)}%.`
                            ;
                            this._pendingAction = e160.add(i56(this.uploadedPercent)), this._pendingAction.bind("message").to(this, "uploadedPercent", i56);
                        }
                    } else e160.remove(this._pendingAction), this._pendingAction = null;
                }
            }
            Ke(og, Ue);
            class rg {
                constructor(e160, t92){
                    this.id = s3(), this._filePromiseWrapper = this._createFilePromiseWrapper(e160), this._adapter = t92(this), this._reader = new ng, this.set("status", "idle"), this.set("uploaded", 0), this.set("uploadTotal", null), this.bind("uploadedPercent").to(this, "uploaded", this, "uploadTotal", (e161, t93)=>t93 ? e161 / t93 * 100 : 0
                    ), this.set("uploadResponse", null);
                }
                get file() {
                    return this._filePromiseWrapper ? this._filePromiseWrapper.promise.then((e161)=>this._filePromiseWrapper ? e161 : null
                    ) : Promise.resolve(null);
                }
                get data() {
                    return this._reader.data;
                }
                read() {
                    if ("idle" != this.status) throw new c2.a("filerepository-read-wrong-status", this);
                    return this.status = "reading", this.file.then((e161)=>this._reader.read(e161)
                    ).then((e161)=>{
                        if ("reading" !== this.status) throw this.status;
                        return this.status = "idle", e161;
                    }).catch((e161)=>{
                        if ("aborted" === e161) throw this.status = "aborted", "aborted";
                        throw this.status = "error", this._reader.error ? this._reader.error : e161;
                    });
                }
                upload() {
                    if ("idle" != this.status) throw new c2.a("filerepository-upload-wrong-status", this);
                    return this.status = "uploading", this.file.then(()=>this._adapter.upload()
                    ).then((e161)=>(this.uploadResponse = e161, this.status = "idle", e161)
                    ).catch((e161)=>{
                        if ("aborted" === this.status) throw "aborted";
                        throw this.status = "error", e161;
                    });
                }
                abort() {
                    const e161 = this.status;
                    this.status = "aborted", this._filePromiseWrapper.isFulfilled ? "reading" == e161 ? this._reader.abort() : "uploading" == e161 && this._adapter.abort && this._adapter.abort() : (this._filePromiseWrapper.promise.catch(()=>{
                    }), this._filePromiseWrapper.rejecter("aborted")), this._destroy();
                }
                _destroy() {
                    this._filePromiseWrapper = void 0, this._reader = void 0, this._adapter = void 0, this.uploadResponse = void 0;
                }
                _createFilePromiseWrapper(e) {
                    const t93 = {
                    };
                    return t93.promise = new Promise((i56, n29)=>{
                        t93.rejecter = n29, t93.isFulfilled = !1, e.then((e161)=>{
                            t93.isFulfilled = !0, i56(e161);
                        }).catch((e161)=>{
                            t93.isFulfilled = !0, n29(e161);
                        });
                    }), t93;
                }
            }
            Ke(rg, Ue);
            class sg extends Ml {
                constructor(e161){
                    super(e161), this.buttonView = new ed(e161), this._fileInputView = new ag(e161), this._fileInputView.bind("acceptedType").to(this), this._fileInputView.bind("allowMultipleFiles").to(this), this._fileInputView.delegate("done").to(this), this.setTemplate({
                        tag: "span",
                        attributes: {
                            class: "ck-file-dialog-button"
                        },
                        children: [
                            this.buttonView,
                            this._fileInputView
                        ]
                    }), this.buttonView.on("execute", ()=>{
                        this._fileInputView.open();
                    });
                }
                focus() {
                    this.buttonView.focus();
                }
            }
            class ag extends Ml {
                constructor(e162){
                    super(e162), this.set("acceptedType"), this.set("allowMultipleFiles", !1);
                    const t93 = this.bindTemplate;
                    this.setTemplate({
                        tag: "input",
                        attributes: {
                            class: [
                                "ck-hidden"
                            ],
                            type: "file",
                            tabindex: "-1",
                            accept: t93.to("acceptedType"),
                            multiple: t93.to("allowMultipleFiles")
                        },
                        on: {
                            change: t93.to(()=>{
                                this.element && this.element.files && this.element.files.length && this.fire("done", this.element.files), this.element.value = "";
                            })
                        }
                    });
                }
                open() {
                    this.element.click();
                }
            }
            function cg() {
                let e163 = function(e164) {
                    e164 = e164.toLowerCase();
                    const t94 = document.cookie.split(";");
                    for (const i56 of t94){
                        const t95 = i56.split("=");
                        if (decodeURIComponent(t95[0].trim().toLowerCase()) === e164) return decodeURIComponent(t95[1]);
                    }
                    return null;
                }("ckCsrfToken");
                var t94, i56;
                return e163 && 40 == e163.length || (e163 = (function(e164) {
                    let t95 = "";
                    const i57 = new Uint8Array(e164);
                    window.crypto.getRandomValues(i57);
                    for(let e165 = 0; e165 < i57.length; e165++){
                        const n29 = "abcdefghijklmnopqrstuvwxyz0123456789".charAt(i57[e165] % 36);
                        t95 += Math.random() > 0.5 ? n29.toUpperCase() : n29;
                    }
                    return t95;
                })(40), t94 = "ckCsrfToken", i56 = e163, document.cookie = encodeURIComponent(t94) + "=" + encodeURIComponent(i56) + ";path=/"), e163;
            }
            class lg {
                constructor(e163, t94, i56){
                    this.loader = e163, this.url = t94, this.t = i56;
                }
                upload() {
                    return this.loader.file.then((e164)=>new Promise((t95, i57)=>{
                            this._initRequest(), this._initListeners(t95, i57, e164), this._sendRequest(e164);
                        })
                    );
                }
                abort() {
                    this.xhr && this.xhr.abort();
                }
                _initRequest() {
                    const e164 = this.xhr = new XMLHttpRequest;
                    e164.open("POST", this.url, !0), e164.responseType = "json";
                }
                _initListeners(e, t, i) {
                    const n29 = this.xhr, o13 = this.loader, r8 = this.t("Cannot upload file:") + ` ${i.name}.`;
                    n29.addEventListener("error", ()=>t(r8)
                    ), n29.addEventListener("abort", ()=>t()
                    ), n29.addEventListener("load", ()=>{
                        const i57 = n29.response;
                        if (!i57 || !i57.uploaded) return t(i57 && i57.error && i57.error.message ? i57.error.message : r8);
                        e({
                            default: i57.url
                        });
                    }), n29.upload && n29.upload.addEventListener("progress", (e164)=>{
                        e164.lengthComputable && (o13.uploadTotal = e164.total, o13.uploaded = e164.loaded);
                    });
                }
                _sendRequest(e) {
                    const t95 = new FormData;
                    t95.append("upload", e), t95.append("ckCsrfToken", cg()), this.xhr.send(t95);
                }
            }
            function dg(e164, t95, i57, n29) {
                let o13, r8 = null;
                "function" == typeof n29 ? o13 = n29 : (r8 = e164.commands.get(n29), o13 = ()=>{
                    e164.execute(n29);
                }), e164.model.document.on("change:data", (s7, a4)=>{
                    if (r8 && !r8.isEnabled || !t95.isEnabled) return;
                    const c7 = Ns(e164.model.document.selection.getRanges());
                    if (!c7.isCollapsed) return;
                    if ("transparent" == a4.type) return;
                    const l4 = Array.from(e164.model.document.differ.getChanges()), d6 = l4[0];
                    if (1 != l4.length || "insert" !== d6.type || "$text" != d6.name || 1 != d6.length) return;
                    const h3 = d6.position.parent;
                    if (h3.is("element", "codeBlock")) return;
                    if (h3.is("element", "listItem") && "function" != typeof n29 && ![
                        "numberedList",
                        "bulletedList",
                        "todoList"
                    ].includes(n29)) return;
                    if (r8 && !0 === r8.value) return;
                    const u4 = h3.getChild(0), g4 = e164.model.createRangeOn(u4);
                    if (!g4.containsRange(c7) && !c7.end.isEqual(g4.end)) return;
                    const m4 = i57.exec(u4.data.substr(0, c7.end.offset));
                    m4 && e164.model.enqueueChange((t96)=>{
                        const i58 = t96.createPositionAt(h3, 0), n30 = t96.createPositionAt(h3, m4[0].length), r9 = new ba(i58, n30);
                        if (!1 !== o13({
                            match: m4
                        })) {
                            t96.remove(r9);
                            const i59 = e164.model.document.selection.getFirstRange(), n31 = t96.createRangeIn(h3);
                            !h3.isEmpty || n31.isEqual(i59) || n31.containsRange(i59, !0) || t96.remove(h3);
                        }
                        r9.detach();
                    });
                });
            }
            function hg(e164, t95, i57, n29) {
                let o13, r8;
                i57 instanceof RegExp ? o13 = i57 : r8 = i57, r8 = r8 || ((e165)=>{
                    let t96;
                    const i58 = [], n30 = [];
                    for(; null !== (t96 = o13.exec(e165)) && !(t96 && t96.length < 4);){
                        let { index: e166 , 1: o14 , 2: r9 , 3: s7  } = t96;
                        const a4 = o14 + r9 + s7;
                        e166 += t96[0].length - a4.length;
                        const c7 = [
                            e166,
                            e166 + o14.length
                        ], l4 = [
                            e166 + o14.length + r9.length,
                            e166 + o14.length + r9.length + s7.length
                        ];
                        i58.push(c7), i58.push(l4), n30.push([
                            e166 + o14.length,
                            e166 + o14.length + r9.length
                        ]);
                    }
                    return {
                        remove: i58,
                        format: n30
                    };
                }), e164.model.document.on("change:data", (i58, o14)=>{
                    if ("transparent" == o14.type || !t95.isEnabled) return;
                    const s7 = e164.model, a4 = s7.document.selection;
                    if (!a4.isCollapsed) return;
                    const c7 = Array.from(s7.document.differ.getChanges()), l4 = c7[0];
                    if (1 != c7.length || "insert" !== l4.type || "$text" != l4.name || 1 != l4.length) return;
                    const d6 = a4.focus, h3 = d6.parent, { text: u4 , range: g4  } = function(e165, t96) {
                        let i59 = e165.start;
                        return {
                            text: Array.from(e165.getItems()).reduce((e166, n30)=>!n30.is("$text") && !n30.is("$textProxy") || n30.getAttribute("code") ? (i59 = t96.createPositionAfter(n30), "") : e166 + n30.data
                            , ""),
                            range: t96.createRange(i59, e165.end)
                        };
                    }(s7.createRange(s7.createPositionAt(h3, 0), d6), s7), m4 = r8(u4), f4 = ug(g4.start, m4.format, s7), p5 = ug(g4.start, m4.remove, s7);
                    f4.length && p5.length && s7.enqueueChange((e165)=>{
                        if (!1 !== n29(e165, f4)) for (const t96 of p5.reverse())e165.remove(t96);
                    });
                });
            }
            function ug(e164, t95, i57) {
                return t95.filter((e165)=>(void 0) !== e165[0] && (void 0) !== e165[1]
                ).map((t96)=>i57.createRange(e164.getShiftedBy(t96[0]), e164.getShiftedBy(t96[1]))
                );
            }
            function gg(e164, t95) {
                return (i57, n29)=>{
                    if (!e164.commands.get(t95).isEnabled) return !1;
                    const o13 = e164.model.schema.getValidRanges(n29, t95);
                    for (const e165 of o13)i57.setAttribute(t95, !0, e165);
                    i57.removeSelectionAttribute(t95);
                };
            }
            class mg extends Ze {
                constructor(e164, t95){
                    super(e164), this.attributeKey = t95;
                }
                refresh() {
                    const e165 = this.editor.model, t96 = e165.document;
                    this.value = this._getValueFromFirstAllowedNode(), this.isEnabled = e165.schema.checkAttributeInSelection(t96.selection, this.attributeKey);
                }
                execute(e = {
                }) {
                    const t96 = this.editor.model, i57 = t96.document.selection, n29 = (void 0) === e.forceValue ? !this.value : e.forceValue;
                    t96.change((e165)=>{
                        if (i57.isCollapsed) n29 ? e165.setSelectionAttribute(this.attributeKey, !0) : e165.removeSelectionAttribute(this.attributeKey);
                        else {
                            const o13 = t96.schema.getValidRanges(i57.getRanges(), this.attributeKey);
                            for (const t97 of o13)n29 ? e165.setAttribute(this.attributeKey, n29, t97) : e165.removeAttribute(this.attributeKey, t97);
                        }
                    });
                }
                _getValueFromFirstAllowedNode() {
                    const e165 = this.editor.model, t96 = e165.schema, i57 = e165.document.selection;
                    if (i57.isCollapsed) return i57.hasAttribute(this.attributeKey);
                    for (const e166 of i57.getRanges())for (const i58 of e166.getItems())if (t96.checkAttribute(i58, this.attributeKey)) return i58.hasAttribute(this.attributeKey);
                    return !1;
                }
            }
            class fg extends Qe {
                static get pluginName() {
                    return "BoldEditing";
                }
                init() {
                    const e165 = this.editor;
                    e165.model.schema.extend("$text", {
                        allowAttributes: "bold"
                    }), e165.model.schema.setAttributeProperties("bold", {
                        isFormatting: !0,
                        copyOnEnter: !0
                    }), e165.conversion.attributeToElement({
                        model: "bold",
                        view: "strong",
                        upcastAlso: [
                            "b",
                            (e166)=>{
                                const t96 = e166.getStyle("font-weight");
                                return t96 ? "bold" == t96 || Number(t96) >= 600 ? {
                                    name: !0,
                                    styles: [
                                        "font-weight"
                                    ]
                                } : void 0 : null;
                            }
                        ]
                    }), e165.commands.add("bold", new mg(e165, "bold")), e165.keystrokes.set("CTRL+B", "bold");
                }
            }
            class pg extends Qe {
                static get pluginName() {
                    return "BoldUI";
                }
                init() {
                    const e165 = this.editor, t96 = e165.t;
                    e165.ui.componentFactory.add("bold", (i57)=>{
                        const n29 = e165.commands.get("bold"), o13 = new ed(i57);
                        return o13.set({
                            label: t96("Bold"),
                            icon: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',
                            keystroke: "CTRL+B",
                            tooltip: !0,
                            isToggleable: !0
                        }), o13.bind("isOn", "isEnabled").to(n29, "value", "isEnabled"), this.listenTo(o13, "execute", ()=>{
                            e165.execute("bold"), e165.editing.view.focus();
                        }), o13;
                    });
                }
            }
            class bg extends Qe {
                static get pluginName() {
                    return "ItalicEditing";
                }
                init() {
                    const e165 = this.editor;
                    e165.model.schema.extend("$text", {
                        allowAttributes: "italic"
                    }), e165.model.schema.setAttributeProperties("italic", {
                        isFormatting: !0,
                        copyOnEnter: !0
                    }), e165.conversion.attributeToElement({
                        model: "italic",
                        view: "i",
                        upcastAlso: [
                            "em",
                            {
                                styles: {
                                    "font-style": "italic"
                                }
                            }
                        ]
                    }), e165.commands.add("italic", new mg(e165, "italic")), e165.keystrokes.set("CTRL+I", "italic");
                }
            }
            class wg extends Qe {
                static get pluginName() {
                    return "ItalicUI";
                }
                init() {
                    const e165 = this.editor, t96 = e165.t;
                    e165.ui.componentFactory.add("italic", (i57)=>{
                        const n29 = e165.commands.get("italic"), o13 = new ed(i57);
                        return o13.set({
                            label: t96("Italic"),
                            icon: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',
                            keystroke: "CTRL+I",
                            tooltip: !0,
                            isToggleable: !0
                        }), o13.bind("isOn", "isEnabled").to(n29, "value", "isEnabled"), this.listenTo(o13, "execute", ()=>{
                            e165.execute("italic"), e165.editing.view.focus();
                        }), o13;
                    });
                }
            }
            class kg extends Ze {
                refresh() {
                    this.value = this._getValue(), this.isEnabled = this._checkEnabled();
                }
                execute(e = {
                }) {
                    const t96 = this.editor.model, i57 = t96.schema, n29 = t96.document.selection, o13 = Array.from(n29.getSelectedBlocks()), r8 = (void 0) === e.forceValue ? !this.value : e.forceValue;
                    t96.change((e165)=>{
                        if (r8) {
                            const t97 = o13.filter((e166)=>_g(e166) || yg(i57, e166)
                            );
                            this._applyQuote(e165, t97);
                        } else this._removeQuote(e165, o13.filter(_g));
                    });
                }
                _getValue() {
                    const e165 = Ns(this.editor.model.document.selection.getSelectedBlocks());
                    return !(!e165 || !_g(e165));
                }
                _checkEnabled() {
                    if (this.value) return !0;
                    const e165 = this.editor.model.document.selection, t96 = this.editor.model.schema, i57 = Ns(e165.getSelectedBlocks());
                    return !!i57 && yg(t96, i57);
                }
                _removeQuote(e, t) {
                    vg(e, t).reverse().forEach((t96)=>{
                        if (t96.start.isAtStart && t96.end.isAtEnd) return void e.unwrap(t96.start.parent);
                        if (t96.start.isAtStart) {
                            const i57 = e.createPositionBefore(t96.start.parent);
                            return void e.move(t96, i57);
                        }
                        t96.end.isAtEnd || e.split(t96.end);
                        const i57 = e.createPositionAfter(t96.end.parent);
                        e.move(t96, i57);
                    });
                }
                _applyQuote(e, t) {
                    const i57 = [];
                    vg(e, t).reverse().forEach((t96)=>{
                        let n29 = _g(t96.start);
                        n29 || (n29 = e.createElement("blockQuote"), e.wrap(t96, n29)), i57.push(n29);
                    }), i57.reverse().reduce((t96, i58)=>t96.nextSibling == i58 ? (e.merge(e.createPositionAfter(t96)), t96) : i58
                    );
                }
            }
            function _g(e165) {
                return "blockQuote" == e165.parent.name ? e165.parent : null;
            }
            function vg(e165, t96) {
                let i57, n29 = 0;
                const o13 = [];
                for(; n29 < t96.length;){
                    const r8 = t96[n29], s7 = t96[n29 + 1];
                    i57 || (i57 = e165.createPositionBefore(r8)), s7 && r8.nextSibling == s7 || (o13.push(e165.createRange(i57, e165.createPositionAfter(r8))), i57 = null), n29++;
                }
                return o13;
            }
            function yg(e165, t96) {
                const i57 = e165.checkChild(t96.parent, "blockQuote"), n29 = e165.checkChild([
                    "$root",
                    "blockQuote"
                ], t96);
                return i57 && n29;
            }
            class xg extends Qe {
                static get pluginName() {
                    return "BlockQuoteEditing";
                }
                static get requires() {
                    return [
                        Ch,
                        Sh
                    ];
                }
                init() {
                    const e165 = this.editor, t96 = e165.model.schema;
                    e165.commands.add("blockQuote", new kg(e165)), t96.register("blockQuote", {
                        allowWhere: "$block",
                        allowContentOf: "$root"
                    }), e165.conversion.elementToElement({
                        model: "blockQuote",
                        view: "blockquote"
                    }), e165.model.document.registerPostFixer((i57)=>{
                        const n29 = e165.model.document.differ.getChanges();
                        for (const e166 of n29)if ("insert" == e166.type) {
                            const n30 = e166.position.nodeAfter;
                            if (!n30) continue;
                            if (n30.is("element", "blockQuote") && n30.isEmpty) return i57.remove(n30), !0;
                            if (n30.is("element", "blockQuote") && !t96.checkChild(e166.position, n30)) return i57.unwrap(n30), !0;
                            if (n30.is("element")) {
                                const e167 = i57.createRangeIn(n30);
                                for (const n31 of e167.getItems())if (n31.is("element", "blockQuote") && !t96.checkChild(i57.createPositionBefore(n31), n31)) return i57.unwrap(n31), !0;
                            }
                        } else if ("remove" == e166.type) {
                            const t97 = e166.position.parent;
                            if (t97.is("element", "blockQuote") && t97.isEmpty) return i57.remove(t97), !0;
                        }
                        return !1;
                    });
                    const i57 = this.editor.editing.view.document, n29 = e165.model.document.selection, o13 = e165.commands.get("blockQuote");
                    this.listenTo(i57, "enter", (t97, i58)=>{
                        if (!n29.isCollapsed || !o13.value) return;
                        n29.getLastPosition().parent.isEmpty && (e165.execute("blockQuote"), e165.editing.view.scrollToTheSelection(), i58.preventDefault(), t97.stop());
                    }, {
                        context: "blockquote"
                    }), this.listenTo(i57, "delete", (t97, i58)=>{
                        if ("backward" != i58.direction || !n29.isCollapsed || !o13.value) return;
                        const r8 = n29.getLastPosition().parent;
                        r8.isEmpty && !r8.previousSibling && (e165.execute("blockQuote"), e165.editing.view.scrollToTheSelection(), i58.preventDefault(), t97.stop());
                    }, {
                        context: "blockquote"
                    });
                }
            }
            i2(69);
            class Ag extends Qe {
                static get pluginName() {
                    return "BlockQuoteUI";
                }
                init() {
                    const e165 = this.editor, t96 = e165.t;
                    e165.ui.componentFactory.add("blockQuote", (i57)=>{
                        const n29 = e165.commands.get("blockQuote"), o13 = new ed(i57);
                        return o13.set({
                            label: t96("Block quote"),
                            icon: Tl.quote,
                            tooltip: !0,
                            isToggleable: !0
                        }), o13.bind("isOn", "isEnabled").to(n29, "value", "isEnabled"), this.listenTo(o13, "execute", ()=>{
                            e165.execute("blockQuote"), e165.editing.view.focus();
                        }), o13;
                    });
                }
            }
            class Cg extends Qe {
                static get pluginName() {
                    return "CKFinderUI";
                }
                init() {
                    const e165 = this.editor, t96 = e165.ui.componentFactory, i57 = e165.t;
                    t96.add("ckfinder", (t97)=>{
                        const n29 = e165.commands.get("ckfinder"), o13 = new ed(t97);
                        return o13.set({
                            label: i57("Insert image or file"),
                            icon: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',
                            tooltip: !0
                        }), o13.bind("isEnabled").to(n29), o13.on("execute", ()=>{
                            e165.execute("ckfinder"), e165.editing.view.focus();
                        }), o13;
                    });
                }
            }
            class Tg extends Ze {
                constructor(e165){
                    super(e165), this.stopListening(this.editor.model.document, "change"), this.listenTo(this.editor.model.document, "change", ()=>this.refresh()
                    , {
                        priority: "low"
                    });
                }
                refresh() {
                    const e166 = this.editor.commands.get("insertImage"), t96 = this.editor.commands.get("link");
                    this.isEnabled = e166.isEnabled || t96.isEnabled;
                }
                execute() {
                    const e166 = this.editor, t96 = this.editor.config.get("ckfinder.openerMethod") || "modal";
                    if ("popup" != t96 && "modal" != t96) throw new c2.a("ckfinder-unknown-openermethod", e166);
                    const i57 = this.editor.config.get("ckfinder.options") || {
                    };
                    i57.chooseFiles = !0;
                    const n29 = i57.onInit;
                    i57.language || (i57.language = e166.locale.uiLanguage), i57.onInit = (t97)=>{
                        n29 && n29(t97), t97.on("files:choose", (i58)=>{
                            const n30 = i58.data.files.toArray(), o13 = n30.filter((e167)=>!e167.isImage()
                            ), r8 = n30.filter((e167)=>e167.isImage()
                            );
                            for (const t98 of o13)e166.execute("link", t98.getUrl());
                            const s7 = [];
                            for (const e167 of r8){
                                const i59 = e167.getUrl();
                                s7.push(i59 || t97.request("file:getProxyUrl", {
                                    file: e167
                                }));
                            }
                            s7.length && Eg(e166, s7);
                        }), t97.on("file:choose:resizedImage", (t98)=>{
                            const i58 = t98.data.resizedUrl;
                            if (i58) Eg(e166, [
                                i58
                            ]);
                            else {
                                const t99 = e166.plugins.get("Notification"), i59 = e166.locale.t;
                                t99.showWarning(i59("Could not obtain resized image URL."), {
                                    title: i59("Selecting resized image failed"),
                                    namespace: "ckfinder"
                                });
                            }
                        });
                    }, window.CKFinder[t96](i57);
                }
            }
            function Eg(e166, t96) {
                if (e166.commands.get("insertImage").isEnabled) e166.execute("insertImage", {
                    source: t96
                });
                else {
                    const t97 = e166.plugins.get("Notification"), i57 = e166.locale.t;
                    t97.showWarning(i57("Could not insert image at the current position."), {
                        title: i57("Inserting image failed"),
                        namespace: "ckfinder"
                    });
                }
            }
            class Ig extends Qe {
                static get pluginName() {
                    return "CKFinderEditing";
                }
                static get requires() {
                    return [
                        Od,
                        "LinkEditing"
                    ];
                }
                init() {
                    const e166 = this.editor;
                    if (!e166.plugins.has("ImageBlockEditing") && !e166.plugins.has("ImageInlineEditing")) throw new c2.a("ckfinder-missing-image-plugin", e166);
                    e166.commands.add("ckfinder", new Tg(e166));
                }
            }
            class Sg extends Qe {
                static get pluginName() {
                    return "CloudServicesUploadAdapter";
                }
                static get requires() {
                    return [
                        "CloudServices",
                        og
                    ];
                }
                init() {
                    const e166 = this.editor, t96 = e166.plugins.get("CloudServices"), i57 = t96.token, n29 = t96.uploadUrl;
                    i57 && (this._uploadGateway = e166.plugins.get("CloudServicesCore").createUploadGateway(i57, n29), e166.plugins.get(og).createUploadAdapter = (e167)=>new Pg(this._uploadGateway, e167)
                    );
                }
            }
            class Pg {
                constructor(e166, t96){
                    this.uploadGateway = e166, this.loader = t96;
                }
                upload() {
                    return this.loader.file.then((e167)=>(this.fileUploader = this.uploadGateway.upload(e167), this.fileUploader.on("progress", (e168, t97)=>{
                            this.loader.uploadTotal = t97.total, this.loader.uploaded = t97.uploaded;
                        }), this.fileUploader.send())
                    );
                }
                abort() {
                    this.fileUploader.abort();
                }
            }
            class Mg extends Ze {
                refresh() {
                    const e167 = this.editor.model, t97 = Ns(e167.document.selection.getSelectedBlocks());
                    this.value = !!t97 && t97.is("element", "paragraph"), this.isEnabled = !!t97 && Ng(t97, e167.schema);
                }
                execute(e = {
                }) {
                    const t97 = this.editor.model, i57 = t97.document;
                    t97.change((n29)=>{
                        const o13 = (e.selection || i57.selection).getSelectedBlocks();
                        for (const e167 of o13)!e167.is("element", "paragraph") && Ng(e167, t97.schema) && n29.rename(e167, "paragraph");
                    });
                }
            }
            function Ng(e167, t97) {
                return t97.checkChild(e167.parent, "paragraph") && !t97.isObject(e167);
            }
            class Rg extends Ze {
                execute(e) {
                    const t97 = this.editor.model;
                    let i57 = e.position;
                    t97.change((e167)=>{
                        const n29 = e167.createElement("paragraph");
                        if (!t97.schema.checkChild(i57.parent, n29)) {
                            const o13 = t97.schema.findAllowedParent(i57, n29);
                            if (!o13) return;
                            i57 = e167.split(i57, o13).position;
                        }
                        t97.insertContent(n29, i57), e167.setSelection(n29, "in");
                    });
                }
            }
            class Og extends Qe {
                static get pluginName() {
                    return "Paragraph";
                }
                init() {
                    const e167 = this.editor, t97 = e167.model;
                    e167.commands.add("paragraph", new Mg(e167)), e167.commands.add("insertParagraph", new Rg(e167)), t97.schema.register("paragraph", {
                        inheritAllFrom: "$block"
                    }), e167.conversion.elementToElement({
                        model: "paragraph",
                        view: "p"
                    }), e167.conversion.for("upcast").elementToElement({
                        model: (e168, { writer: t98  })=>Og.paragraphLikeElements.has(e168.name) ? e168.isEmpty ? null : t98.createElement("paragraph") : null
                        ,
                        view: /.+/,
                        converterPriority: "low"
                    });
                }
            }
            Og.paragraphLikeElements = new Set([
                "blockquote",
                "dd",
                "div",
                "dt",
                "h1",
                "h2",
                "h3",
                "h4",
                "h5",
                "h6",
                "li",
                "p",
                "td",
                "th"
            ]);
            class zg extends Ze {
                constructor(e167, t97){
                    super(e167), this.modelElements = t97;
                }
                refresh() {
                    const e168 = Ns(this.editor.model.document.selection.getSelectedBlocks());
                    this.value = !!e168 && this.modelElements.includes(e168.name) && e168.name, this.isEnabled = !!e168 && this.modelElements.some((t98)=>Dg(e168, t98, this.editor.model.schema)
                    );
                }
                execute(e) {
                    const t98 = this.editor.model, i57 = t98.document, n29 = e.value;
                    t98.change((e168)=>{
                        const o13 = Array.from(i57.selection.getSelectedBlocks()).filter((e169)=>Dg(e169, n29, t98.schema)
                        );
                        for (const t99 of o13)t99.is("element", n29) || e168.rename(t99, n29);
                    });
                }
            }
            function Dg(e168, t98, i57) {
                return i57.checkChild(e168.parent, t98) && !i57.isObject(e168);
            }
            class Lg extends Qe {
                static get pluginName() {
                    return "HeadingEditing";
                }
                constructor(e168){
                    super(e168), e168.config.define("heading", {
                        options: [
                            {
                                model: "paragraph",
                                title: "Paragraph",
                                class: "ck-heading_paragraph"
                            },
                            {
                                model: "heading1",
                                view: "h2",
                                title: "Heading 1",
                                class: "ck-heading_heading1"
                            },
                            {
                                model: "heading2",
                                view: "h3",
                                title: "Heading 2",
                                class: "ck-heading_heading2"
                            },
                            {
                                model: "heading3",
                                view: "h4",
                                title: "Heading 3",
                                class: "ck-heading_heading3"
                            }
                        ]
                    });
                }
                static get requires() {
                    return [
                        Og
                    ];
                }
                init() {
                    const e169 = this.editor, t98 = e169.config.get("heading.options"), i57 = [];
                    for (const n29 of t98)"paragraph" !== n29.model && (e169.model.schema.register(n29.model, {
                        inheritAllFrom: "$block"
                    }), e169.conversion.elementToElement(n29), i57.push(n29.model));
                    this._addDefaultH1Conversion(e169), e169.commands.add("heading", new zg(e169, i57));
                }
                afterInit() {
                    const e169 = this.editor, t98 = e169.commands.get("enter"), i57 = e169.config.get("heading.options");
                    t98 && this.listenTo(t98, "afterExecute", (t99, n29)=>{
                        const o13 = e169.model.document.selection.getFirstPosition().parent;
                        i57.some((e170)=>o13.is("element", e170.model)
                        ) && !o13.is("element", "paragraph") && 0 === o13.childCount && n29.writer.rename(o13, "paragraph");
                    });
                }
                _addDefaultH1Conversion(e) {
                    e.conversion.for("upcast").elementToElement({
                        model: "heading1",
                        view: "h1",
                        converterPriority: a3.get("low") + 1
                    });
                }
            }
            i2(13);
            class Vg extends Qe {
                static get pluginName() {
                    return "HeadingUI";
                }
                init() {
                    const e169 = this.editor, t98 = e169.t, i57 = function(e170) {
                        const t99 = e170.t, i58 = {
                            Paragraph: t99("Paragraph"),
                            "Heading 1": t99("Heading 1"),
                            "Heading 2": t99("Heading 2"),
                            "Heading 3": t99("Heading 3"),
                            "Heading 4": t99("Heading 4"),
                            "Heading 5": t99("Heading 5"),
                            "Heading 6": t99("Heading 6")
                        };
                        return e170.config.get("heading.options").map((e171)=>{
                            const t100 = i58[e171.title];
                            return t100 && t100 != e171.title && (e171.title = t100), e171;
                        });
                    }(e169), n29 = t98("Choose heading"), o13 = t98("Heading");
                    e169.ui.componentFactory.add("heading", (t99)=>{
                        const r8 = {
                        }, s7 = new Zi, a4 = e169.commands.get("heading"), c7 = e169.commands.get("paragraph"), l4 = [
                            a4
                        ];
                        for (const e170 of i57){
                            const t100 = {
                                type: "button",
                                model: new zd({
                                    label: e170.title,
                                    class: e170.class,
                                    withText: !0
                                })
                            };
                            "paragraph" === e170.model ? (t100.model.bind("isOn").to(c7, "value"), t100.model.set("commandName", "paragraph"), l4.push(c7)) : (t100.model.bind("isOn").to(a4, "value", (t101)=>t101 === e170.model
                            ), t100.model.set({
                                commandName: "heading",
                                commandValue: e170.model
                            })), s7.add(t100), r8[e170.model] = e170.title;
                        }
                        const d6 = xd(t99);
                        return Cd(d6, s7), d6.buttonView.set({
                            isOn: !1,
                            withText: !0,
                            tooltip: o13
                        }), d6.extendTemplate({
                            attributes: {
                                class: [
                                    "ck-heading-dropdown"
                                ]
                            }
                        }), d6.bind("isEnabled").toMany(l4, "isEnabled", (...e171)=>e171.some((e172)=>e172
                            )
                        ), d6.buttonView.bind("label").to(a4, "value", c7, "value", (e171, t100)=>{
                            const i58 = e171 || t100 && "paragraph";
                            return r8[i58] ? r8[i58] : n29;
                        }), this.listenTo(d6, "execute", (t100)=>{
                            e169.execute(t100.source.commandName, t100.source.commandValue ? {
                                value: t100.source.commandValue
                            } : void 0), e169.editing.view.focus();
                        }), d6;
                    });
                }
            }
            class jg extends Qe {
                static get requires() {
                    return [
                        Ud
                    ];
                }
                static get pluginName() {
                    return "WidgetToolbarRepository";
                }
                init() {
                    const e169 = this.editor;
                    if (e169.plugins.has("BalloonToolbar")) {
                        const t98 = e169.plugins.get("BalloonToolbar");
                        this.listenTo(t98, "show", (t99)=>{
                            (function(e170) {
                                const t100 = e170.getSelectedElement();
                                return !(!t100 || !Oh(t100));
                            })(e169.editing.view.document.selection) && t99.stop();
                        }, {
                            priority: "high"
                        });
                    }
                    this._toolbarDefinitions = new Map, this._balloon = this.editor.plugins.get("ContextualBalloon"), this.on("change:isEnabled", ()=>{
                        this._updateToolbarsVisibility();
                    }), this.listenTo(e169.ui, "update", ()=>{
                        this._updateToolbarsVisibility();
                    }), this.listenTo(e169.ui.focusTracker, "change:isFocused", ()=>{
                        this._updateToolbarsVisibility();
                    }, {
                        priority: "low"
                    });
                }
                destroy() {
                    super.destroy();
                    for (const e169 of this._toolbarDefinitions.values())e169.view.destroy();
                }
                register(e, { ariaLabel: t , items: i , getRelatedElement: n , balloonClassName: o = "ck-toolbar-container"  }) {
                    if (!i.length) return void Object(c2.b)("widget-toolbar-no-items", {
                        toolbarId: e
                    });
                    const r8 = this.editor, s7 = r8.t, a4 = new pd(r8.locale);
                    if (a4.ariaLabel = t || s7("Widget toolbar"), this._toolbarDefinitions.has(e)) throw new c2.a("widget-toolbar-duplicated", this, {
                        toolbarId: e
                    });
                    a4.fillFromConfig(i, r8.ui.componentFactory), this._toolbarDefinitions.set(e, {
                        view: a4,
                        getRelatedElement: n,
                        balloonClassName: o
                    });
                }
                _updateToolbarsVisibility() {
                    let e169 = 0, t98 = null, i57 = null;
                    for (const n29 of this._toolbarDefinitions.values()){
                        const o13 = n29.getRelatedElement(this.editor.editing.view.document.selection);
                        if (this.isEnabled && o13) {
                            if (this.editor.ui.focusTracker.isFocused) {
                                const r8 = o13.getAncestors().length;
                                r8 > e169 && (e169 = r8, t98 = o13, i57 = n29);
                            } else this._isToolbarVisible(n29) && this._hideToolbar(n29);
                        } else this._isToolbarInBalloon(n29) && this._hideToolbar(n29);
                    }
                    i57 && this._showToolbar(i57, t98);
                }
                _hideToolbar(e) {
                    this._balloon.remove(e.view), this.stopListening(this._balloon, "change:visibleView");
                }
                _showToolbar(e, t) {
                    this._isToolbarVisible(e) ? Bg(this.editor, t) : this._isToolbarInBalloon(e) || (this._balloon.add({
                        view: e.view,
                        position: Fg(this.editor, t),
                        balloonClassName: e.balloonClassName
                    }), this.listenTo(this._balloon, "change:visibleView", ()=>{
                        for (const e169 of this._toolbarDefinitions.values())if (this._isToolbarVisible(e169)) {
                            const t98 = e169.getRelatedElement(this.editor.editing.view.document.selection);
                            Bg(this.editor, t98);
                        }
                    }));
                }
                _isToolbarVisible(e) {
                    return this._balloon.visibleView === e.view;
                }
                _isToolbarInBalloon(e) {
                    return this._balloon.hasView(e.view);
                }
            }
            function Bg(e169, t98) {
                const i57 = e169.plugins.get("ContextualBalloon"), n29 = Fg(e169, t98);
                i57.updatePosition(n29);
            }
            function Fg(e169, t98) {
                const i57 = e169.editing.view, n29 = Vd.defaultPositions;
                return {
                    target: i57.domConverter.mapViewToDom(t98),
                    positions: [
                        n29.northArrowSouth,
                        n29.northArrowSouthWest,
                        n29.northArrowSouthEast,
                        n29.southArrowNorth,
                        n29.southArrowNorthWest,
                        n29.southArrowNorthEast,
                        Hh
                    ]
                };
            }
            class Hg {
                constructor(e169){
                    this.set("activeHandlePosition", null), this.set("proposedWidthPercents", null), this.set("proposedWidth", null), this.set("proposedHeight", null), this.set("proposedHandleHostWidth", null), this.set("proposedHandleHostHeight", null), this._options = e169, this._referenceCoordinates = null;
                }
                begin(e, t, i) {
                    const n29 = new Ts(t);
                    this.activeHandlePosition = (function(e170) {
                        const t98 = [
                            "top-left",
                            "top-right",
                            "bottom-right",
                            "bottom-left"
                        ];
                        for (const i57 of t98)if (e170.classList.contains("ck-widget__resizer__handle-" + i57)) return i57;
                    })(e), this._referenceCoordinates = (function(e170, t98) {
                        const i57 = new Ts(e170), n30 = t98.split("-"), o13 = {
                            x: "right" == n30[1] ? i57.right : i57.left,
                            y: "bottom" == n30[0] ? i57.bottom : i57.top
                        };
                        return o13.x += e170.ownerDocument.defaultView.scrollX, o13.y += e170.ownerDocument.defaultView.scrollY, o13;
                    })(t, function(e170) {
                        const t98 = e170.split("-"), i57 = {
                            top: "bottom",
                            bottom: "top",
                            left: "right",
                            right: "left"
                        };
                        return `${i57[t98[0]]}-${i57[t98[1]]}`;
                    }(this.activeHandlePosition)), this.originalWidth = n29.width, this.originalHeight = n29.height, this.aspectRatio = n29.width / n29.height;
                    const o13 = i.style.width;
                    o13 && o13.match(/^\d+(\.\d*)?%$/) ? this.originalWidthPercents = parseFloat(o13) : this.originalWidthPercents = (function(e170, t98) {
                        const i57 = e170.parentElement, n30 = parseFloat(i57.ownerDocument.defaultView.getComputedStyle(i57).width);
                        return t98.width / n30 * 100;
                    })(i, n29);
                }
                update(e) {
                    this.proposedWidth = e.width, this.proposedHeight = e.height, this.proposedWidthPercents = e.widthPercents, this.proposedHandleHostWidth = e.handleHostWidth, this.proposedHandleHostHeight = e.handleHostHeight;
                }
            }
            Ke(Hg, Ue);
            class Ug extends Ml {
                constructor(){
                    super();
                    const e170 = this.bindTemplate;
                    this.setTemplate({
                        tag: "div",
                        attributes: {
                            class: [
                                "ck",
                                "ck-size-view",
                                e170.to("_viewPosition", (e171)=>e171 ? "ck-orientation-" + e171 : ""
                                )
                            ],
                            style: {
                                display: e170.if("_isVisible", "none", (e171)=>!e171
                                )
                            }
                        },
                        children: [
                            {
                                text: e170.to("_label")
                            }
                        ]
                    });
                }
                _bindToState(e, t) {
                    this.bind("_isVisible").to(t, "proposedWidth", t, "proposedHeight", (e171, t98)=>null !== e171 && null !== t98
                    ), this.bind("_label").to(t, "proposedHandleHostWidth", t, "proposedHandleHostHeight", t, "proposedWidthPercents", (t98, i57, n29)=>"px" === e.unit ? `${t98}×${i57}` : n29 + "%"
                    ), this.bind("_viewPosition").to(t, "activeHandlePosition", t, "proposedHandleHostWidth", t, "proposedHandleHostHeight", (e171, t98, i57)=>t98 < 50 || i57 < 50 ? "above-center" : e171
                    );
                }
                _dismiss() {
                    this.unbind(), this._isVisible = !1;
                }
            }
            class Wg {
                constructor(e171){
                    this._options = e171, this._viewResizerWrapper = null, this.set("isEnabled", !0), this.decorate("begin"), this.decorate("cancel"), this.decorate("commit"), this.decorate("updateSize"), this.on("commit", (e172)=>{
                        this.state.proposedWidth || this.state.proposedWidthPercents || (this._cleanup(), e172.stop());
                    }, {
                        priority: "high"
                    }), this.on("change:isEnabled", ()=>{
                        this.isEnabled && this.redraw();
                    });
                }
                attach() {
                    const e172 = this, t98 = this._options.viewElement;
                    this._options.editor.editing.view.change((i57)=>{
                        const n29 = i57.createUIElement("div", {
                            class: "ck ck-reset_all ck-widget__resizer"
                        }, function(t99) {
                            const i58 = this.toDomElement(t99);
                            return e172._appendHandles(i58), e172._appendSizeUI(i58), e172.on("change:isEnabled", (e173, t100, n30)=>{
                                i58.style.display = n30 ? "" : "none";
                            }), i58.style.display = e172.isEnabled ? "" : "none", i58;
                        });
                        i57.insert(i57.createPositionAt(t98, "end"), n29), i57.addClass("ck-widget_with-resizer", t98), this._viewResizerWrapper = n29;
                    });
                }
                begin(e) {
                    this.state = new Hg(this._options), this._sizeView._bindToState(this._options, this.state), this._initialViewWidth = this._options.viewElement.getStyle("width"), this.state.begin(e, this._getHandleHost(), this._getResizeHost());
                }
                updateSize(e) {
                    const t98 = this._proposeNewSize(e);
                    this._options.editor.editing.view.change((e172)=>{
                        const i57 = this._options.unit || "%", n29 = ("%" === i57 ? t98.widthPercents : t98.width) + i57;
                        e172.setStyle("width", n29, this._options.viewElement);
                    });
                    const i57 = this._getHandleHost(), n29 = new Ts(i57);
                    t98.handleHostWidth = Math.round(n29.width), t98.handleHostHeight = Math.round(n29.height);
                    const o13 = new Ts(i57);
                    t98.width = Math.round(o13.width), t98.height = Math.round(o13.height), this.redraw(n29), this.state.update(t98);
                }
                commit() {
                    const e172 = this._options.unit || "%", t98 = ("%" === e172 ? this.state.proposedWidthPercents : this.state.proposedWidth) + e172;
                    this._options.editor.editing.view.change(()=>{
                        this._cleanup(), this._options.onCommit(t98);
                    });
                }
                cancel() {
                    this._cleanup();
                }
                destroy() {
                    this.cancel();
                }
                redraw(e) {
                    const t98 = this._domResizerWrapper;
                    if (!((i57 = t98) && i57.ownerDocument && i57.ownerDocument.contains(i57))) return;
                    var i57;
                    const n29 = t98.parentElement, o13 = this._getHandleHost(), r8 = this._viewResizerWrapper, s7 = [
                        r8.getStyle("width"),
                        r8.getStyle("height"),
                        r8.getStyle("left"),
                        r8.getStyle("top")
                    ];
                    let a4;
                    if (n29.isSameNode(o13)) {
                        const t99 = e || new Ts(o13);
                        a4 = [
                            t99.width + "px",
                            t99.height + "px",
                            void 0,
                            void 0
                        ];
                    } else a4 = [
                        o13.offsetWidth + "px",
                        o13.offsetHeight + "px",
                        o13.offsetLeft + "px",
                        o13.offsetTop + "px"
                    ];
                    "same" !== cn(s7, a4) && this._options.editor.editing.view.change((e172)=>{
                        e172.setStyle({
                            width: a4[0],
                            height: a4[1],
                            left: a4[2],
                            top: a4[3]
                        }, r8);
                    });
                }
                containsHandle(e) {
                    return this._domResizerWrapper.contains(e);
                }
                static isResizeHandle(e) {
                    return e.classList.contains("ck-widget__resizer__handle");
                }
                _cleanup() {
                    this._sizeView._dismiss();
                    this._options.editor.editing.view.change((e172)=>{
                        e172.setStyle("width", this._initialViewWidth, this._options.viewElement);
                    });
                }
                _proposeNewSize(e) {
                    const t98 = this.state, i58 = {
                        x: (n29 = e).pageX,
                        y: n29.pageY
                    };
                    var n29;
                    const o13 = !this._options.isCentered || this._options.isCentered(this), r8 = {
                        x: t98._referenceCoordinates.x - (i58.x + t98.originalWidth),
                        y: i58.y - t98.originalHeight - t98._referenceCoordinates.y
                    };
                    o13 && t98.activeHandlePosition.endsWith("-right") && (r8.x = i58.x - (t98._referenceCoordinates.x + t98.originalWidth)), o13 && (r8.x *= 2);
                    const s7 = {
                        width: Math.abs(t98.originalWidth + r8.x),
                        height: Math.abs(t98.originalHeight + r8.y)
                    };
                    s7.dominant = s7.width / t98.aspectRatio > s7.height ? "width" : "height", s7.max = s7[s7.dominant];
                    const a4 = {
                        width: s7.width,
                        height: s7.height
                    };
                    return "width" == s7.dominant ? a4.height = a4.width / t98.aspectRatio : a4.width = a4.height * t98.aspectRatio, {
                        width: Math.round(a4.width),
                        height: Math.round(a4.height),
                        widthPercents: Math.min(Math.round(t98.originalWidthPercents / t98.originalWidth * a4.width * 100) / 100, 100)
                    };
                }
                _getResizeHost() {
                    const e172 = this._domResizerWrapper.parentElement;
                    return this._options.getResizeHost(e172);
                }
                _getHandleHost() {
                    const e172 = this._domResizerWrapper.parentElement;
                    return this._options.getHandleHost(e172);
                }
                get _domResizerWrapper() {
                    return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper);
                }
                _appendHandles(e) {
                    const t98 = [
                        "top-left",
                        "top-right",
                        "bottom-right",
                        "bottom-left"
                    ];
                    for (const n30 of t98)e.appendChild(new Nl({
                        tag: "div",
                        attributes: {
                            class: "ck-widget__resizer__handle " + (i58 = n30, "ck-widget__resizer__handle-" + i58)
                        }
                    }).render());
                    var i58;
                }
                _appendSizeUI(e) {
                    this._sizeView = new Ug, this._sizeView.render(), e.appendChild(this._sizeView.element);
                }
            }
            Ke(Wg, Ue);
            i2(72);
            Ke(class extends Qe {
                static get pluginName() {
                    return "WidgetResize";
                }
                init() {
                    const e172 = this.editor.editing, t98 = vr.window.document;
                    this.set("visibleResizer", null), this.set("_activeResizer", null), this._resizers = new Map, e172.view.addObserver(uh), this._observer = Object.create(Mr), this.listenTo(e172.view.document, "mousedown", this._mouseDownListener.bind(this), {
                        priority: "high"
                    }), this._observer.listenTo(t98, "mousemove", this._mouseMoveListener.bind(this)), this._observer.listenTo(t98, "mouseup", this._mouseUpListener.bind(this));
                    const i59 = ()=>{
                        this.visibleResizer && this.visibleResizer.redraw();
                    };
                    this._redrawFocusedResizerThrottled = iu(i59, 200), this.on("change:visibleResizer", i59), this.editor.ui.on("update", this._redrawFocusedResizerThrottled), this.editor.model.document.on("change", ()=>{
                        for (const [e173, t99] of this._resizers)e173.isAttached() || (this._resizers.delete(e173), t99.destroy());
                    }, {
                        priority: "lowest"
                    }), this._observer.listenTo(vr.window, "resize", this._redrawFocusedResizerThrottled);
                    const n30 = this.editor.editing.view.document.selection;
                    n30.on("change", ()=>{
                        const e173 = n30.getSelectedElement();
                        this.visibleResizer = this.getResizerByViewElement(e173) || null;
                    });
                }
                destroy() {
                    this._observer.stopListening();
                    for (const e172 of this._resizers.values())e172.destroy();
                    this._redrawFocusedResizerThrottled.cancel();
                }
                attachTo(e) {
                    const t98 = new Wg(e), i59 = this.editor.plugins;
                    if (t98.attach(), i59.has("WidgetToolbarRepository")) {
                        const e172 = i59.get("WidgetToolbarRepository");
                        t98.on("begin", ()=>{
                            e172.forceDisabled("resize");
                        }, {
                            priority: "lowest"
                        }), t98.on("cancel", ()=>{
                            e172.clearForceDisabled("resize");
                        }, {
                            priority: "highest"
                        }), t98.on("commit", ()=>{
                            e172.clearForceDisabled("resize");
                        }, {
                            priority: "highest"
                        });
                    }
                    this._resizers.set(e.viewElement, t98);
                    const n30 = this.editor.editing.view.document.selection.getSelectedElement();
                    return this.getResizerByViewElement(n30) == t98 && (this.visibleResizer = t98), t98;
                }
                getResizerByViewElement(e) {
                    return this._resizers.get(e);
                }
                _getResizerByHandle(e) {
                    for (const t98 of this._resizers.values())if (t98.containsHandle(e)) return t98;
                }
                _mouseDownListener(e, t) {
                    const i59 = t.domTarget;
                    Wg.isResizeHandle(i59) && (this._activeResizer = this._getResizerByHandle(i59), this._activeResizer && (this._activeResizer.begin(i59), e.stop(), t.preventDefault()));
                }
                _mouseMoveListener(e, t) {
                    this._activeResizer && this._activeResizer.updateSize(t);
                }
                _mouseUpListener() {
                    this._activeResizer && (this._activeResizer.commit(), this._activeResizer = null);
                }
            }, Ue);
            class qg extends Ze {
                refresh() {
                    const e172 = this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);
                    this.isEnabled = !!e172, this.isEnabled && e172.hasAttribute("alt") ? this.value = e172.getAttribute("alt") : this.value = !1;
                }
                execute(e) {
                    const t98 = this.editor, i59 = t98.plugins.get("ImageUtils"), n30 = t98.model, o13 = i59.getClosestSelectedImageElement(n30.document.selection);
                    n30.change((t99)=>{
                        t99.setAttribute("alt", e.newValue, o13);
                    });
                }
            }
            function $g(e172, t98) {
                const i59 = e172.createEmptyElement("img"), n30 = "imageBlock" === t98 ? e172.createContainerElement("figure", {
                    class: "image"
                }) : e172.createContainerElement("span", {
                    class: "image-inline"
                }, {
                    isAllowedInsideAttributeElement: !0
                });
                return e172.insert(e172.createPositionAt(n30, 0), i59), n30;
            }
            function Yg(e172, t98) {
                if (e172.plugins.has("ImageInlineEditing") !== e172.plugins.has("ImageBlockEditing")) return {
                    name: "img",
                    attributes: {
                        src: !0
                    }
                };
                const i59 = e172.plugins.get("ImageUtils");
                return (e173)=>{
                    if (!i59.isInlineImageView(e173) || !e173.hasAttribute("src")) return null;
                    return (e173.findAncestor(i59.isBlockImageView) ? "imageBlock" : "imageInline") !== t98 ? null : {
                        name: !0,
                        attributes: [
                            "src"
                        ]
                    };
                };
            }
            function Gg(e172, t98) {
                const i59 = Ns(t98.getSelectedBlocks());
                return !i59 || e172.isObject(i59) || i59.isEmpty && "listItem" != i59.name ? "imageBlock" : "imageInline";
            }
            class Kg extends Qe {
                static get pluginName() {
                    return "ImageUtils";
                }
                isImage(e) {
                    return this.isInlineImage(e) || this.isBlockImage(e);
                }
                isInlineImageView(e) {
                    return !!e && e.is("element", "img");
                }
                isBlockImageView(e) {
                    return !!e && e.is("element", "figure") && e.hasClass("image");
                }
                insertImage(e = {
                }, t = null, i = null) {
                    const n30 = this.editor, o13 = n30.model, r8 = o13.document.selection;
                    i = Qg(n30, t || r8, i), e = {
                        ...Object.fromEntries(r8.getAttributes()),
                        ...e
                    };
                    for(const t98 in e)o13.schema.checkAttribute(i, t98) || delete e[t98];
                    return o13.change((n31)=>{
                        const s7 = n31.createElement(i, e);
                        return t || "imageInline" == i || (t = Fh(r8, o13)), o13.insertContent(s7, t), s7.parent ? (n31.setSelection(s7, "on"), s7) : null;
                    });
                }
                getClosestSelectedImageWidget(e) {
                    const t98 = e.getSelectedElement();
                    if (t98 && this.isImageWidget(t98)) return t98;
                    let i59 = e.getFirstPosition().parent;
                    for(; i59;){
                        if (i59.is("element") && this.isImageWidget(i59)) return i59;
                        i59 = i59.parent;
                    }
                    return null;
                }
                getClosestSelectedImageElement(e) {
                    const t98 = e.getSelectedElement();
                    return this.isImage(t98) ? t98 : e.getFirstPosition().findAncestor("imageBlock");
                }
                isImageAllowed() {
                    const e172 = this.editor.model.document.selection;
                    return (function(e173, t98) {
                        if ("imageBlock" == Qg(e173, t98)) {
                            const i59 = function(e174, t99) {
                                const i60 = Fh(e174, t99).start.parent;
                                if (i60.isEmpty && !i60.is("element", "$root")) return i60.parent;
                                return i60;
                            }(t98, e173.model);
                            if (e173.model.schema.checkChild(i59, "imageBlock")) return !0;
                        } else if (e173.model.schema.checkChild(t98.focus, "imageInline")) return !0;
                        return !1;
                    })(this.editor, e172) && (function(e173) {
                        return [
                            ...e173.focus.getAncestors()
                        ].every((e174)=>!e174.is("element", "imageBlock")
                        );
                    })(e172);
                }
                toImageWidget(e, t, i) {
                    t.setCustomProperty("image", !0, e);
                    return zh(e, t, {
                        label: ()=>{
                            const t98 = this.findViewImgElement(e).getAttribute("alt");
                            return t98 ? `${t98} ${i}` : i;
                        }
                    });
                }
                isImageWidget(e) {
                    return !!e.getCustomProperty("image") && Oh(e);
                }
                isBlockImage(e) {
                    return !!e && e.is("element", "imageBlock");
                }
                isInlineImage(e) {
                    return !!e && e.is("element", "imageInline");
                }
                findViewImgElement(e) {
                    if (this.isInlineImageView(e)) return e;
                    const t98 = this.editor.editing.view;
                    for (const { item: i59  } of t98.createRangeIn(e))if (this.isInlineImageView(i59)) return i59;
                }
            }
            function Qg(e172, t98, i59) {
                const n30 = e172.model.schema, o13 = e172.config.get("image.insert.type");
                return e172.plugins.has("ImageBlockEditing") ? e172.plugins.has("ImageInlineEditing") ? i59 || ("inline" === o13 ? "imageInline" : "block" === o13 ? "imageBlock" : t98.is("selection") ? Gg(n30, t98) : n30.checkChild(t98, "imageInline") ? "imageInline" : "imageBlock") : "imageBlock" : "imageInline";
            }
            class Jg extends Qe {
                static get requires() {
                    return [
                        Kg
                    ];
                }
                static get pluginName() {
                    return "ImageTextAlternativeEditing";
                }
                init() {
                    this.editor.commands.add("imageTextAlternative", new qg(this.editor));
                }
            }
            i2(74), i2(7);
            class Zg extends Ml {
                constructor(e172){
                    super(e172);
                    const t98 = this.locale.t;
                    this.focusTracker = new Rs, this.keystrokes = new Os, this.labeledInput = this._createLabeledInputView(), this.saveButtonView = this._createButton(t98("Save"), Tl.check, "ck-button-save"), this.saveButtonView.type = "submit", this.cancelButtonView = this._createButton(t98("Cancel"), Tl.cancel, "ck-button-cancel", "cancel"), this._focusables = new Pl, this._focusCycler = new id({
                        focusables: this._focusables,
                        focusTracker: this.focusTracker,
                        keystrokeHandler: this.keystrokes,
                        actions: {
                            focusPrevious: "shift + tab",
                            focusNext: "tab"
                        }
                    }), this.setTemplate({
                        tag: "form",
                        attributes: {
                            class: [
                                "ck",
                                "ck-text-alternative-form",
                                "ck-responsive-form"
                            ],
                            tabindex: "-1"
                        },
                        children: [
                            this.labeledInput,
                            this.saveButtonView,
                            this.cancelButtonView
                        ]
                    }), Il(this);
                }
                render() {
                    super.render(), this.keystrokes.listenTo(this.element), Sl({
                        view: this
                    }), [
                        this.labeledInput,
                        this.saveButtonView,
                        this.cancelButtonView
                    ].forEach((e173)=>{
                        this._focusables.add(e173), this.focusTracker.add(e173.element);
                    });
                }
                _createButton(e, t, i, n) {
                    const o13 = new ed(this.locale);
                    return o13.set({
                        label: e,
                        icon: t,
                        tooltip: !0
                    }), o13.extendTemplate({
                        attributes: {
                            class: i
                        }
                    }), n && o13.delegate("execute").to(this, n), o13;
                }
                _createLabeledInputView() {
                    const e173 = this.locale.t, t99 = new Nd(this.locale, Rd);
                    return t99.label = e173("Text alternative"), t99;
                }
            }
            function Xg(e173) {
                const t99 = e173.editing.view, i59 = Vd.defaultPositions, n30 = e173.plugins.get("ImageUtils");
                return {
                    target: t99.domConverter.viewToDom(n30.getClosestSelectedImageWidget(t99.document.selection)),
                    positions: [
                        i59.northArrowSouth,
                        i59.northArrowSouthWest,
                        i59.northArrowSouthEast,
                        i59.southArrowNorth,
                        i59.southArrowNorthWest,
                        i59.southArrowNorthEast
                    ]
                };
            }
            class em extends Qe {
                static get requires() {
                    return [
                        Ud
                    ];
                }
                static get pluginName() {
                    return "ImageTextAlternativeUI";
                }
                init() {
                    this._createButton(), this._createForm();
                }
                destroy() {
                    super.destroy(), this._form.destroy();
                }
                _createButton() {
                    const e173 = this.editor, t99 = e173.t;
                    e173.ui.componentFactory.add("imageTextAlternative", (i59)=>{
                        const n30 = e173.commands.get("imageTextAlternative"), o13 = new ed(i59);
                        return o13.set({
                            label: t99("Change image text alternative"),
                            icon: Tl.lowVision,
                            tooltip: !0
                        }), o13.bind("isEnabled").to(n30, "isEnabled"), this.listenTo(o13, "execute", ()=>{
                            this._showForm();
                        }), o13;
                    });
                }
                _createForm() {
                    const e173 = this.editor, t99 = e173.editing.view.document, i59 = e173.plugins.get("ImageUtils");
                    this._balloon = this.editor.plugins.get("ContextualBalloon"), this._form = new Zg(e173.locale), this._form.render(), this.listenTo(this._form, "submit", ()=>{
                        e173.execute("imageTextAlternative", {
                            newValue: this._form.labeledInput.fieldView.element.value
                        }), this._hideForm(!0);
                    }), this.listenTo(this._form, "cancel", ()=>{
                        this._hideForm(!0);
                    }), this._form.keystrokes.set("Esc", (e174, t100)=>{
                        this._hideForm(!0), t100();
                    }), this.listenTo(e173.ui, "update", ()=>{
                        i59.getClosestSelectedImageWidget(t99.selection) ? this._isVisible && (function(e174) {
                            const t100 = e174.plugins.get("ContextualBalloon");
                            if (e174.plugins.get("ImageUtils").getClosestSelectedImageWidget(e174.editing.view.document.selection)) {
                                const i60 = Xg(e174);
                                t100.updatePosition(i60);
                            }
                        })(e173) : this._hideForm(!0);
                    }), El({
                        emitter: this._form,
                        activator: ()=>this._isVisible
                        ,
                        contextElements: [
                            this._balloon.view.element
                        ],
                        callback: ()=>this._hideForm()
                    });
                }
                _showForm() {
                    if (this._isVisible) return;
                    const e173 = this.editor, t99 = e173.commands.get("imageTextAlternative"), i59 = this._form.labeledInput;
                    this._form.disableCssTransitions(), this._isInBalloon || this._balloon.add({
                        view: this._form,
                        position: Xg(e173)
                    }), i59.fieldView.value = i59.fieldView.element.value = t99.value || "", this._form.labeledInput.fieldView.select(), this._form.enableCssTransitions();
                }
                _hideForm(e) {
                    this._isInBalloon && (this._form.focusTracker.isFocused && this._form.saveButtonView.focus(), this._balloon.remove(this._form), e && this.editor.editing.view.focus());
                }
                get _isVisible() {
                    return this._balloon.visibleView === this._form;
                }
                get _isInBalloon() {
                    return this._balloon.hasView(this._form);
                }
            }
            class tm extends Qe {
                static get requires() {
                    return [
                        Jg,
                        em
                    ];
                }
                static get pluginName() {
                    return "ImageTextAlternative";
                }
            }
            function im(e173, t99) {
                function i59(t100, i60, n30) {
                    if (!n30.consumable.consume(i60.item, t100.name)) return;
                    const o13 = n30.writer, r8 = n30.mapper.toViewElement(i60.item), s7 = e173.findViewImgElement(r8);
                    if (null === i60.attributeNewValue) {
                        const e174 = i60.attributeOldValue;
                        e174.data && (o13.removeAttribute("srcset", s7), o13.removeAttribute("sizes", s7), e174.width && o13.removeAttribute("width", s7));
                    } else {
                        const e174 = i60.attributeNewValue;
                        e174.data && (o13.setAttribute("srcset", e174.data, s7), o13.setAttribute("sizes", "100vw", s7), e174.width && o13.setAttribute("width", e174.width, s7));
                    }
                }
                return (e174)=>{
                    e174.on("attribute:srcset:" + t99, i59);
                };
            }
            function nm(e173, t99, i59) {
                function n30(t100, i60, n31) {
                    if (!n31.consumable.consume(i60.item, t100.name)) return;
                    const o13 = n31.writer, r8 = n31.mapper.toViewElement(i60.item), s7 = e173.findViewImgElement(r8);
                    o13.setAttribute(i60.attributeKey, i60.attributeNewValue || "", s7);
                }
                return (e174)=>{
                    e174.on(`attribute:${i59}:${t99}`, n30);
                };
            }
            class om extends Or {
                observe(e) {
                    this.listenTo(e, "load", (e173, t99)=>{
                        const i59 = t99.target;
                        this.checkShouldIgnoreEventFromTarget(i59) || "IMG" == i59.tagName && this._fireEvents(t99);
                    }, {
                        useCapture: !0
                    });
                }
                _fireEvents(e) {
                    this.isEnabled && (this.document.fire("layoutChanged"), this.document.fire("imageLoaded", e));
                }
            }
            class rm extends Ze {
                constructor(e173){
                    super(e173);
                    const t99 = e173.config.get("image.insert.type");
                    e173.plugins.has("ImageBlockEditing") || "block" === t99 && Object(c2.b)("image-block-plugin-required"), e173.plugins.has("ImageInlineEditing") || "inline" === t99 && Object(c2.b)("image-inline-plugin-required");
                }
                refresh() {
                    this.isEnabled = this.editor.plugins.get("ImageUtils").isImageAllowed();
                }
                execute(e) {
                    const t100 = en(e.source), i59 = this.editor.model.document.selection, n30 = this.editor.plugins.get("ImageUtils"), o13 = Object.fromEntries(i59.getAttributes());
                    t100.forEach((e174, t101)=>{
                        const r8 = i59.getSelectedElement();
                        if ("string" == typeof e174 && (e174 = {
                            src: e174
                        }), t101 && r8 && n30.isImage(r8)) {
                            const t102 = this.editor.model.createPositionAfter(r8);
                            n30.insertImage({
                                ...e174,
                                ...o13
                            }, t102);
                        } else n30.insertImage({
                            ...e174,
                            ...o13
                        });
                    });
                }
            }
            class sm extends Qe {
                static get requires() {
                    return [
                        Kg
                    ];
                }
                static get pluginName() {
                    return "ImageEditing";
                }
                init() {
                    const e174 = this.editor, t100 = e174.conversion;
                    e174.editing.view.addObserver(om), t100.for("upcast").attributeToAttribute({
                        view: {
                            name: "img",
                            key: "alt"
                        },
                        model: "alt"
                    }).attributeToAttribute({
                        view: {
                            name: "img",
                            key: "srcset"
                        },
                        model: {
                            key: "srcset",
                            value: (e175)=>{
                                const t101 = {
                                    data: e175.getAttribute("srcset")
                                };
                                return e175.hasAttribute("width") && (t101.width = e175.getAttribute("width")), t101;
                            }
                        }
                    });
                    const i59 = new rm(e174);
                    e174.commands.add("insertImage", i59), e174.commands.add("imageInsert", i59);
                }
            }
            class am extends Ze {
                constructor(e174, t100){
                    super(e174), this._modelElementName = t100;
                }
                refresh() {
                    const e175 = this.editor.plugins.get("ImageUtils"), t101 = e175.getClosestSelectedImageElement(this.editor.model.document.selection);
                    "imageBlock" === this._modelElementName ? this.isEnabled = e175.isInlineImage(t101) : this.isEnabled = e175.isBlockImage(t101);
                }
                execute() {
                    const e175 = this.editor, t101 = this.editor.model, i59 = e175.plugins.get("ImageUtils"), n30 = i59.getClosestSelectedImageElement(t101.document.selection), o13 = Object.fromEntries(n30.getAttributes());
                    return o13.src || o13.uploadId ? t101.change((e176)=>{
                        const r8 = Array.from(t101.markers).filter((e177)=>e177.getRange().containsItem(n30)
                        ), s7 = i59.insertImage(o13, t101.createSelection(n30, "on"), this._modelElementName);
                        if (!s7) return null;
                        const a4 = e176.createRangeOn(s7);
                        for (const t102 of r8){
                            const i60 = t102.getRange(), n31 = "$graveyard" != i60.root.rootName ? i60.getJoined(a4, !0) : a4;
                            e176.updateMarker(t102, {
                                range: n31
                            });
                        }
                        return {
                            oldElement: n30,
                            newElement: s7
                        };
                    }) : null;
                }
            }
            class cm extends Qe {
                static get requires() {
                    return [
                        sm,
                        Kg,
                        _h
                    ];
                }
                static get pluginName() {
                    return "ImageBlockEditing";
                }
                init() {
                    const e175 = this.editor;
                    e175.model.schema.register("imageBlock", {
                        isObject: !0,
                        isBlock: !0,
                        allowWhere: "$block",
                        allowAttributes: [
                            "alt",
                            "src",
                            "srcset"
                        ]
                    }), this._setupConversion(), e175.plugins.has("ImageInlineEditing") && (e175.commands.add("imageTypeBlock", new am(this.editor, "imageBlock")), this._setupClipboardIntegration());
                }
                _setupConversion() {
                    const e175 = this.editor, t101 = e175.t, i59 = e175.conversion, n30 = e175.plugins.get("ImageUtils");
                    i59.for("dataDowncast").elementToElement({
                        model: "imageBlock",
                        view: (e176, { writer: t102  })=>$g(t102, "imageBlock")
                    }), i59.for("editingDowncast").elementToElement({
                        model: "imageBlock",
                        view: (e176, { writer: i60  })=>n30.toImageWidget($g(i60, "imageBlock"), i60, t101("image widget"))
                    }), i59.for("downcast").add(nm(n30, "imageBlock", "src")).add(nm(n30, "imageBlock", "alt")).add(im(n30, "imageBlock")), i59.for("upcast").elementToElement({
                        view: Yg(e175, "imageBlock"),
                        model: (e176, { writer: t102  })=>t102.createElement("imageBlock", {
                                src: e176.getAttribute("src")
                            })
                    }).add(function(e176) {
                        function t102(t103, i60, n31) {
                            if (!n31.consumable.test(i60.viewItem, {
                                name: !0,
                                classes: "image"
                            })) return;
                            const o13 = e176.findViewImgElement(i60.viewItem);
                            if (!o13 || !o13.hasAttribute("src") || !n31.consumable.test(o13, {
                                name: !0
                            })) return;
                            const r8 = Ns(n31.convertItem(o13, i60.modelCursor).modelRange.getItems());
                            r8 && (n31.convertChildren(i60.viewItem, r8), n31.updateConversionResult(r8, i60));
                        }
                        return (e177)=>{
                            e177.on("element:figure", t102);
                        };
                    }(n30));
                }
                _setupClipboardIntegration() {
                    const e175 = this.editor, t101 = e175.model, i59 = e175.editing.view, n30 = e175.plugins.get("ImageUtils");
                    this.listenTo(e175.plugins.get("ClipboardPipeline"), "inputTransformation", (o13, r8)=>{
                        const s7 = Array.from(r8.content.getChildren());
                        let a4;
                        if (!s7.every(n30.isInlineImageView)) return;
                        a4 = r8.targetRanges ? e175.editing.mapper.toModelRange(r8.targetRanges[0]) : t101.document.selection.getFirstRange();
                        const c7 = t101.createSelection(a4);
                        if ("imageBlock" === Gg(t101.schema, c7)) {
                            const e176 = new gh(i59.document), t102 = s7.map((t103)=>e176.createElement("figure", {
                                    class: "image"
                                }, t103)
                            );
                            r8.content = e176.createDocumentFragment(t102);
                        }
                    });
                }
            }
            i2(11);
            class lm extends Qe {
                static get requires() {
                    return [
                        cm,
                        eu,
                        tm
                    ];
                }
                static get pluginName() {
                    return "ImageBlock";
                }
            }
            class dm extends Qe {
                static get requires() {
                    return [
                        sm,
                        Kg,
                        _h
                    ];
                }
                static get pluginName() {
                    return "ImageInlineEditing";
                }
                init() {
                    const e175 = this.editor, t101 = e175.model.schema;
                    t101.register("imageInline", {
                        isObject: !0,
                        isInline: !0,
                        allowWhere: "$text",
                        allowAttributes: [
                            "alt",
                            "src",
                            "srcset"
                        ]
                    }), t101.addChildCheck((e176, t102)=>{
                        if (e176.endsWith("caption") && "imageInline" === t102.name) return !1;
                    }), this._setupConversion(), e175.plugins.has("ImageBlockEditing") && (e175.commands.add("imageTypeInline", new am(this.editor, "imageInline")), this._setupClipboardIntegration());
                }
                _setupConversion() {
                    const e175 = this.editor, t101 = e175.t, i59 = e175.conversion, n30 = e175.plugins.get("ImageUtils");
                    i59.for("dataDowncast").elementToElement({
                        model: "imageInline",
                        view: (e176, { writer: t102  })=>t102.createEmptyElement("img")
                    }), i59.for("editingDowncast").elementToElement({
                        model: "imageInline",
                        view: (e176, { writer: i60  })=>n30.toImageWidget($g(i60, "imageInline"), i60, t101("image widget"))
                    }), i59.for("downcast").add(nm(n30, "imageInline", "src")).add(nm(n30, "imageInline", "alt")).add(im(n30, "imageInline")), i59.for("upcast").elementToElement({
                        view: Yg(e175, "imageInline"),
                        model: (e176, { writer: t102  })=>t102.createElement("imageInline", {
                                src: e176.getAttribute("src")
                            })
                    });
                }
                _setupClipboardIntegration() {
                    const e175 = this.editor, t101 = e175.model, i59 = e175.editing.view, n30 = e175.plugins.get("ImageUtils");
                    this.listenTo(e175.plugins.get("ClipboardPipeline"), "inputTransformation", (o13, r8)=>{
                        const s7 = Array.from(r8.content.getChildren());
                        let a4;
                        if (!s7.every(n30.isBlockImageView)) return;
                        a4 = r8.targetRanges ? e175.editing.mapper.toModelRange(r8.targetRanges[0]) : t101.document.selection.getFirstRange();
                        const c7 = t101.createSelection(a4);
                        if ("imageInline" === Gg(t101.schema, c7)) {
                            const e176 = new gh(i59.document), t102 = s7.map((t103)=>1 === t103.childCount ? (Array.from(t103.getAttributes()).forEach((i60)=>e176.setAttribute(...i60, n30.findViewImgElement(t103))
                                ), t103.getChild(0)) : t103
                            );
                            r8.content = e176.createDocumentFragment(t102);
                        }
                    });
                }
            }
            class hm extends Qe {
                static get requires() {
                    return [
                        dm,
                        eu,
                        tm
                    ];
                }
                static get pluginName() {
                    return "ImageInline";
                }
            }
            function um(e175) {
                for (const t101 of e175.getChildren())if (t101 && t101.is("element", "caption")) return t101;
                return null;
            }
            function gm(e175, t101) {
                const i59 = t101.getFirstPosition().findAncestor("caption");
                return i59 && e175.isBlockImage(i59.parent) ? i59 : null;
            }
            class mm extends Ze {
                refresh() {
                    const e175 = this.editor, t101 = e175.plugins.get("ImageUtils");
                    if (!e175.plugins.has(cm)) return this.isEnabled = !1, void (this.value = !1);
                    const i59 = e175.model.document.selection, n30 = i59.getSelectedElement();
                    if (!n30) {
                        const e176 = gm(t101, i59);
                        return this.isEnabled = !!e176, void (this.value = !!e176);
                    }
                    this.isEnabled = this.editor.plugins.get("ImageUtils").isImage(n30), this.isEnabled ? this.value = !!um(n30) : this.value = !1;
                }
                execute(e = {
                }) {
                    const { focusCaptionOnShow: t101  } = e;
                    this.editor.model.change((e175)=>{
                        this.value ? this._hideImageCaption(e175) : this._showImageCaption(e175, t101);
                    });
                }
                _showImageCaption(e, t) {
                    const i59 = this.editor.model.document.selection, n30 = this.editor.plugins.get("ImageCaptionEditing");
                    let o13 = i59.getSelectedElement();
                    const r8 = n30._getSavedCaption(o13);
                    this.editor.plugins.get("ImageUtils").isInlineImage(o13) && (this.editor.execute("imageTypeBlock"), o13 = i59.getSelectedElement());
                    const s7 = r8 || e.createElement("caption");
                    e.append(s7, o13), t && e.setSelection(s7, "in");
                }
                _hideImageCaption(e) {
                    const t101 = this.editor, i59 = t101.model.document.selection, n30 = t101.plugins.get("ImageCaptionEditing"), o13 = t101.plugins.get("ImageUtils");
                    let r8, s7 = i59.getSelectedElement();
                    s7 ? r8 = um(s7) : (r8 = gm(o13, i59), s7 = r8.parent), n30._saveCaption(s7, r8), e.setSelection(s7, "on"), e.remove(r8);
                }
            }
            class fm extends Qe {
                static get requires() {
                    return [
                        Kg
                    ];
                }
                static get pluginName() {
                    return "ImageCaptionEditing";
                }
                constructor(e175){
                    super(e175), this._savedCaptionsMap = new WeakMap;
                }
                init() {
                    const e176 = this.editor, t101 = e176.model.schema;
                    t101.isRegistered("caption") ? t101.extend("caption", {
                        allowIn: "imageBlock"
                    }) : t101.register("caption", {
                        allowIn: "imageBlock",
                        allowContentOf: "$block",
                        isLimit: !0
                    }), e176.commands.add("toggleImageCaption", new mm(this.editor)), this._setupConversion(), this._setupImageTypeCommandsIntegration();
                }
                _setupConversion() {
                    const e176 = this.editor, t101 = e176.editing.view, i59 = e176.plugins.get("ImageUtils"), n30 = e176.t;
                    e176.conversion.for("upcast").elementToElement({
                        view: (e177)=>(function(e178, t102) {
                                return "figcaption" == t102.name && e178.isBlockImageView(t102.parent) ? {
                                    name: !0
                                } : null;
                            })(i59, e177)
                        ,
                        model: "caption"
                    }), e176.conversion.for("dataDowncast").elementToElement({
                        model: "caption",
                        view: (e177, { writer: t102  })=>i59.isBlockImage(e177.parent) ? t102.createContainerElement("figcaption") : null
                    }), e176.conversion.for("editingDowncast").elementToElement({
                        model: "caption",
                        view: (e177, { writer: o13  })=>{
                            if (!i59.isBlockImage(e177.parent)) return null;
                            const r8 = o13.createEditableElement("figcaption");
                            o13.setCustomProperty("imageCaption", !0, r8), Kd({
                                view: t101,
                                element: r8,
                                text: n30("Enter image caption"),
                                keepOnFocus: !0
                            });
                            const s7 = Bh(r8, o13);
                            return Vh(s7, o13, (e178, t102, i60)=>i60.addClass(en(t102.classes), e178)
                            , (e178, t102, i60)=>i60.removeClass(en(t102.classes), e178)
                            ), s7;
                        }
                    }), e176.editing.mapper.on("modelToViewPosition", pm(t101)), e176.data.mapper.on("modelToViewPosition", pm(t101));
                }
                _setupImageTypeCommandsIntegration() {
                    const e176 = this.editor, t101 = e176.plugins.get("ImageUtils"), i59 = e176.commands.get("imageTypeInline"), n30 = e176.commands.get("imageTypeBlock"), o13 = (e177)=>{
                        if (!e177.return) return;
                        const { oldElement: i60 , newElement: n31  } = e177.return;
                        if (!i60) return;
                        if (t101.isBlockImage(i60)) {
                            const e178 = um(i60);
                            if (e178) return void this._saveCaption(n31, e178);
                        }
                        const o14 = this._getSavedCaption(i60);
                        o14 && this._saveCaption(n31, o14);
                    };
                    i59 && this.listenTo(i59, "execute", o13, {
                        priority: "low"
                    }), n30 && this.listenTo(n30, "execute", o13, {
                        priority: "low"
                    });
                }
                _getSavedCaption(e) {
                    const t101 = this._savedCaptionsMap.get(e);
                    return t101 ? Js.fromJSON(t101) : null;
                }
                _saveCaption(e, t) {
                    this._savedCaptionsMap.set(e, t.toJSON());
                }
            }
            function pm(e176) {
                return (t101, i59)=>{
                    const n30 = i59.modelPosition, o13 = n30.parent;
                    if (!o13.is("element", "imageBlock")) return;
                    const r8 = i59.mapper.toViewElement(o13);
                    i59.viewPosition = e176.createPositionAt(r8, n30.offset + 1);
                };
            }
            class bm extends Qe {
                static get requires() {
                    return [
                        Kg
                    ];
                }
                static get pluginName() {
                    return "ImageCaptionUI";
                }
                init() {
                    const e176 = this.editor, t101 = e176.editing.view, i59 = e176.plugins.get("ImageUtils"), n30 = e176.t;
                    e176.ui.componentFactory.add("toggleImageCaption", (o13)=>{
                        const r8 = e176.commands.get("toggleImageCaption"), s7 = new ed(o13);
                        return s7.set({
                            icon: Tl.caption,
                            tooltip: !0,
                            isToggleable: !0
                        }), s7.bind("isOn", "isEnabled").to(r8, "value", "isEnabled"), s7.bind("label").to(r8, "value", (e177)=>n30(e177 ? "Toggle caption off" : "Toggle caption on")
                        ), this.listenTo(s7, "execute", ()=>{
                            e176.execute("toggleImageCaption", {
                                focusCaptionOnShow: !0
                            });
                            const n31 = gm(i59, e176.model.document.selection);
                            if (n31) {
                                const i60 = e176.editing.mapper.toViewElement(n31);
                                t101.scrollToTheSelection(), t101.change((e177)=>{
                                    e177.addClass("image__caption_highlighted", i60);
                                });
                            }
                        }), s7;
                    });
                }
            }
            i2(78);
            class wm extends Ze {
                constructor(e176, t101){
                    super(e176), this._defaultStyles = {
                        imageBlock: !1,
                        imageInline: !1
                    }, this._styles = new Map(t101.map((e177)=>{
                        if (e177.isDefault) for (const t102 of e177.modelElements)this._defaultStyles[t102] = e177.name;
                        return [
                            e177.name,
                            e177
                        ];
                    }));
                }
                refresh() {
                    const e177 = this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);
                    this.isEnabled = !!e177, this.isEnabled ? e177.hasAttribute("imageStyle") ? this.value = e177.getAttribute("imageStyle") : this.value = this._defaultStyles[e177.name] : this.value = !1;
                }
                execute(e = {
                }) {
                    const t102 = this.editor, i59 = t102.model, n30 = t102.plugins.get("ImageUtils");
                    i59.change((t103)=>{
                        const o13 = e.value;
                        let r8 = n30.getClosestSelectedImageElement(i59.document.selection);
                        o13 && this.shouldConvertImageType(o13, r8) && (this.editor.execute(n30.isBlockImage(r8) ? "imageTypeInline" : "imageTypeBlock"), r8 = n30.getClosestSelectedImageElement(i59.document.selection)), !o13 || this._styles.get(o13).isDefault ? t103.removeAttribute("imageStyle", r8) : t103.setAttribute("imageStyle", o13, r8);
                    });
                }
                shouldConvertImageType(e, t) {
                    return !this._styles.get(e).modelElements.includes(t.name);
                }
            }
            const { objectFullWidth: km , objectInline: _m , objectLeft: vm , objectRight: ym , objectCenter: xm , objectBlockLeft: Am , objectBlockRight: Cm  } = Tl, Tm = {
                inline: {
                    name: "inline",
                    title: "In line",
                    icon: _m,
                    modelElements: [
                        "imageInline"
                    ],
                    isDefault: !0
                },
                alignLeft: {
                    name: "alignLeft",
                    title: "Left aligned image",
                    icon: vm,
                    modelElements: [
                        "imageBlock",
                        "imageInline"
                    ],
                    className: "image-style-align-left"
                },
                alignBlockLeft: {
                    name: "alignBlockLeft",
                    title: "Left aligned image",
                    icon: Am,
                    modelElements: [
                        "imageBlock"
                    ],
                    className: "image-style-block-align-left"
                },
                alignCenter: {
                    name: "alignCenter",
                    title: "Centered image",
                    icon: xm,
                    modelElements: [
                        "imageBlock"
                    ],
                    className: "image-style-align-center"
                },
                alignRight: {
                    name: "alignRight",
                    title: "Right aligned image",
                    icon: ym,
                    modelElements: [
                        "imageBlock",
                        "imageInline"
                    ],
                    className: "image-style-align-right"
                },
                alignBlockRight: {
                    name: "alignBlockRight",
                    title: "Right aligned image",
                    icon: Cm,
                    modelElements: [
                        "imageBlock"
                    ],
                    className: "image-style-block-align-right"
                },
                block: {
                    name: "block",
                    title: "Centered image",
                    icon: xm,
                    modelElements: [
                        "imageBlock"
                    ],
                    isDefault: !0
                },
                side: {
                    name: "side",
                    title: "Side image",
                    icon: ym,
                    modelElements: [
                        "imageBlock"
                    ],
                    className: "image-style-side"
                }
            }, Em = {
                full: km,
                left: Am,
                right: Cm,
                center: xm,
                inlineLeft: vm,
                inlineRight: ym,
                inline: _m
            }, Im = [
                {
                    name: "imageStyle:wrapText",
                    title: "Wrap text",
                    defaultItem: "imageStyle:alignLeft",
                    items: [
                        "imageStyle:alignLeft",
                        "imageStyle:alignRight"
                    ]
                },
                {
                    name: "imageStyle:breakText",
                    title: "Break text",
                    defaultItem: "imageStyle:block",
                    items: [
                        "imageStyle:alignBlockLeft",
                        "imageStyle:block",
                        "imageStyle:alignBlockRight"
                    ]
                }
            ];
            function Sm(e177) {
                Object(c2.b)("image-style-configuration-definition-invalid", e177);
            }
            var Pm = {
                normalizeStyles: function(e177) {
                    return (e177.configuredStyles.options || []).map((e178)=>(function(e179) {
                            e179 = "string" == typeof e179 ? Tm[e179] ? {
                                ...Tm[e179]
                            } : {
                                name: e179
                            } : (function(e180, t102) {
                                const i59 = {
                                    ...t102
                                };
                                for(const n30 in e180)Object.prototype.hasOwnProperty.call(t102, n30) || (i59[n30] = e180[n30]);
                                return i59;
                            })(Tm[e179.name], e179);
                            "string" == typeof e179.icon && (e179.icon = Em[e179.icon] || e179.icon);
                            return e179;
                        })(e178)
                    ).filter((t102)=>(function(e178, { isBlockPluginLoaded: t103 , isInlinePluginLoaded: i59  }) {
                            const { modelElements: n30 , name: o13  } = e178;
                            if (!(n30 && n30.length && o13)) return Sm({
                                style: e178
                            }), !1;
                            {
                                const o14 = [
                                    t103 ? "imageBlock" : null,
                                    i59 ? "imageInline" : null
                                ];
                                if (!n30.some((e179)=>o14.includes(e179)
                                )) return Object(c2.b)("image-style-missing-dependency", {
                                    style: e178,
                                    missingPlugins: n30.map((e179)=>"imageBlock" === e179 ? "ImageBlockEditing" : "ImageInlineEditing"
                                    )
                                }), !1;
                            }
                            return !0;
                        })(t102, e177)
                    );
                },
                getDefaultStylesConfiguration: function(e177, t102) {
                    return e177 && t102 ? {
                        options: [
                            "inline",
                            "alignLeft",
                            "alignRight",
                            "alignCenter",
                            "alignBlockLeft",
                            "alignBlockRight",
                            "block",
                            "side"
                        ]
                    } : e177 ? {
                        options: [
                            "block",
                            "side"
                        ]
                    } : t102 ? {
                        options: [
                            "inline",
                            "alignLeft",
                            "alignRight"
                        ]
                    } : {
                    };
                },
                getDefaultDropdownDefinitions: function(e177) {
                    return e177.has("ImageBlockEditing") && e177.has("ImageInlineEditing") ? [
                        ...Im
                    ] : [];
                },
                warnInvalidStyle: Sm,
                DEFAULT_OPTIONS: Tm,
                DEFAULT_ICONS: Em,
                DEFAULT_DROPDOWN_DEFINITIONS: Im
            };
            function Mm(e177, t102) {
                for (const i59 of t102)if (i59.name === e177) return i59;
            }
            class Nm extends Qe {
                static get pluginName() {
                    return "ImageStyleEditing";
                }
                static get requires() {
                    return [
                        Kg
                    ];
                }
                init() {
                    const { normalizeStyles: e177 , getDefaultStylesConfiguration: t102  } = Pm, i59 = this.editor, n30 = i59.plugins.has("ImageBlockEditing"), o13 = i59.plugins.has("ImageInlineEditing");
                    i59.config.define("image.styles", t102(n30, o13)), this.normalizedStyles = e177({
                        configuredStyles: i59.config.get("image.styles"),
                        isBlockPluginLoaded: n30,
                        isInlinePluginLoaded: o13
                    }), this._setupConversion(n30, o13), this._setupPostFixer(), i59.commands.add("imageStyle", new wm(i59, this.normalizedStyles));
                }
                _setupConversion(e, t) {
                    const i59 = this.editor, n30 = i59.model.schema, o13 = (r8 = this.normalizedStyles, (e177, t102, i60)=>{
                        if (!i60.consumable.consume(t102.item, e177.name)) return;
                        const n31 = Mm(t102.attributeNewValue, r8), o14 = Mm(t102.attributeOldValue, r8), s7 = i60.mapper.toViewElement(t102.item), a4 = i60.writer;
                        o14 && a4.removeClass(o14.className, s7), n31 && a4.addClass(n31.className, s7);
                    });
                    var r8;
                    const s7 = function(e177) {
                        const t102 = {
                            imageInline: e177.filter((e178)=>!e178.isDefault && e178.modelElements.includes("imageInline")
                            ),
                            imageBlock: e177.filter((e178)=>!e178.isDefault && e178.modelElements.includes("imageBlock")
                            )
                        };
                        return (e178, i60, n31)=>{
                            if (!i60.modelRange) return;
                            const o14 = i60.viewItem, r9 = Ns(i60.modelRange.getItems());
                            if (r9 && n31.schema.checkAttribute(r9, "imageStyle")) for (const e179 of t102[r9.name])n31.consumable.consume(o14, {
                                classes: e179.className
                            }) && n31.writer.setAttribute("imageStyle", e179.name, r9);
                        };
                    }(this.normalizedStyles);
                    i59.editing.downcastDispatcher.on("attribute:imageStyle", o13), i59.data.downcastDispatcher.on("attribute:imageStyle", o13), e && (n30.extend("imageBlock", {
                        allowAttributes: "imageStyle"
                    }), i59.data.upcastDispatcher.on("element:figure", s7, {
                        priority: "low"
                    })), t && (n30.extend("imageInline", {
                        allowAttributes: "imageStyle"
                    }), i59.data.upcastDispatcher.on("element:img", s7, {
                        priority: "low"
                    }));
                }
                _setupPostFixer() {
                    const e177 = this.editor, t102 = e177.model.document, i59 = e177.plugins.get(Kg), n30 = new Map(this.normalizedStyles.map((e178)=>[
                            e178.name,
                            e178
                        ]
                    ));
                    t102.registerPostFixer((e178)=>{
                        let o13 = !1;
                        for (const r9 of t102.differ.getChanges())if ("insert" == r9.type || "attribute" == r9.type && "imageStyle" == r9.attributeKey) {
                            let t103 = "insert" == r9.type ? r9.position.nodeAfter : r9.range.start.nodeAfter;
                            if (t103 && t103.is("element", "paragraph") && t103.childCount > 0 && (t103 = t103.getChild(0)), !i59.isImage(t103)) continue;
                            const s7 = t103.getAttribute("imageStyle");
                            if (!s7) continue;
                            const a4 = n30.get(s7);
                            a4 && a4.modelElements.includes(t103.name) || (e178.removeAttribute("imageStyle", t103), o13 = !0);
                        }
                        return o13;
                    });
                }
            }
            i2(80);
            class Rm extends Qe {
                static get requires() {
                    return [
                        Nm
                    ];
                }
                static get pluginName() {
                    return "ImageStyleUI";
                }
                get localizedDefaultStylesTitles() {
                    const e177 = this.editor.t;
                    return {
                        "Wrap text": e177("Wrap text"),
                        "Break text": e177("Break text"),
                        "In line": e177("In line"),
                        "Full size image": e177("Full size image"),
                        "Side image": e177("Side image"),
                        "Left aligned image": e177("Left aligned image"),
                        "Centered image": e177("Centered image"),
                        "Right aligned image": e177("Right aligned image")
                    };
                }
                init() {
                    const e177 = this.editor.plugins, t102 = this.editor.config.get("image.toolbar") || [], i59 = Om(e177.get("ImageStyleEditing").normalizedStyles, this.localizedDefaultStylesTitles);
                    for (const e178 of i59)this._createButton(e178);
                    const n30 = Om([
                        ...t102.filter(w),
                        ...Pm.getDefaultDropdownDefinitions(e177)
                    ], this.localizedDefaultStylesTitles);
                    for (const e179 of n30)this._createDropdown(e179, i59);
                }
                _createDropdown(e, t) {
                    const i59 = this.editor.ui.componentFactory;
                    i59.add(e.name, (n30)=>{
                        let o13;
                        const { defaultItem: r9 , items: s7 , title: a4  } = e, c7 = s7.filter((e177)=>t.find(({ name: t102  })=>zm(t102) === e177
                            )
                        ).map((e177)=>{
                            const t102 = i59.create(e177);
                            return e177 === r9 && (o13 = t102), t102;
                        });
                        s7.length !== c7.length && Pm.warnInvalidStyle({
                            dropdown: e
                        });
                        const l4 = xd(n30, sd), d6 = l4.buttonView;
                        return Ad(l4, c7), d6.set({
                            label: Dm(a4, o13.label),
                            class: null,
                            tooltip: !0
                        }), d6.bind("icon").toMany(c7, "isOn", (...e177)=>{
                            const t102 = e177.findIndex(Z);
                            return t102 < 0 ? o13.icon : c7[t102].icon;
                        }), d6.bind("label").toMany(c7, "isOn", (...e177)=>{
                            const t102 = e177.findIndex(Z);
                            return Dm(a4, t102 < 0 ? o13.label : c7[t102].label);
                        }), d6.bind("isOn").toMany(c7, "isOn", (...e177)=>e177.some(Z)
                        ), d6.bind("class").toMany(c7, "isOn", (...e177)=>e177.some(Z) ? "ck-splitbutton_flatten" : null
                        ), d6.on("execute", ()=>{
                            c7.some(({ isOn: e177  })=>e177
                            ) ? l4.isOpen = !l4.isOpen : o13.fire("execute");
                        }), l4.bind("isEnabled").toMany(c7, "isEnabled", (...e177)=>e177.some(Z)
                        ), l4;
                    });
                }
                _createButton(e) {
                    const t102 = e.name;
                    this.editor.ui.componentFactory.add(zm(t102), (i59)=>{
                        const n30 = this.editor.commands.get("imageStyle"), o13 = new ed(i59);
                        return o13.set({
                            label: e.title,
                            icon: e.icon,
                            tooltip: !0,
                            isToggleable: !0
                        }), o13.bind("isEnabled").to(n30, "isEnabled"), o13.bind("isOn").to(n30, "value", (e177)=>e177 === t102
                        ), o13.on("execute", this._executeCommand.bind(this, t102)), o13;
                    });
                }
                _executeCommand(e) {
                    this.editor.execute("imageStyle", {
                        value: e
                    }), this.editor.editing.view.focus();
                }
            }
            function Om(e177, t102) {
                for (const i59 of e177)t102[i59.title] && (i59.title = t102[i59.title]);
                return e177;
            }
            function zm(e177) {
                return "imageStyle:" + e177;
            }
            function Dm(e177, t102) {
                return (e177 ? e177 + ": " : "") + t102;
            }
            function Lm(e177) {
                const t102 = e177.map((e178)=>e178.replace("+", "\\+")
                );
                return new RegExp(`^image\\/(${t102.join("|")})$`);
            }
            function Vm(e177) {
                return new Promise((t102, i59)=>{
                    const n30 = e177.getAttribute("src");
                    fetch(n30).then((e178)=>e178.blob()
                    ).then((e178)=>{
                        const i60 = jm(e178, n30), o13 = i60.replace("image/", ""), r9 = new File([
                            e178
                        ], "image." + o13, {
                            type: i60
                        });
                        t102(r9);
                    }).catch((e178)=>e178 && "TypeError" === e178.name ? (function(e179) {
                            return (function(e180) {
                                return new Promise((t103, i60)=>{
                                    const n31 = vr.document.createElement("img");
                                    n31.addEventListener("load", ()=>{
                                        const e181 = vr.document.createElement("canvas");
                                        e181.width = n31.width, e181.height = n31.height;
                                        e181.getContext("2d").drawImage(n31, 0, 0), e181.toBlob((e182)=>e182 ? t103(e182) : i60()
                                        );
                                    }), n31.addEventListener("error", ()=>i60()
                                    ), n31.src = e180;
                                });
                            })(e179).then((t103)=>{
                                const i60 = jm(t103, e179), n31 = i60.replace("image/", "");
                                return new File([
                                    t103
                                ], "image." + n31, {
                                    type: i60
                                });
                            });
                        })(n30).then(t102).catch(i59) : i59(e178)
                    );
                });
            }
            function jm(e177, t102) {
                return e177.type ? e177.type : t102.match(/data:(image\/\w+);base64/) ? t102.match(/data:(image\/\w+);base64/)[1].toLowerCase() : "image/jpeg";
            }
            class Bm extends Qe {
                static get pluginName() {
                    return "ImageUploadUI";
                }
                init() {
                    const e177 = this.editor, t102 = e177.t, i59 = (i60)=>{
                        const n30 = new sg(i60), o13 = e177.commands.get("uploadImage"), r9 = e177.config.get("image.upload.types"), s7 = Lm(r9);
                        return n30.set({
                            acceptedType: r9.map((e178)=>"image/" + e178
                            ).join(","),
                            allowMultipleFiles: !0
                        }), n30.buttonView.set({
                            label: t102("Insert image"),
                            icon: Tl.image,
                            tooltip: !0
                        }), n30.buttonView.bind("isEnabled").to(o13), n30.on("done", (t103, i61)=>{
                            const n31 = Array.from(i61).filter((e178)=>s7.test(e178.type)
                            );
                            n31.length && e177.execute("uploadImage", {
                                file: n31
                            });
                        }), n30;
                    };
                    e177.ui.componentFactory.add("uploadImage", i59), e177.ui.componentFactory.add("imageUpload", i59);
                }
            }
            i2(82), i2(84), i2(86);
            class Fm extends Qe {
                static get pluginName() {
                    return "ImageUploadProgress";
                }
                constructor(e177){
                    super(e177), this.placeholder = "data:image/svg+xml;utf8," + encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>');
                }
                init() {
                    const e178 = this.editor;
                    e178.plugins.has("ImageBlockEditing") && e178.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock", (...e179)=>this.uploadStatusChange(...e179)
                    ), e178.plugins.has("ImageInlineEditing") && e178.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline", (...e179)=>this.uploadStatusChange(...e179)
                    );
                }
                uploadStatusChange(e, t, i) {
                    const n30 = this.editor, o13 = t.item, r9 = o13.getAttribute("uploadId");
                    if (!i.consumable.consume(t.item, e.name)) return;
                    const s7 = n30.plugins.get("ImageUtils"), a4 = n30.plugins.get(og), c7 = r9 ? t.attributeNewValue : null, l4 = this.placeholder, d6 = n30.editing.mapper.toViewElement(o13), h3 = i.writer;
                    if ("reading" == c7) return Hm(d6, h3), void Um(s7, l4, d6, h3);
                    if ("uploading" == c7) {
                        const e178 = a4.loaders.get(r9);
                        return Hm(d6, h3), void (e178 ? (Wm(d6, h3), function(e179, t102, i59, n31) {
                            const o14 = function(e180) {
                                const t103 = e180.createUIElement("div", {
                                    class: "ck-progress-bar"
                                });
                                return e180.setCustomProperty("progressBar", !0, t103), t103;
                            }(t102);
                            t102.insert(t102.createPositionAt(e179, "end"), o14), i59.on("change:uploadedPercent", (e180, t103, i60)=>{
                                n31.change((e181)=>{
                                    e181.setStyle("width", i60 + "%", o14);
                                });
                            });
                        }(d6, h3, e178, n30.editing.view), function(e179, t102, i59, n31) {
                            if (n31.data) {
                                const o14 = e179.findViewImgElement(t102);
                                i59.setAttribute("src", n31.data, o14);
                            }
                        }(s7, d6, h3, e178)) : Um(s7, l4, d6, h3));
                    }
                    "complete" == c7 && a4.loaders.get(r9) && (function(e178, t102, i59) {
                        const n31 = t102.createUIElement("div", {
                            class: "ck-image-upload-complete-icon"
                        });
                        t102.insert(t102.createPositionAt(e178, "end"), n31), setTimeout(()=>{
                            i59.change((e179)=>e179.remove(e179.createRangeOn(n31))
                            );
                        }, 3000);
                    })(d6, h3, n30.editing.view), (function(e178, t102) {
                        $m(e178, t102, "progressBar");
                    })(d6, h3), Wm(d6, h3), (function(e178, t102) {
                        t102.removeClass("ck-appear", e178);
                    })(d6, h3);
                }
            }
            function Hm(e178, t102) {
                e178.hasClass("ck-appear") || t102.addClass("ck-appear", e178);
            }
            function Um(e178, t102, i59, n30) {
                i59.hasClass("ck-image-upload-placeholder") || n30.addClass("ck-image-upload-placeholder", i59);
                const o13 = e178.findViewImgElement(i59);
                o13.getAttribute("src") !== t102 && n30.setAttribute("src", t102, o13), qm(i59, "placeholder") || n30.insert(n30.createPositionAfter(o13), function(e179) {
                    const t103 = e179.createUIElement("div", {
                        class: "ck-upload-placeholder-loader"
                    });
                    return e179.setCustomProperty("placeholder", !0, t103), t103;
                }(n30));
            }
            function Wm(e178, t102) {
                e178.hasClass("ck-image-upload-placeholder") && t102.removeClass("ck-image-upload-placeholder", e178), $m(e178, t102, "placeholder");
            }
            function qm(e178, t102) {
                for (const i59 of e178.getChildren())if (i59.getCustomProperty(t102)) return i59;
            }
            function $m(e178, t102, i59) {
                const n30 = qm(e178, i59);
                n30 && t102.remove(t102.createRangeOn(n30));
            }
            class Ym extends Ze {
                refresh() {
                    const e178 = this.editor, t102 = e178.plugins.get("ImageUtils"), i59 = e178.model.document.selection.getSelectedElement();
                    this.isEnabled = t102.isImageAllowed() || t102.isImage(i59);
                }
                execute(e) {
                    const t102 = en(e.file), i59 = this.editor.model.document.selection, n30 = this.editor.plugins.get("ImageUtils"), o13 = Object.fromEntries(i59.getAttributes());
                    t102.forEach((e178, t103)=>{
                        const r9 = i59.getSelectedElement();
                        if (t103 && r9 && n30.isImage(r9)) {
                            const t104 = this.editor.model.createPositionAfter(r9);
                            this._uploadImage(e178, o13, t104);
                        } else this._uploadImage(e178, o13);
                    });
                }
                _uploadImage(e, t, i) {
                    const n30 = this.editor, o13 = n30.plugins.get(og).createLoader(e), r9 = n30.plugins.get("ImageUtils");
                    o13 && r9.insertImage({
                        ...t,
                        uploadId: o13.id
                    }, i);
                }
            }
            class Gm extends Qe {
                static get requires() {
                    return [
                        og,
                        Od,
                        _h,
                        Kg
                    ];
                }
                static get pluginName() {
                    return "ImageUploadEditing";
                }
                constructor(e178){
                    super(e178), e178.config.define("image", {
                        upload: {
                            types: [
                                "jpeg",
                                "png",
                                "gif",
                                "bmp",
                                "webp",
                                "tiff"
                            ]
                        }
                    }), this._uploadImageElements = new Map;
                }
                init() {
                    const e179 = this.editor, t102 = e179.model.document, i59 = e179.conversion, n30 = e179.plugins.get(og), o13 = e179.plugins.get("ImageUtils"), r9 = Lm(e179.config.get("image.upload.types")), s7 = new Ym(e179);
                    e179.commands.add("uploadImage", s7), e179.commands.add("imageUpload", s7), i59.for("upcast").attributeToAttribute({
                        view: {
                            name: "img",
                            key: "uploadId"
                        },
                        model: "uploadId"
                    }), this.listenTo(e179.editing.view.document, "clipboardInput", (t103, i60)=>{
                        if (n31 = i60.dataTransfer, Array.from(n31.types).includes("text/html") && "" !== n31.getData("text/html")) return;
                        var n31;
                        const o14 = Array.from(i60.dataTransfer.files).filter((e180)=>!!e180 && r9.test(e180.type)
                        );
                        o14.length && (t103.stop(), e179.model.change((t104)=>{
                            i60.targetRanges && t104.setSelection(i60.targetRanges.map((t105)=>e179.editing.mapper.toModelRange(t105)
                            )), e179.model.enqueueChange("default", ()=>{
                                e179.execute("uploadImage", {
                                    file: o14
                                });
                            });
                        }));
                    }), this.listenTo(e179.plugins.get("ClipboardPipeline"), "inputTransformation", (t103, i60)=>{
                        const r10 = Array.from(e179.editing.view.createRangeIn(i60.content)).filter((e180)=>(function(e181, t104) {
                                return !(!e181.isInlineImageView(t104) || !t104.getAttribute("src")) && (t104.getAttribute("src").match(/^data:image\/\w+;base64,/g) || t104.getAttribute("src").match(/^blob:/g));
                            })(o13, e180.item) && !e180.item.getAttribute("uploadProcessed")
                        ).map((e180)=>({
                                promise: Vm(e180.item),
                                imageElement: e180.item
                            })
                        );
                        if (!r10.length) return;
                        const s8 = new gh(e179.editing.view.document);
                        for (const e180 of r10){
                            s8.setAttribute("uploadProcessed", !0, e180.imageElement);
                            const t104 = n30.createLoader(e180.promise);
                            t104 && (s8.setAttribute("src", "", e180.imageElement), s8.setAttribute("uploadId", t104.id, e180.imageElement));
                        }
                    }), e179.editing.view.document.on("dragover", (e180, t103)=>{
                        t103.preventDefault();
                    }), t102.on("change", ()=>{
                        const i60 = t102.differ.getChanges({
                            includeChangesInGraveyard: !0
                        }).reverse(), o14 = new Set;
                        for (const t103 of i60)if ("insert" == t103.type && "$text" != t103.name) {
                            const i61 = t103.position.nodeAfter, r10 = "$graveyard" == t103.position.root.rootName;
                            for (const t104 of Km(e179, i61)){
                                const e180 = t104.getAttribute("uploadId");
                                if (!e180) continue;
                                const i62 = n30.loaders.get(e180);
                                i62 && (r10 ? o14.has(e180) || i62.abort() : (o14.add(e180), this._uploadImageElements.set(e180, t104), "idle" == i62.status && this._readAndUpload(i62)));
                            }
                        }
                    }), this.on("uploadComplete", (e180, { imageElement: t103 , data: i60  })=>{
                        const n32 = i60.urls ? i60.urls : i60;
                        this.editor.model.change((e181)=>{
                            e181.setAttribute("src", n32.default, t103), this._parseAndSetSrcsetAttributeOnImage(n32, t103, e181);
                        });
                    }, {
                        priority: "low"
                    });
                }
                afterInit() {
                    const e179 = this.editor.model.schema;
                    this.editor.plugins.has("ImageBlockEditing") && e179.extend("imageBlock", {
                        allowAttributes: [
                            "uploadId",
                            "uploadStatus"
                        ]
                    }), this.editor.plugins.has("ImageInlineEditing") && e179.extend("imageInline", {
                        allowAttributes: [
                            "uploadId",
                            "uploadStatus"
                        ]
                    });
                }
                _readAndUpload(e) {
                    const t102 = this.editor, i59 = t102.model, n30 = t102.locale.t, o13 = t102.plugins.get(og), r9 = t102.plugins.get(Od), s7 = t102.plugins.get("ImageUtils"), a4 = this._uploadImageElements;
                    function c7() {
                        i59.enqueueChange("transparent", (t103)=>{
                            const i60 = a4.get(e.id);
                            t103.removeAttribute("uploadId", i60), t103.removeAttribute("uploadStatus", i60), a4.delete(e.id);
                        }), o13.destroyLoader(e);
                    }
                    return i59.enqueueChange("transparent", (t103)=>{
                        t103.setAttribute("uploadStatus", "reading", a4.get(e.id));
                    }), e.read().then(()=>{
                        const n32 = e.upload(), o14 = a4.get(e.id);
                        if (So.isSafari) {
                            const e179 = t102.editing.mapper.toViewElement(o14), i60 = s7.findViewImgElement(e179);
                            t102.editing.view.once("render", ()=>{
                                if (!i60.parent) return;
                                const e180 = t102.editing.view.domConverter.mapViewToDom(i60.parent);
                                if (!e180) return;
                                const n33 = e180.style.display;
                                e180.style.display = "none", e180._ckHack = e180.offsetHeight, e180.style.display = n33;
                            });
                        }
                        return i59.enqueueChange("transparent", (e179)=>{
                            e179.setAttribute("uploadStatus", "uploading", o14);
                        }), n32;
                    }).then((t103)=>{
                        i59.enqueueChange("transparent", (i60)=>{
                            const n32 = a4.get(e.id);
                            i60.setAttribute("uploadStatus", "complete", n32), this.fire("uploadComplete", {
                                data: t103,
                                imageElement: n32
                            });
                        }), c7();
                    }).catch((t103)=>{
                        if ("error" !== e.status && "aborted" !== e.status) throw t103;
                        "error" == e.status && t103 && r9.showWarning(t103, {
                            title: n30("Upload failed"),
                            namespace: "upload"
                        }), i59.enqueueChange("transparent", (t104)=>{
                            t104.remove(a4.get(e.id));
                        }), c7();
                    });
                }
                _parseAndSetSrcsetAttributeOnImage(e, t, i) {
                    let n30 = 0;
                    const o13 = Object.keys(e).filter((e179)=>{
                        const t102 = parseInt(e179, 10);
                        if (!isNaN(t102)) return n30 = Math.max(n30, t102), !0;
                    }).map((t102)=>`${e[t102]} ${t102}w`
                    ).join(", ");
                    "" != o13 && i.setAttribute("srcset", {
                        data: o13,
                        width: n30
                    }, t);
                }
            }
            function Km(e179, t102) {
                const i59 = e179.plugins.get("ImageUtils");
                return Array.from(e179.model.createRangeOn(t102)).filter((e180)=>i59.isImage(e180.item)
                ).map((e180)=>e180.item
                );
            }
            class Qm extends Qe {
                static get pluginName() {
                    return "IndentEditing";
                }
                init() {
                    const e179 = this.editor;
                    e179.commands.add("indent", new et(e179)), e179.commands.add("outdent", new et(e179));
                }
            }
            var Jm = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>', Zm = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';
            class Xm extends Qe {
                static get pluginName() {
                    return "IndentUI";
                }
                init() {
                    const e179 = this.editor, t102 = e179.locale, i59 = e179.t, n30 = "ltr" == t102.uiLanguageDirection ? Jm : Zm, o13 = "ltr" == t102.uiLanguageDirection ? Zm : Jm;
                    this._defineButton("indent", i59("Increase indent"), n30), this._defineButton("outdent", i59("Decrease indent"), o13);
                }
                _defineButton(e, t, i) {
                    const n30 = this.editor;
                    n30.ui.componentFactory.add(e, (o13)=>{
                        const r9 = n30.commands.get(e), s7 = new ed(o13);
                        return s7.set({
                            label: t,
                            icon: i,
                            tooltip: !0
                        }), s7.bind("isOn", "isEnabled").to(r9, "value", "isEnabled"), this.listenTo(s7, "execute", ()=>{
                            n30.execute(e), n30.editing.view.focus();
                        }), s7;
                    });
                }
            }
            class ef {
                constructor(){
                    this._definitions = new Set;
                }
                get length() {
                    return this._definitions.size;
                }
                add(e) {
                    Array.isArray(e) ? e.forEach((e179)=>this._definitions.add(e179)
                    ) : this._definitions.add(e);
                }
                getDispatcher() {
                    return (e179)=>{
                        e179.on("attribute:linkHref", (e180, t102, i59)=>{
                            if (!i59.consumable.test(t102.item, "attribute:linkHref")) return;
                            const n30 = i59.writer, o13 = n30.document.selection;
                            for (const e181 of this._definitions){
                                const r9 = n30.createAttributeElement("a", e181.attributes, {
                                    priority: 5
                                });
                                e181.classes && n30.addClass(e181.classes, r9);
                                for(const t103 in e181.styles)n30.setStyle(t103, e181.styles[t103], r9);
                                n30.setCustomProperty("link", !0, r9), e181.callback(t102.attributeNewValue) ? t102.item.is("selection") ? n30.wrap(o13.getFirstRange(), r9) : n30.wrap(i59.mapper.toViewRange(t102.range), r9) : n30.unwrap(i59.mapper.toViewRange(t102.range), r9);
                            }
                        }, {
                            priority: "high"
                        });
                    };
                }
                getDispatcherForLinkedImage() {
                    return (e179)=>{
                        e179.on("attribute:linkHref:imageBlock", (e180, t102, { writer: i59 , mapper: n30  })=>{
                            const o13 = n30.toViewElement(t102.item), r9 = Array.from(o13.getChildren()).find((e181)=>"a" === e181.name
                            );
                            for (const e181 of this._definitions){
                                const n32 = gn(e181.attributes);
                                if (e181.callback(t102.attributeNewValue)) {
                                    for (const [e182, t103] of n32)"class" === e182 ? i59.addClass(t103, r9) : i59.setAttribute(e182, t103, r9);
                                    e181.classes && i59.addClass(e181.classes, r9);
                                    for(const t104 in e181.styles)i59.setStyle(t104, e181.styles[t104], r9);
                                } else {
                                    for (const [e182, t103] of n32)"class" === e182 ? i59.removeClass(t103, r9) : i59.removeAttribute(e182, r9);
                                    e181.classes && i59.removeClass(e181.classes, r9);
                                    for(const t104 in e181.styles)i59.removeStyle(t104, r9);
                                }
                            }
                        });
                    };
                }
            }
            var tf = function(e179, t102, i59) {
                var n30 = e179.length;
                return i59 = (void 0) === i59 ? n30 : i59, !t102 && i59 >= n30 ? e179 : zn(e179, t102, i59);
            }, nf = RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");
            var of = function(e179) {
                return nf.test(e179);
            };
            var rf = function(e179) {
                return e179.split("");
            }, sf = "[\\ud800-\\udfff]", af = "[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]", cf = "\\ud83c[\\udffb-\\udfff]", lf = "[^\\ud800-\\udfff]", df = "(?:\\ud83c[\\udde6-\\uddff]){2}", hf = "[\\ud800-\\udbff][\\udc00-\\udfff]", uf = "(?:" + af + "|" + cf + ")" + "?", gf = "[\\ufe0e\\ufe0f]?" + uf + ("(?:\\u200d(?:" + [
                lf,
                df,
                hf
            ].join("|") + ")[\\ufe0e\\ufe0f]?" + uf + ")*"), mf = "(?:" + [
                lf + af + "?",
                af,
                df,
                hf,
                sf
            ].join("|") + ")", ff = RegExp(cf + "(?=" + cf + ")|" + mf + gf, "g");
            var pf = function(e179) {
                return e179.match(ff) || [];
            };
            var bf = function(e179) {
                return of(e179) ? pf(e179) : rf(e179);
            };
            var wf = function(e179) {
                return function(t102) {
                    t102 = Pn(t102);
                    var i59 = of(t102) ? bf(t102) : void 0, n30 = i59 ? i59[0] : t102.charAt(0), o13 = i59 ? tf(i59, 1).join("") : t102.slice(1);
                    return n30[e179]() + o13;
                };
            }("toUpperCase");
            const kf = /[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g, _f = /^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i, vf = /^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i, yf = /^((\w+:(\/{2,})?)|(\W))/i;
            function xf(e179, { writer: t102  }) {
                const i59 = t102.createAttributeElement("a", {
                    href: e179
                }, {
                    priority: 5
                });
                return t102.setCustomProperty("link", !0, i59), i59;
            }
            function Af(e179) {
                return (function(e180) {
                    return e180.replace(kf, "").match(_f);
                })(e179 = String(e179)) ? e179 : "#";
            }
            function Cf(e179, t102) {
                return !!e179 && t102.checkAttribute(e179.name, "linkHref");
            }
            function Tf(e179, t102) {
                const i59 = (n30 = e179, vf.test(n30) ? "mailto:" : t102);
                var n30;
                const o13 = !!i59 && !yf.test(e179);
                return e179 && o13 ? i59 + e179 : e179;
            }
            class Ef extends Ze {
                constructor(e179){
                    super(e179), this.manualDecorators = new Zi, this.automaticDecorators = new ef;
                }
                restoreManualDecoratorStates() {
                    for (const e180 of this.manualDecorators)e180.value = this._getDecoratorStateFromModel(e180.id);
                }
                refresh() {
                    const e180 = this.editor.model, t102 = e180.document.selection, i59 = t102.getSelectedElement() || Ns(t102.getSelectedBlocks());
                    Cf(i59, e180.schema) ? (this.value = i59.getAttribute("linkHref"), this.isEnabled = e180.schema.checkAttribute(i59, "linkHref")) : (this.value = t102.getAttribute("linkHref"), this.isEnabled = e180.schema.checkAttributeInSelection(t102, "linkHref"));
                    for (const e181 of this.manualDecorators)e181.value = this._getDecoratorStateFromModel(e181.id);
                }
                execute(e, t = {
                }) {
                    const i59 = this.editor.model, n30 = i59.document.selection, o13 = [], r9 = [];
                    for(const e180 in t)t[e180] ? o13.push(e180) : r9.push(e180);
                    i59.change((t102)=>{
                        if (n30.isCollapsed) {
                            const s7 = n30.getFirstPosition();
                            if (n30.hasAttribute("linkHref")) {
                                const a4 = qu(s7, "linkHref", n30.getAttribute("linkHref"), i59);
                                t102.setAttribute("linkHref", e, a4), o13.forEach((e181)=>{
                                    t102.setAttribute(e181, !0, a4);
                                }), r9.forEach((e181)=>{
                                    t102.removeAttribute(e181, a4);
                                }), t102.setSelection(t102.createPositionAfter(a4.end.nodeBefore));
                            } else if ("" !== e) {
                                const r10 = gn(n30.getAttributes());
                                r10.set("linkHref", e), o13.forEach((e181)=>{
                                    r10.set(e181, !0);
                                });
                                const { end: a4  } = i59.insertContent(t102.createText(e, r10), s7);
                                t102.setSelection(a4);
                            }
                            [
                                "linkHref",
                                ...o13,
                                ...r9
                            ].forEach((e181)=>{
                                t102.removeSelectionAttribute(e181);
                            });
                        } else {
                            const s7 = i59.schema.getValidRanges(n30.getRanges(), "linkHref"), a4 = [];
                            for (const e181 of n30.getSelectedBlocks())i59.schema.checkAttribute(e181, "linkHref") && a4.push(t102.createRangeOn(e181));
                            const c7 = a4.slice();
                            for (const e182 of s7)this._isRangeToUpdate(e182, a4) && c7.push(e182);
                            for (const i60 of c7)t102.setAttribute("linkHref", e, i60), o13.forEach((e183)=>{
                                t102.setAttribute(e183, !0, i60);
                            }), r9.forEach((e183)=>{
                                t102.removeAttribute(e183, i60);
                            });
                        }
                    });
                }
                _getDecoratorStateFromModel(e) {
                    const t102 = this.editor.model, i59 = t102.document.selection, n30 = i59.getSelectedElement();
                    return Cf(n30, t102.schema) ? n30.getAttribute(e) : i59.getAttribute(e);
                }
                _isRangeToUpdate(e, t) {
                    for (const i59 of t)if (i59.containsRange(e)) return !1;
                    return !0;
                }
            }
            class If extends Ze {
                refresh() {
                    const e180 = this.editor.model, t102 = e180.document.selection, i59 = t102.getSelectedElement();
                    Cf(i59, e180.schema) ? this.isEnabled = e180.schema.checkAttribute(i59, "linkHref") : this.isEnabled = e180.schema.checkAttributeInSelection(t102, "linkHref");
                }
                execute() {
                    const e180 = this.editor, t102 = this.editor.model, i59 = t102.document.selection, n30 = e180.commands.get("link");
                    t102.change((e181)=>{
                        const o13 = i59.isCollapsed ? [
                            qu(i59.getFirstPosition(), "linkHref", i59.getAttribute("linkHref"), t102)
                        ] : t102.schema.getValidRanges(i59.getRanges(), "linkHref");
                        for (const t103 of o13)if (e181.removeAttribute("linkHref", t103), n30) for (const i60 of n30.manualDecorators)e181.removeAttribute(i60.id, t103);
                    });
                }
            }
            class Sf {
                constructor({ id: e180 , label: t102 , attributes: i59 , classes: n30 , styles: o13 , defaultValue: r9  }){
                    this.id = e180, this.set("value"), this.defaultValue = r9, this.label = t102, this.attributes = i59, this.classes = n30, this.styles = o13;
                }
                _createPattern() {
                    return {
                        attributes: this.attributes,
                        classes: this.classes,
                        styles: this.styles
                    };
                }
            }
            Ke(Sf, Ue);
            i2(88);
            const Pf = /^(https?:)?\/\//;
            class Mf extends Qe {
                static get pluginName() {
                    return "LinkEditing";
                }
                static get requires() {
                    return [
                        Pu,
                        Tu,
                        _h
                    ];
                }
                constructor(e181){
                    super(e181), e181.config.define("link", {
                        addTargetToExternalLinks: !1
                    });
                }
                init() {
                    const e182 = this.editor;
                    e182.model.schema.extend("$text", {
                        allowAttributes: "linkHref"
                    }), e182.conversion.for("dataDowncast").attributeToElement({
                        model: "linkHref",
                        view: xf
                    }), e182.conversion.for("editingDowncast").attributeToElement({
                        model: "linkHref",
                        view: (e183, t103)=>xf(Af(e183), t103)
                    }), e182.conversion.for("upcast").elementToAttribute({
                        view: {
                            name: "a",
                            attributes: {
                                href: !0
                            }
                        },
                        model: {
                            key: "linkHref",
                            value: (e183)=>e183.getAttribute("href")
                        }
                    }), e182.commands.add("link", new Ef(e182)), e182.commands.add("unlink", new If(e182));
                    const t103 = function(e183, t104) {
                        const i60 = {
                            "Open in a new tab": e183("Open in a new tab"),
                            Downloadable: e183("Downloadable")
                        };
                        return t104.forEach((e184)=>(e184.label && i60[e184.label] && (e184.label = i60[e184.label]), e184)
                        ), t104;
                    }(e182.t, function(e183) {
                        const t104 = [];
                        if (e183) for (const [i60, n32] of Object.entries(e183)){
                            const e184 = Object.assign({
                            }, n32, {
                                id: "link" + wf(i60)
                            });
                            t104.push(e184);
                        }
                        return t104;
                    }(e182.config.get("link.decorators")));
                    this._enableAutomaticDecorators(t103.filter((e183)=>"automatic" === e183.mode
                    )), this._enableManualDecorators(t103.filter((e183)=>"manual" === e183.mode
                    ));
                    e182.plugins.get(Pu).registerAttribute("linkHref"), (function(e183, t104, i60, n32) {
                        const o14 = e183.editing.view, r10 = new Set;
                        o14.document.registerPostFixer((o15)=>{
                            const s7 = e183.model.document.selection;
                            let a4 = !1;
                            if (s7.hasAttribute(t104)) {
                                const c7 = qu(s7.getFirstPosition(), t104, s7.getAttribute(t104), e183.model), l4 = e183.editing.mapper.toViewRange(c7);
                                for (const e184 of l4.getItems())e184.is("element", i60) && !e184.hasClass(n32) && (o15.addClass(n32, e184), r10.add(e184), a4 = !0);
                            }
                            return a4;
                        }), e183.conversion.for("editingDowncast").add((e184)=>{
                            function t105() {
                                o14.change((e185)=>{
                                    for (const t106 of r10.values())e185.removeClass(n32, t106), r10.delete(t106);
                                });
                            }
                            e184.on("insert", t105, {
                                priority: "highest"
                            }), e184.on("remove", t105, {
                                priority: "highest"
                            }), e184.on("attribute", t105, {
                                priority: "highest"
                            }), e184.on("selection", t105, {
                                priority: "highest"
                            });
                        });
                    })(e182, "linkHref", "a", "ck-link_selected"), this._enableInsertContentSelectionAttributesFixer(), this._enableClickingAfterLink(), this._enableTypingOverLink(), this._handleDeleteContentAfterLink();
                }
                _enableAutomaticDecorators(e) {
                    const t103 = this.editor, i60 = t103.commands.get("link").automaticDecorators;
                    t103.config.get("link.addTargetToExternalLinks") && i60.add({
                        id: "linkIsExternal",
                        mode: "automatic",
                        callback: (e182)=>Pf.test(e182)
                        ,
                        attributes: {
                            target: "_blank",
                            rel: "noopener noreferrer"
                        }
                    }), i60.add(e), i60.length && t103.conversion.for("downcast").add(i60.getDispatcher());
                }
                _enableManualDecorators(e) {
                    if (!e.length) return;
                    const t103 = this.editor, i60 = t103.commands.get("link").manualDecorators;
                    e.forEach((e182)=>{
                        t103.model.schema.extend("$text", {
                            allowAttributes: e182.id
                        }), e182 = new Sf(e182), i60.add(e182), t103.conversion.for("downcast").attributeToElement({
                            model: e182.id,
                            view: (t104, { writer: i61  })=>{
                                if (t104) {
                                    const t105 = i61.createAttributeElement("a", e182.attributes, {
                                        priority: 5
                                    });
                                    e182.classes && i61.addClass(e182.classes, t105);
                                    for(const n32 in e182.styles)i61.setStyle(n32, e182.styles[n32], t105);
                                    return i61.setCustomProperty("link", !0, t105), t105;
                                }
                            }
                        }), t103.conversion.for("upcast").elementToAttribute({
                            view: {
                                name: "a",
                                ...e182._createPattern()
                            },
                            model: {
                                key: e182.id
                            }
                        });
                    });
                }
                _enableInsertContentSelectionAttributesFixer() {
                    const e182 = this.editor.model, t103 = e182.document.selection;
                    this.listenTo(e182, "insertContent", ()=>{
                        const i60 = t103.anchor.nodeBefore, n32 = t103.anchor.nodeAfter;
                        t103.hasAttribute("linkHref") && i60 && i60.hasAttribute("linkHref") && (n32 && n32.hasAttribute("linkHref") || e182.change((t104)=>{
                            Nf(t104, Of(e182.schema));
                        }));
                    }, {
                        priority: "low"
                    });
                }
                _enableClickingAfterLink() {
                    const e182 = this.editor, t103 = e182.model;
                    e182.editing.view.addObserver(uh);
                    let i60 = !1;
                    this.listenTo(e182.editing.view.document, "mousedown", ()=>{
                        i60 = !0;
                    }), this.listenTo(e182.editing.view.document, "selectionChange", ()=>{
                        if (!i60) return;
                        i60 = !1;
                        const e183 = t103.document.selection;
                        if (!e183.isCollapsed) return;
                        if (!e183.hasAttribute("linkHref")) return;
                        const n32 = e183.getFirstPosition(), o14 = qu(n32, "linkHref", e183.getAttribute("linkHref"), t103);
                        (n32.isTouching(o14.start) || n32.isTouching(o14.end)) && t103.change((e184)=>{
                            Nf(e184, Of(t103.schema));
                        });
                    });
                }
                _enableTypingOverLink() {
                    const e182 = this.editor, t103 = e182.editing.view;
                    let i60, n32;
                    this.listenTo(t103.document, "delete", ()=>{
                        n32 = !0;
                    }, {
                        priority: "high"
                    }), this.listenTo(e182.model, "deleteContent", ()=>{
                        const t104 = e182.model.document.selection;
                        t104.isCollapsed || (n32 ? n32 = !1 : Rf(e182) && (function(e183) {
                            const t105 = e183.document.selection, i61 = t105.getFirstPosition(), n33 = t105.getLastPosition(), o14 = i61.nodeAfter;
                            if (!o14) return !1;
                            if (!o14.is("$text")) return !1;
                            if (!o14.hasAttribute("linkHref")) return !1;
                            const r10 = n33.textNode || n33.nodeBefore;
                            if (o14 === r10) return !0;
                            return qu(i61, "linkHref", o14.getAttribute("linkHref"), e183).containsRange(e183.createRange(i61, n33), !0);
                        })(e182.model) && (i60 = t104.getAttributes()));
                    }, {
                        priority: "high"
                    }), this.listenTo(e182.model, "insertContent", (t104, [o14])=>{
                        n32 = !1, Rf(e182) && i60 && (e182.model.change((e183)=>{
                            for (const [t105, n33] of i60)e183.setAttribute(t105, n33, o14);
                        }), i60 = null);
                    }, {
                        priority: "high"
                    });
                }
                _handleDeleteContentAfterLink() {
                    const e182 = this.editor, t103 = e182.model, i60 = t103.document.selection, n32 = e182.editing.view;
                    let o14 = !1, r10 = !1;
                    this.listenTo(n32.document, "delete", (e183, t104)=>{
                        r10 = t104.domEvent.keyCode === No.backspace;
                    }, {
                        priority: "high"
                    }), this.listenTo(t103, "deleteContent", ()=>{
                        o14 = !1;
                        const e183 = i60.getFirstPosition(), n33 = i60.getAttribute("linkHref");
                        if (!n33) return;
                        const r11 = qu(e183, "linkHref", n33, t103);
                        o14 = r11.containsPosition(e183) || r11.end.isEqual(e183);
                    }, {
                        priority: "high"
                    }), this.listenTo(t103, "deleteContent", ()=>{
                        r10 && (r10 = !1, o14 || e182.model.enqueueChange((e183)=>{
                            Nf(e183, Of(t103.schema));
                        }));
                    }, {
                        priority: "low"
                    });
                }
            }
            function Nf(e182, t103) {
                e182.removeSelectionAttribute("linkHref");
                for (const i60 of t103)e182.removeSelectionAttribute(i60);
            }
            function Rf(e182) {
                return e182.plugins.get("Input").isInput(e182.model.change((e183)=>e183.batch
                ));
            }
            function Of(e182) {
                return e182.getDefinition("$text").allowAttributes.filter((e183)=>e183.startsWith("link")
                );
            }
            i2(90);
            class zf extends Ml {
                constructor(e182, t103){
                    super(e182);
                    const i60 = e182.t;
                    this.focusTracker = new Rs, this.keystrokes = new Os, this.urlInputView = this._createUrlInput(), this.saveButtonView = this._createButton(i60("Save"), Tl.check, "ck-button-save"), this.saveButtonView.type = "submit", this.cancelButtonView = this._createButton(i60("Cancel"), Tl.cancel, "ck-button-cancel", "cancel"), this._manualDecoratorSwitches = this._createManualDecoratorSwitches(t103), this.children = this._createFormChildren(t103.manualDecorators), this._focusables = new Pl, this._focusCycler = new id({
                        focusables: this._focusables,
                        focusTracker: this.focusTracker,
                        keystrokeHandler: this.keystrokes,
                        actions: {
                            focusPrevious: "shift + tab",
                            focusNext: "tab"
                        }
                    });
                    const n32 = [
                        "ck",
                        "ck-link-form",
                        "ck-responsive-form"
                    ];
                    t103.manualDecorators.length && n32.push("ck-link-form_layout-vertical", "ck-vertical-form"), this.setTemplate({
                        tag: "form",
                        attributes: {
                            class: n32,
                            tabindex: "-1"
                        },
                        children: this.children
                    }), Il(this);
                }
                getDecoratorSwitchesState() {
                    return Array.from(this._manualDecoratorSwitches).reduce((e183, t104)=>(e183[t104.name] = t104.isOn, e183)
                    , {
                    });
                }
                render() {
                    super.render(), Sl({
                        view: this
                    });
                    [
                        this.urlInputView,
                        ...this._manualDecoratorSwitches,
                        this.saveButtonView,
                        this.cancelButtonView
                    ].forEach((e183)=>{
                        this._focusables.add(e183), this.focusTracker.add(e183.element);
                    }), this.keystrokes.listenTo(this.element);
                }
                focus() {
                    this._focusCycler.focusFirst();
                }
                _createUrlInput() {
                    const e183 = this.locale.t, t104 = new Nd(this.locale, Rd);
                    return t104.label = e183("Link URL"), t104;
                }
                _createButton(e, t, i, n) {
                    const o14 = new ed(this.locale);
                    return o14.set({
                        label: e,
                        icon: t,
                        tooltip: !0
                    }), o14.extendTemplate({
                        attributes: {
                            class: i
                        }
                    }), n && o14.delegate("execute").to(this, n), o14;
                }
                _createManualDecoratorSwitches(e) {
                    const t104 = this.createCollection();
                    for (const i61 of e.manualDecorators){
                        const n33 = new td(this.locale);
                        n33.set({
                            name: i61.id,
                            label: i61.label,
                            withText: !0
                        }), n33.bind("isOn").toMany([
                            i61,
                            e
                        ], "value", (e183, t105)=>(void 0) === t105 && (void 0) === e183 ? i61.defaultValue : e183
                        ), n33.on("execute", ()=>{
                            i61.set("value", !n33.isOn);
                        }), t104.add(n33);
                    }
                    return t104;
                }
                _createFormChildren(e) {
                    const t104 = this.createCollection();
                    if (t104.add(this.urlInputView), e.length) {
                        const e183 = new Ml;
                        e183.setTemplate({
                            tag: "ul",
                            children: this._manualDecoratorSwitches.map((e184)=>({
                                    tag: "li",
                                    children: [
                                        e184
                                    ],
                                    attributes: {
                                        class: [
                                            "ck",
                                            "ck-list__item"
                                        ]
                                    }
                                })
                            ),
                            attributes: {
                                class: [
                                    "ck",
                                    "ck-reset",
                                    "ck-list"
                                ]
                            }
                        }), t104.add(e183);
                    }
                    return t104.add(this.saveButtonView), t104.add(this.cancelButtonView), t104;
                }
            }
            i2(92);
            class Df extends Ml {
                constructor(e183){
                    super(e183);
                    const t104 = e183.t;
                    this.focusTracker = new Rs, this.keystrokes = new Os, this.previewButtonView = this._createPreviewButton(), this.unlinkButtonView = this._createButton(t104("Unlink"), '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>', "unlink"), this.editButtonView = this._createButton(t104("Edit link"), Tl.pencil, "edit"), this.set("href"), this._focusables = new Pl, this._focusCycler = new id({
                        focusables: this._focusables,
                        focusTracker: this.focusTracker,
                        keystrokeHandler: this.keystrokes,
                        actions: {
                            focusPrevious: "shift + tab",
                            focusNext: "tab"
                        }
                    }), this.setTemplate({
                        tag: "div",
                        attributes: {
                            class: [
                                "ck",
                                "ck-link-actions",
                                "ck-responsive-form"
                            ],
                            tabindex: "-1"
                        },
                        children: [
                            this.previewButtonView,
                            this.editButtonView,
                            this.unlinkButtonView
                        ]
                    });
                }
                render() {
                    super.render();
                    [
                        this.previewButtonView,
                        this.editButtonView,
                        this.unlinkButtonView
                    ].forEach((e184)=>{
                        this._focusables.add(e184), this.focusTracker.add(e184.element);
                    }), this.keystrokes.listenTo(this.element);
                }
                focus() {
                    this._focusCycler.focusFirst();
                }
                _createButton(e, t, i) {
                    const n33 = new ed(this.locale);
                    return n33.set({
                        label: e,
                        icon: t,
                        tooltip: !0
                    }), n33.delegate("execute").to(this, i), n33;
                }
                _createPreviewButton() {
                    const e184 = new ed(this.locale), t105 = this.bindTemplate, i61 = this.t;
                    return e184.set({
                        withText: !0,
                        tooltip: i61("Open link in new tab")
                    }), e184.extendTemplate({
                        attributes: {
                            class: [
                                "ck",
                                "ck-link-actions__preview"
                            ],
                            href: t105.to("href", (e185)=>e185 && Af(e185)
                            ),
                            target: "_blank",
                            rel: "noopener noreferrer"
                        }
                    }), e184.bind("label").to(this, "href", (e185)=>e185 || i61("This link has no URL")
                    ), e184.bind("isEnabled").to(this, "href", (e185)=>!!e185
                    ), e184.template.tag = "a", e184.template.eventListeners = {
                    }, e184;
                }
            }
            class Lf extends Qe {
                static get requires() {
                    return [
                        Ud
                    ];
                }
                static get pluginName() {
                    return "LinkUI";
                }
                init() {
                    const e184 = this.editor;
                    e184.editing.view.addObserver(hh), this.actionsView = this._createActionsView(), this.formView = this._createFormView(), this._balloon = e184.plugins.get(Ud), this._createToolbarLinkButton(), this._enableUserBalloonInteractions(), e184.conversion.for("editingDowncast").markerToHighlight({
                        model: "link-ui",
                        view: {
                            classes: [
                                "ck-fake-link-selection"
                            ]
                        }
                    }), e184.conversion.for("editingDowncast").markerToElement({
                        model: "link-ui",
                        view: {
                            name: "span",
                            classes: [
                                "ck-fake-link-selection",
                                "ck-fake-link-selection_collapsed"
                            ]
                        }
                    });
                }
                destroy() {
                    super.destroy(), this.formView.destroy();
                }
                _createActionsView() {
                    const e184 = this.editor, t105 = new Df(e184.locale), i61 = e184.commands.get("link"), n33 = e184.commands.get("unlink");
                    return t105.bind("href").to(i61, "value"), t105.editButtonView.bind("isEnabled").to(i61), t105.unlinkButtonView.bind("isEnabled").to(n33), this.listenTo(t105, "edit", ()=>{
                        this._addFormView();
                    }), this.listenTo(t105, "unlink", ()=>{
                        e184.execute("unlink"), this._hideUI();
                    }), t105.keystrokes.set("Esc", (e185, t106)=>{
                        this._hideUI(), t106();
                    }), t105.keystrokes.set("Ctrl+K", (e185, t106)=>{
                        this._addFormView(), t106();
                    }), t105;
                }
                _createFormView() {
                    const e184 = this.editor, t105 = e184.commands.get("link"), i61 = e184.config.get("link.defaultProtocol"), n33 = new zf(e184.locale, t105);
                    return n33.urlInputView.fieldView.bind("value").to(t105, "value"), n33.urlInputView.bind("isReadOnly").to(t105, "isEnabled", (e185)=>!e185
                    ), n33.saveButtonView.bind("isEnabled").to(t105), this.listenTo(n33, "submit", ()=>{
                        const { value: t106  } = n33.urlInputView.fieldView.element, o14 = Tf(t106, i61);
                        e184.execute("link", o14, n33.getDecoratorSwitchesState()), this._closeFormView();
                    }), this.listenTo(n33, "cancel", ()=>{
                        this._closeFormView();
                    }), n33.keystrokes.set("Esc", (e185, t106)=>{
                        this._closeFormView(), t106();
                    }), n33;
                }
                _createToolbarLinkButton() {
                    const e184 = this.editor, t105 = e184.commands.get("link"), i61 = e184.t;
                    e184.keystrokes.set("Ctrl+K", (e185, i62)=>{
                        i62(), t105.isEnabled && this._showUI(!0);
                    }), e184.ui.componentFactory.add("link", (e185)=>{
                        const n33 = new ed(e185);
                        return n33.isEnabled = !0, n33.label = i61("Link"), n33.icon = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>', n33.keystroke = "Ctrl+K", n33.tooltip = !0, n33.isToggleable = !0, n33.bind("isEnabled").to(t105, "isEnabled"), n33.bind("isOn").to(t105, "value", (e186)=>!!e186
                        ), this.listenTo(n33, "execute", ()=>this._showUI(!0)
                        ), n33;
                    });
                }
                _enableUserBalloonInteractions() {
                    const e184 = this.editor.editing.view.document;
                    this.listenTo(e184, "click", ()=>{
                        this._getSelectedLinkElement() && this._showUI();
                    }), this.editor.keystrokes.set("Tab", (e185, t105)=>{
                        this._areActionsVisible && !this.actionsView.focusTracker.isFocused && (this.actionsView.focus(), t105());
                    }, {
                        priority: "high"
                    }), this.editor.keystrokes.set("Esc", (e185, t105)=>{
                        this._isUIVisible && (this._hideUI(), t105());
                    }), El({
                        emitter: this.formView,
                        activator: ()=>this._isUIInPanel
                        ,
                        contextElements: [
                            this._balloon.view.element
                        ],
                        callback: ()=>this._hideUI()
                    });
                }
                _addActionsView() {
                    this._areActionsInPanel || this._balloon.add({
                        view: this.actionsView,
                        position: this._getBalloonPositionData()
                    });
                }
                _addFormView() {
                    if (this._isFormInPanel) return;
                    const e184 = this.editor.commands.get("link");
                    this.formView.disableCssTransitions(), this._balloon.add({
                        view: this.formView,
                        position: this._getBalloonPositionData()
                    }), this._balloon.visibleView === this.formView && this.formView.urlInputView.fieldView.select(), this.formView.enableCssTransitions(), this.formView.urlInputView.fieldView.element.value = e184.value || "";
                }
                _closeFormView() {
                    const e184 = this.editor.commands.get("link");
                    e184.restoreManualDecoratorStates(), (void 0) !== e184.value ? this._removeFormView() : this._hideUI();
                }
                _removeFormView() {
                    this._isFormInPanel && (this.formView.saveButtonView.focus(), this._balloon.remove(this.formView), this.editor.editing.view.focus(), this._hideFakeVisualSelection());
                }
                _showUI(e = !1) {
                    this._getSelectedLinkElement() ? (this._areActionsVisible ? this._addFormView() : this._addActionsView(), e && this._balloon.showStack("main")) : (this._showFakeVisualSelection(), this._addActionsView(), e && this._balloon.showStack("main"), this._addFormView()), this._startUpdatingUI();
                }
                _hideUI() {
                    if (!this._isUIInPanel) return;
                    const e184 = this.editor;
                    this.stopListening(e184.ui, "update"), this.stopListening(this._balloon, "change:visibleView"), e184.editing.view.focus(), this._removeFormView(), this._balloon.remove(this.actionsView), this._hideFakeVisualSelection();
                }
                _startUpdatingUI() {
                    const e184 = this.editor, t105 = e184.editing.view.document;
                    let i61 = this._getSelectedLinkElement(), n33 = r10();
                    const o14 = ()=>{
                        const e185 = this._getSelectedLinkElement(), t106 = r10();
                        i61 && !e185 || !i61 && t106 !== n33 ? this._hideUI() : this._isUIVisible && this._balloon.updatePosition(this._getBalloonPositionData()), i61 = e185, n33 = t106;
                    };
                    function r10() {
                        return t105.selection.focus.getAncestors().reverse().find((e185)=>e185.is("element")
                        );
                    }
                    this.listenTo(e184.ui, "update", o14), this.listenTo(this._balloon, "change:visibleView", o14);
                }
                get _isFormInPanel() {
                    return this._balloon.hasView(this.formView);
                }
                get _areActionsInPanel() {
                    return this._balloon.hasView(this.actionsView);
                }
                get _areActionsVisible() {
                    return this._balloon.visibleView === this.actionsView;
                }
                get _isUIInPanel() {
                    return this._isFormInPanel || this._areActionsInPanel;
                }
                get _isUIVisible() {
                    return this._balloon.visibleView == this.formView || this._areActionsVisible;
                }
                _getBalloonPositionData() {
                    const e184 = this.editor.editing.view, t105 = this.editor.model, i61 = e184.document;
                    let n33 = null;
                    if (t105.markers.has("link-ui")) {
                        const t106 = Array.from(this.editor.editing.mapper.markerNameToElements("link-ui")), i62 = e184.createRange(e184.createPositionBefore(t106[0]), e184.createPositionAfter(t106[t106.length - 1]));
                        n33 = e184.domConverter.viewRangeToDom(i62);
                    } else n33 = ()=>{
                        const t106 = this._getSelectedLinkElement();
                        return t106 ? e184.domConverter.mapViewToDom(t106) : e184.domConverter.viewRangeToDom(i61.selection.getFirstRange());
                    };
                    return {
                        target: n33
                    };
                }
                _getSelectedLinkElement() {
                    const e184 = this.editor.editing.view, t105 = e184.document.selection, i61 = t105.getSelectedElement();
                    if (t105.isCollapsed || i61 && Oh(i61)) return Vf(t105.getFirstPosition());
                    {
                        const i62 = t105.getFirstRange().getTrimmed(), n33 = Vf(i62.start), o14 = Vf(i62.end);
                        return n33 && n33 == o14 && e184.createRangeIn(n33).getTrimmed().isEqual(i62) ? n33 : null;
                    }
                }
                _showFakeVisualSelection() {
                    const e184 = this.editor.model;
                    e184.change((t105)=>{
                        const i61 = e184.document.selection.getFirstRange();
                        if (e184.markers.has("link-ui")) t105.updateMarker("link-ui", {
                            range: i61
                        });
                        else if (i61.start.isAtEnd) {
                            const n33 = i61.start.getLastMatchingPosition(({ item: t106  })=>!e184.schema.isContent(t106)
                            , {
                                boundaries: i61
                            });
                            t105.addMarker("link-ui", {
                                usingOperation: !1,
                                affectsData: !1,
                                range: t105.createRange(n33, i61.end)
                            });
                        } else t105.addMarker("link-ui", {
                            usingOperation: !1,
                            affectsData: !1,
                            range: i61
                        });
                    });
                }
                _hideFakeVisualSelection() {
                    const e184 = this.editor.model;
                    e184.markers.has("link-ui") && e184.change((e185)=>{
                        e185.removeMarker("link-ui");
                    });
                }
            }
            function Vf(e184) {
                return e184.getAncestors().find((e185)=>{
                    var t105;
                    return (t105 = e185).is("attributeElement") && !!t105.getCustomProperty("link");
                });
            }
            const jf = new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$", "i");
            class Bf extends Qe {
                static get pluginName() {
                    return "AutoLink";
                }
                init() {
                    const e184 = this.editor.model.document.selection;
                    e184.on("change:range", ()=>{
                        this.isEnabled = !e184.anchor.parent.is("element", "codeBlock");
                    }), this._enableTypingHandling();
                }
                afterInit() {
                    this._enableEnterHandling(), this._enableShiftEnterHandling();
                }
                _enableTypingHandling() {
                    const e184 = this.editor, t106 = new Su(e184.model, (e185)=>{
                        if (!function(e186) {
                            return e186.length > 4 && " " === e186[e186.length - 1] && " " !== e186[e186.length - 2];
                        }(e185)) return;
                        const t107 = Ff(e185.substr(0, e185.length - 1));
                        return t107 ? {
                            url: t107
                        } : void 0;
                    }), i61 = e184.plugins.get("Input");
                    t106.on("matched:data", (t107, n33)=>{
                        const { batch: o14 , range: r10 , url: s7  } = n33;
                        if (!i61.isInput(o14)) return;
                        const a4 = r10.end.getShiftedBy(-1), c7 = a4.getShiftedBy(-s7.length), l4 = e184.model.createRange(c7, a4);
                        this._applyAutoLink(s7, l4);
                    }), t106.bind("isEnabled").to(this);
                }
                _enableEnterHandling() {
                    const e184 = this.editor, t106 = e184.model, i61 = e184.commands.get("enter");
                    i61 && i61.on("execute", ()=>{
                        const e185 = t106.document.selection.getFirstPosition();
                        if (!e185.parent.previousSibling) return;
                        const i62 = t106.createRangeIn(e185.parent.previousSibling);
                        this._checkAndApplyAutoLinkOnRange(i62);
                    });
                }
                _enableShiftEnterHandling() {
                    const e184 = this.editor, t106 = e184.model, i61 = e184.commands.get("shiftEnter");
                    i61 && i61.on("execute", ()=>{
                        const e185 = t106.document.selection.getFirstPosition(), i62 = t106.createRange(t106.createPositionAt(e185.parent, 0), e185.getShiftedBy(-1));
                        this._checkAndApplyAutoLinkOnRange(i62);
                    });
                }
                _checkAndApplyAutoLinkOnRange(e) {
                    const t106 = this.editor.model, { text: i61 , range: n33  } = Iu(e, t106), o14 = Ff(i61);
                    if (o14) {
                        const e184 = t106.createRange(n33.end.getShiftedBy(-o14.length), n33.end);
                        this._applyAutoLink(o14, e184);
                    }
                }
                _applyAutoLink(e, t) {
                    const i61 = this.editor.model;
                    this.isEnabled && (function(e184, t106) {
                        return t106.schema.checkAttributeInSelection(t106.createSelection(e184), "linkHref");
                    })(t, i61) && i61.enqueueChange((i62)=>{
                        const n33 = this.editor.config.get("link.defaultProtocol"), o14 = Tf(e, n33);
                        i62.setAttribute("linkHref", o14, t);
                    });
                }
            }
            function Ff(e184) {
                const t106 = jf.exec(e184);
                return t106 ? t106[2] : null;
            }
            class Hf extends Ze {
                constructor(e184, t106){
                    super(e184), this.type = t106;
                }
                refresh() {
                    this.value = this._getValue(), this.isEnabled = this._checkEnabled();
                }
                execute(e = {
                }) {
                    const t107 = this.editor.model, i61 = t107.document, n33 = Array.from(i61.selection.getSelectedBlocks()).filter((e185)=>Wf(e185, t107.schema)
                    ), o14 = (void 0) !== e.forceValue ? !e.forceValue : this.value;
                    t107.change((e185)=>{
                        if (o14) {
                            let t108 = n33[n33.length - 1].nextSibling, i62 = Number.POSITIVE_INFINITY, o15 = [];
                            for(; t108 && "listItem" == t108.name && 0 !== t108.getAttribute("listIndent");){
                                const e186 = t108.getAttribute("listIndent");
                                e186 < i62 && (i62 = e186);
                                const n34 = e186 - i62;
                                o15.push({
                                    element: t108,
                                    listIndent: n34
                                }), t108 = t108.nextSibling;
                            }
                            o15 = o15.reverse();
                            for (const t109 of o15)e185.setAttribute("listIndent", t109.listIndent, t109.element);
                        }
                        if (!o14) {
                            let e186 = Number.POSITIVE_INFINITY;
                            for (const t108 of n33)t108.is("element", "listItem") && t108.getAttribute("listIndent") < e186 && (e186 = t108.getAttribute("listIndent"));
                            e186 = 0 === e186 ? 1 : e186, Uf(n33, !0, e186), Uf(n33, !1, e186);
                        }
                        for (const t108 of n33.reverse())o14 && "listItem" == t108.name ? e185.rename(t108, "paragraph") : o14 || "listItem" == t108.name ? o14 || "listItem" != t108.name || t108.getAttribute("listType") == this.type || e185.setAttribute("listType", this.type, t108) : (e185.setAttributes({
                            listType: this.type,
                            listIndent: 0
                        }, t108), e185.rename(t108, "listItem"));
                        this.fire("_executeCleanup", n33);
                    });
                }
                _getValue() {
                    const e185 = Ns(this.editor.model.document.selection.getSelectedBlocks());
                    return !!e185 && e185.is("element", "listItem") && e185.getAttribute("listType") == this.type;
                }
                _checkEnabled() {
                    if (this.value) return !0;
                    const e185 = this.editor.model.document.selection, t107 = this.editor.model.schema, i61 = Ns(e185.getSelectedBlocks());
                    return !!i61 && Wf(i61, t107);
                }
            }
            function Uf(e185, t107, i61) {
                const n33 = t107 ? e185[0] : e185[e185.length - 1];
                if (n33.is("element", "listItem")) {
                    let o14 = n33[t107 ? "previousSibling" : "nextSibling"], r10 = n33.getAttribute("listIndent");
                    for(; o14 && o14.is("element", "listItem") && o14.getAttribute("listIndent") >= i61;)r10 > o14.getAttribute("listIndent") && (r10 = o14.getAttribute("listIndent")), o14.getAttribute("listIndent") == r10 && e185[t107 ? "unshift" : "push"](o14), o14 = o14[t107 ? "previousSibling" : "nextSibling"];
                }
            }
            function Wf(e185, t107) {
                return t107.checkChild(e185.parent, "listItem") && !t107.isObject(e185);
            }
            class qf extends Ze {
                constructor(e185, t107){
                    super(e185), this._indentBy = "forward" == t107 ? 1 : -1;
                }
                refresh() {
                    this.isEnabled = this._checkEnabled();
                }
                execute() {
                    const e186 = this.editor.model, t108 = e186.document;
                    let i61 = Array.from(t108.selection.getSelectedBlocks());
                    e186.change((e187)=>{
                        const t109 = i61[i61.length - 1];
                        let n33 = t109.nextSibling;
                        for(; n33 && "listItem" == n33.name && n33.getAttribute("listIndent") > t109.getAttribute("listIndent");)i61.push(n33), n33 = n33.nextSibling;
                        this._indentBy < 0 && (i61 = i61.reverse());
                        for (const t110 of i61){
                            const i62 = t110.getAttribute("listIndent") + this._indentBy;
                            i62 < 0 ? e187.rename(t110, "paragraph") : e187.setAttribute("listIndent", i62, t110);
                        }
                        this.fire("_executeCleanup", i61);
                    });
                }
                _checkEnabled() {
                    const e186 = Ns(this.editor.model.document.selection.getSelectedBlocks());
                    if (!e186 || !e186.is("element", "listItem")) return !1;
                    if (this._indentBy > 0) {
                        const t108 = e186.getAttribute("listIndent"), i61 = e186.getAttribute("listType");
                        let n33 = e186.previousSibling;
                        for(; n33 && n33.is("element", "listItem") && n33.getAttribute("listIndent") >= t108;){
                            if (n33.getAttribute("listIndent") == t108) return n33.getAttribute("listType") == i61;
                            n33 = n33.previousSibling;
                        }
                        return !1;
                    }
                    return !0;
                }
            }
            function $f(e186, t108) {
                const i61 = t108.mapper, n33 = t108.writer, o14 = "numbered" == e186.getAttribute("listType") ? "ol" : "ul", r10 = function(e187) {
                    const t109 = e187.createContainerElement("li");
                    return t109.getFillerOffset = Zf, t109;
                }(n33), s7 = n33.createContainerElement(o14, null);
                return n33.insert(n33.createPositionAt(s7, 0), r10), i61.bindElements(e186, r10), r10;
            }
            function Yf(e186, t108, i61, n33) {
                const o14 = t108.parent, r10 = i61.mapper, s7 = i61.writer;
                let a4 = r10.toViewPosition(n33.createPositionBefore(e186));
                const c7 = Qf(e186.previousSibling, {
                    sameIndent: !0,
                    smallerIndent: !0,
                    listIndent: e186.getAttribute("listIndent")
                }), l4 = e186.previousSibling;
                if (c7 && c7.getAttribute("listIndent") == e186.getAttribute("listIndent")) {
                    const e187 = r10.toViewElement(c7);
                    a4 = s7.breakContainer(s7.createPositionAfter(e187));
                } else if (l4 && "listItem" == l4.name) {
                    a4 = r10.toViewPosition(n33.createPositionAt(l4, "end"));
                    const e187 = r10.findMappedViewAncestor(a4), t109 = function(e188) {
                        for (const t110 of e188.getChildren())if ("ul" == t110.name || "ol" == t110.name) return t110;
                        return null;
                    }(e187);
                    a4 = t109 ? s7.createPositionBefore(t109) : s7.createPositionAt(e187, "end");
                } else a4 = r10.toViewPosition(n33.createPositionBefore(e186));
                if (a4 = Kf(a4), s7.insert(a4, o14), l4 && "listItem" == l4.name) {
                    const e187 = r10.toViewElement(l4), i62 = s7.createRange(s7.createPositionAt(e187, 0), a4).getWalker({
                        ignoreElementEnd: !0
                    });
                    for (const e188 of i62)if (e188.item.is("element", "li")) {
                        const n34 = s7.breakContainer(s7.createPositionBefore(e188.item)), o15 = e188.item.parent, r11 = s7.createPositionAt(t108, "end");
                        Gf(s7, r11.nodeBefore, r11.nodeAfter), s7.move(s7.createRangeOn(o15), r11), i62.position = n34;
                    }
                } else {
                    const i62 = o14.nextSibling;
                    if (i62 && (i62.is("element", "ul") || i62.is("element", "ol"))) {
                        let n34 = null;
                        for (const t109 of i62.getChildren()){
                            const i63 = r10.toModelElement(t109);
                            if (!(i63 && i63.getAttribute("listIndent") > e186.getAttribute("listIndent"))) break;
                            n34 = t109;
                        }
                        n34 && (s7.breakContainer(s7.createPositionAfter(n34)), s7.move(s7.createRangeOn(n34.parent), s7.createPositionAt(t108, "end")));
                    }
                }
                Gf(s7, o14, o14.nextSibling), Gf(s7, o14.previousSibling, o14);
            }
            function Gf(e186, t108, i61) {
                return !t108 || !i61 || "ul" != t108.name && "ol" != t108.name || t108.name != i61.name || t108.getAttribute("class") !== i61.getAttribute("class") ? null : e186.mergeContainers(e186.createPositionAfter(t108));
            }
            function Kf(e186) {
                return e186.getLastMatchingPosition((e187)=>e187.item.is("uiElement")
                );
            }
            function Qf(e186, t108) {
                const i61 = !!t108.sameIndent, n33 = !!t108.smallerIndent, o14 = t108.listIndent;
                let r10 = e186;
                for(; r10 && "listItem" == r10.name;){
                    const e187 = r10.getAttribute("listIndent");
                    if (i61 && o14 == e187 || n33 && o14 > e187) return r10;
                    r10 = "forward" === t108.direction ? r10.nextSibling : r10.previousSibling;
                }
                return null;
            }
            function Jf(e186, t108, i61, n33) {
                e186.ui.componentFactory.add(t108, (o14)=>{
                    const r10 = e186.commands.get(t108), s7 = new ed(o14);
                    return s7.set({
                        label: i61,
                        icon: n33,
                        tooltip: !0,
                        isToggleable: !0
                    }), s7.bind("isOn", "isEnabled").to(r10, "value", "isEnabled"), s7.on("execute", ()=>{
                        e186.execute(t108), e186.editing.view.focus();
                    }), s7;
                });
            }
            function Zf() {
                const e186 = !this.isEmpty && ("ul" == this.getChild(0).name || "ol" == this.getChild(0).name);
                return this.isEmpty || e186 ? 0 : no.call(this);
            }
            function Xf(e186) {
                return (t108, i61, n33)=>{
                    const o14 = n33.consumable;
                    if (!o14.test(i61.item, "insert") || !o14.test(i61.item, "attribute:listType") || !o14.test(i61.item, "attribute:listIndent")) return;
                    o14.consume(i61.item, "insert"), o14.consume(i61.item, "attribute:listType"), o14.consume(i61.item, "attribute:listIndent");
                    const r10 = i61.item;
                    Yf(r10, $f(r10, n33), n33, e186);
                };
            }
            function ep(e186, t108, i61) {
                if (!i61.consumable.consume(t108.item, "attribute:listType")) return;
                const n33 = i61.mapper.toViewElement(t108.item), o14 = i61.writer;
                o14.breakContainer(o14.createPositionBefore(n33)), o14.breakContainer(o14.createPositionAfter(n33));
                const r10 = n33.parent, s7 = "numbered" == t108.attributeNewValue ? "ol" : "ul";
                o14.rename(s7, r10);
            }
            function tp(e186, t108, i61) {
                const n33 = i61.mapper.toViewElement(t108.item).parent, o14 = i61.writer;
                Gf(o14, n33, n33.nextSibling), Gf(o14, n33.previousSibling, n33);
                for (const e187 of t108.item.getChildren())i61.consumable.consume(e187, "insert");
            }
            function ip(e186, t108, i61) {
                if ("listItem" != t108.item.name) {
                    let e187 = i61.mapper.toViewPosition(t108.range.start);
                    const n33 = i61.writer, o14 = [];
                    for(; ("ul" == e187.parent.name || "ol" == e187.parent.name) && (e187 = n33.breakContainer(e187), "li" == e187.parent.name);){
                        const t109 = e187, i62 = n33.createPositionAt(e187.parent, "end");
                        if (!t109.isEqual(i62)) {
                            const e188 = n33.remove(n33.createRange(t109, i62));
                            o14.push(e188);
                        }
                        e187 = n33.createPositionAfter(e187.parent);
                    }
                    if (o14.length > 0) {
                        for(let t109 = 0; t109 < o14.length; t109++){
                            const i62 = e187.nodeBefore;
                            if (e187 = n33.insert(e187, o14[t109]).end, t109 > 0) {
                                const t110 = Gf(n33, i62, i62.nextSibling);
                                t110 && t110.parent == i62 && e187.offset--;
                            }
                        }
                        Gf(n33, e187.nodeBefore, e187.nodeAfter);
                    }
                }
            }
            function np(e186, t108, i61) {
                const n33 = i61.mapper.toViewPosition(t108.position), o14 = n33.nodeBefore, r10 = n33.nodeAfter;
                Gf(i61.writer, o14, r10);
            }
            function op(e186, t108, i61) {
                if (i61.consumable.consume(t108.viewItem, {
                    name: !0
                })) {
                    const e187 = i61.writer, n33 = e187.createElement("listItem"), o14 = function(e188) {
                        let t109 = 0, i62 = e188.parent;
                        for(; i62;){
                            if (i62.is("element", "li")) t109++;
                            else {
                                const e189 = i62.previousSibling;
                                e189 && e189.is("element", "li") && t109++;
                            }
                            i62 = i62.parent;
                        }
                        return t109;
                    }(t108.viewItem);
                    e187.setAttribute("listIndent", o14, n33);
                    const r10 = t108.viewItem.parent && "ol" == t108.viewItem.parent.name ? "numbered" : "bulleted";
                    if (e187.setAttribute("listType", r10, n33), !i61.safeInsert(n33, t108.modelCursor)) return;
                    const s7 = function(e188, t109, i62) {
                        const { writer: n34 , schema: o15  } = i62;
                        let r11 = n34.createPositionAfter(e188);
                        for (const s8 of t109)if ("ul" == s8.name || "ol" == s8.name) r11 = i62.convertItem(s8, r11).modelCursor;
                        else {
                            const t110 = i62.convertItem(s8, n34.createPositionAt(e188, "end")), a4 = t110.modelRange.start.nodeAfter;
                            a4 && a4.is("element") && !o15.checkChild(e188, a4.name) && (e188 = t110.modelCursor.parent.is("element", "listItem") ? t110.modelCursor.parent : lp(t110.modelCursor), r11 = n34.createPositionAfter(e188));
                        }
                        return r11;
                    }(n33, t108.viewItem.getChildren(), i61);
                    t108.modelRange = e187.createRange(t108.modelCursor, s7), i61.updateConversionResult(n33, t108);
                }
            }
            function rp(e186, t108, i61) {
                if (i61.consumable.test(t108.viewItem, {
                    name: !0
                })) {
                    const e187 = Array.from(t108.viewItem.getChildren());
                    for (const t109 of e187)!(t109.is("element", "li") || hp(t109)) && t109._remove();
                }
            }
            function sp(e186, t108, i61) {
                if (i61.consumable.test(t108.viewItem, {
                    name: !0
                })) {
                    if (0 === t108.viewItem.childCount) return;
                    const e187 = [
                        ...t108.viewItem.getChildren()
                    ];
                    let i62 = !1, n33 = !0;
                    for (const t109 of e187)i62 && !hp(t109) && t109._remove(), t109.is("$text") ? (n33 && (t109._data = t109.data.trimStart()), t109.nextSibling && !hp(t109.nextSibling) || (t109._data = t109.data.trimEnd())) : hp(t109) && (i62 = !0), n33 = !1;
                }
            }
            function ap(e186) {
                return (t108, i61)=>{
                    if (i61.isPhantom) return;
                    const n33 = i61.modelPosition.nodeBefore;
                    if (n33 && n33.is("element", "listItem")) {
                        const t109 = i61.mapper.toViewElement(n33), o14 = t109.getAncestors().find(hp), r10 = e186.createPositionAt(t109, 0).getWalker();
                        for (const e187 of r10){
                            if ("elementStart" == e187.type && e187.item.is("element", "li")) {
                                i61.viewPosition = e187.previousPosition;
                                break;
                            }
                            if ("elementEnd" == e187.type && e187.item == o14) {
                                i61.viewPosition = e187.nextPosition;
                                break;
                            }
                        }
                    }
                };
            }
            function cp(e186, [t108, i61]) {
                let n33, o14 = t108.is("documentFragment") ? t108.getChild(0) : t108;
                if (n33 = i61 ? this.createSelection(i61) : this.document.selection, o14 && o14.is("element", "listItem")) {
                    const e187 = n33.getFirstPosition();
                    let t109 = null;
                    if (e187.parent.is("element", "listItem") ? t109 = e187.parent : e187.nodeBefore && e187.nodeBefore.is("element", "listItem") && (t109 = e187.nodeBefore), t109) {
                        const e188 = t109.getAttribute("listIndent");
                        if (e188 > 0) for(; o14 && o14.is("element", "listItem");)o14._setAttribute("listIndent", o14.getAttribute("listIndent") + e188), o14 = o14.nextSibling;
                    }
                }
            }
            function lp(e186) {
                const t108 = new Zs({
                    startPosition: e186
                });
                let i61;
                do i61 = t108.next();
                while (!i61.value.item.is("element", "listItem"))
                return i61.value.item;
            }
            function dp(e186, t108, i61, n33, o14, r10) {
                const s7 = Qf(t108.nodeBefore, {
                    sameIndent: !0,
                    smallerIndent: !0,
                    listIndent: e186,
                    foo: "b"
                }), a4 = o14.mapper, c7 = o14.writer, l4 = s7 ? s7.getAttribute("listIndent") : null;
                let d6;
                if (s7) {
                    if (l4 == e186) {
                        const e187 = a4.toViewElement(s7).parent;
                        d6 = c7.createPositionAfter(e187);
                    } else {
                        const e187 = r10.createPositionAt(s7, "end");
                        d6 = a4.toViewPosition(e187);
                    }
                } else d6 = i61;
                d6 = Kf(d6);
                for (const e187 of [
                    ...n33.getChildren()
                ])hp(e187) && (d6 = c7.move(c7.createRangeOn(e187), d6).end, Gf(c7, e187, e187.nextSibling), Gf(c7, e187.previousSibling, e187));
            }
            function hp(e186) {
                return e186.is("element", "ol") || e186.is("element", "ul");
            }
            class up extends Qe {
                static get pluginName() {
                    return "ListEditing";
                }
                static get requires() {
                    return [
                        Ch,
                        Sh
                    ];
                }
                init() {
                    const e186 = this.editor;
                    e186.model.schema.register("listItem", {
                        inheritAllFrom: "$block",
                        allowAttributes: [
                            "listType",
                            "listIndent"
                        ]
                    });
                    const t108 = e186.data, i61 = e186.editing;
                    var n33;
                    e186.model.document.registerPostFixer((t109)=>(function(e187, t110) {
                            const i62 = e187.document.differ.getChanges(), n34 = new Map;
                            let o14 = !1;
                            for (const n35 of i62)if ("insert" == n35.type && "listItem" == n35.name) r10(n35.position);
                            else if ("insert" == n35.type && "listItem" != n35.name) {
                                if ("$text" != n35.name) {
                                    const i63 = n35.position.nodeAfter;
                                    i63.hasAttribute("listIndent") && (t110.removeAttribute("listIndent", i63), o14 = !0), i63.hasAttribute("listType") && (t110.removeAttribute("listType", i63), o14 = !0), i63.hasAttribute("listStyle") && (t110.removeAttribute("listStyle", i63), o14 = !0);
                                    for (const t111 of Array.from(e187.createRangeIn(i63)).filter((e188)=>e188.item.is("element", "listItem")
                                    ))r10(t111.previousPosition);
                                }
                                r10(n35.position.getShiftedBy(n35.length));
                            } else "remove" == n35.type && "listItem" == n35.name ? r10(n35.position) : ("attribute" == n35.type && "listIndent" == n35.attributeKey || "attribute" == n35.type && "listType" == n35.attributeKey) && r10(n35.range.start);
                            for (const e188 of n34.values())s7(e188), a4(e188);
                            function r10(e189) {
                                const t111 = e189.nodeBefore;
                                if (t111 && t111.is("element", "listItem")) {
                                    let e190 = t111;
                                    if (n34.has(e190)) return;
                                    for(let t112 = e190.previousSibling; t112 && t112.is("element", "listItem"); t112 = e190.previousSibling)if (e190 = t112, n34.has(e190)) return;
                                    n34.set(t111, e190);
                                } else {
                                    const t112 = e189.nodeAfter;
                                    t112 && t112.is("element", "listItem") && n34.set(t112, t112);
                                }
                            }
                            function s7(e189) {
                                let i63 = 0, n36 = null;
                                for(; e189 && e189.is("element", "listItem");){
                                    const r11 = e189.getAttribute("listIndent");
                                    if (r11 > i63) {
                                        let s8;
                                        null === n36 ? (n36 = r11 - i63, s8 = i63) : (n36 > r11 && (n36 = r11), s8 = r11 - n36), t110.setAttribute("listIndent", s8, e189), o14 = !0;
                                    } else n36 = null, i63 = e189.getAttribute("listIndent") + 1;
                                    e189 = e189.nextSibling;
                                }
                            }
                            function a4(e189) {
                                let i63 = [], n36 = null;
                                for(; e189 && e189.is("element", "listItem");){
                                    const r11 = e189.getAttribute("listIndent");
                                    if (n36 && n36.getAttribute("listIndent") > r11 && (i63 = i63.slice(0, r11 + 1)), 0 != r11) {
                                        if (i63[r11]) {
                                            const n37 = i63[r11];
                                            e189.getAttribute("listType") != n37 && (t110.setAttribute("listType", n37, e189), o14 = !0);
                                        } else i63[r11] = e189.getAttribute("listType");
                                    }
                                    n36 = e189, e189 = e189.nextSibling;
                                }
                            }
                            return o14;
                        })(e186.model, t109)
                    ), i61.mapper.registerViewToModelLength("li", gp), t108.mapper.registerViewToModelLength("li", gp), i61.mapper.on("modelToViewPosition", ap(i61.view)), i61.mapper.on("viewToModelPosition", (n33 = e186.model, (e187, t109)=>{
                        const i62 = t109.viewPosition, o14 = i62.parent, r10 = t109.mapper;
                        if ("ul" == o14.name || "ol" == o14.name) {
                            if (i62.isAtEnd) {
                                const e188 = r10.toModelElement(i62.nodeBefore), o15 = r10.getModelLength(i62.nodeBefore);
                                t109.modelPosition = n33.createPositionBefore(e188).getShiftedBy(o15);
                            } else {
                                const e188 = r10.toModelElement(i62.nodeAfter);
                                t109.modelPosition = n33.createPositionBefore(e188);
                            }
                            e187.stop();
                        } else if ("li" == o14.name && i62.nodeBefore && ("ul" == i62.nodeBefore.name || "ol" == i62.nodeBefore.name)) {
                            const s7 = r10.toModelElement(o14);
                            let a4 = 1, c7 = i62.nodeBefore;
                            for(; c7 && hp(c7);)a4 += r10.getModelLength(c7), c7 = c7.previousSibling;
                            t109.modelPosition = n33.createPositionBefore(s7).getShiftedBy(a4), e187.stop();
                        }
                    })), t108.mapper.on("modelToViewPosition", ap(i61.view)), e186.conversion.for("editingDowncast").add((t109)=>{
                        t109.on("insert", ip, {
                            priority: "high"
                        }), t109.on("insert:listItem", Xf(e186.model)), t109.on("attribute:listType:listItem", ep, {
                            priority: "high"
                        }), t109.on("attribute:listType:listItem", tp, {
                            priority: "low"
                        }), t109.on("attribute:listIndent:listItem", function(e187) {
                            return (t110, i62, n34)=>{
                                if (!n34.consumable.consume(i62.item, "attribute:listIndent")) return;
                                const o14 = n34.mapper.toViewElement(i62.item), r10 = n34.writer;
                                r10.breakContainer(r10.createPositionBefore(o14)), r10.breakContainer(r10.createPositionAfter(o14));
                                const s7 = o14.parent, a4 = s7.previousSibling, c7 = r10.createRangeOn(s7);
                                r10.remove(c7), a4 && a4.nextSibling && Gf(r10, a4, a4.nextSibling), dp(i62.attributeOldValue + 1, i62.range.start, c7.start, o14, n34, e187), Yf(i62.item, o14, n34, e187);
                                for (const e188 of i62.item.getChildren())n34.consumable.consume(e188, "insert");
                            };
                        }(e186.model)), t109.on("remove:listItem", function(e187) {
                            return (t110, i62, n34)=>{
                                const o14 = n34.mapper.toViewPosition(i62.position).getLastMatchingPosition((e188)=>!e188.item.is("element", "li")
                                ).nodeAfter, r10 = n34.writer;
                                r10.breakContainer(r10.createPositionBefore(o14)), r10.breakContainer(r10.createPositionAfter(o14));
                                const s7 = o14.parent, a4 = s7.previousSibling, c7 = r10.createRangeOn(s7), l4 = r10.remove(c7);
                                a4 && a4.nextSibling && Gf(r10, a4, a4.nextSibling);
                                dp(n34.mapper.toModelElement(o14).getAttribute("listIndent") + 1, i62.position, c7.start, o14, n34, e187);
                                for (const e188 of r10.createRangeIn(l4).getItems())n34.mapper.unbindViewElement(e188);
                                t110.stop();
                            };
                        }(e186.model)), t109.on("remove", np, {
                            priority: "low"
                        });
                    }), e186.conversion.for("dataDowncast").add((t109)=>{
                        t109.on("insert", ip, {
                            priority: "high"
                        }), t109.on("insert:listItem", Xf(e186.model));
                    }), e186.conversion.for("upcast").add((e187)=>{
                        e187.on("element:ul", rp, {
                            priority: "high"
                        }), e187.on("element:ol", rp, {
                            priority: "high"
                        }), e187.on("element:li", sp, {
                            priority: "high"
                        }), e187.on("element:li", op);
                    }), e186.model.on("insertContent", cp, {
                        priority: "high"
                    }), e186.commands.add("numberedList", new Hf(e186, "numbered")), e186.commands.add("bulletedList", new Hf(e186, "bulleted")), e186.commands.add("indentList", new qf(e186, "forward")), e186.commands.add("outdentList", new qf(e186, "backward"));
                    const o14 = i61.view.document;
                    this.listenTo(o14, "enter", (e187, t109)=>{
                        const i62 = this.editor.model.document, n34 = i62.selection.getLastPosition().parent;
                        i62.selection.isCollapsed && "listItem" == n34.name && n34.isEmpty && (this.editor.execute("outdentList"), t109.preventDefault(), e187.stop());
                    }, {
                        context: "li"
                    }), this.listenTo(o14, "delete", (e187, t109)=>{
                        if ("backward" !== t109.direction) return;
                        const i62 = this.editor.model.document.selection;
                        if (!i62.isCollapsed) return;
                        const n34 = i62.getFirstPosition();
                        if (!n34.isAtStart) return;
                        const o15 = n34.parent;
                        if ("listItem" !== o15.name) return;
                        o15.previousSibling && "listItem" === o15.previousSibling.name || (this.editor.execute("outdentList"), t109.preventDefault(), e187.stop());
                    }, {
                        context: "li"
                    });
                    const r10 = (e187)=>(t109, i62)=>{
                            this.editor.commands.get(e187).isEnabled && (this.editor.execute(e187), i62());
                        }
                    ;
                    e186.keystrokes.set("Tab", r10("indentList")), e186.keystrokes.set("Shift+Tab", r10("outdentList"));
                }
                afterInit() {
                    const e186 = this.editor.commands, t108 = e186.get("indent"), i61 = e186.get("outdent");
                    t108 && t108.registerChildCommand(e186.get("indentList")), i61 && i61.registerChildCommand(e186.get("outdentList"));
                }
            }
            function gp(e186) {
                let t108 = 1;
                for (const i61 of e186.getChildren())if ("ul" == i61.name || "ol" == i61.name) for (const e187 of i61.getChildren())t108 += gp(e187);
                return t108;
            }
            class mp extends Qe {
                static get pluginName() {
                    return "ListUI";
                }
                init() {
                    const e186 = this.editor.t;
                    Jf(this.editor, "numberedList", e186("Numbered List"), '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'), Jf(this.editor, "bulletedList", e186("Bulleted List"), '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>');
                }
            }
            function fp(e186, t108) {
                function i61(i62, n34, o14) {
                    if (!o14.consumable.consume(n34.item, i62.name)) return;
                    const r10 = n34.attributeNewValue, s7 = o14.writer, a4 = o14.mapper.toViewElement(n34.item), c7 = [
                        ...a4.getChildren()
                    ].find((e187)=>e187.getCustomProperty("media-content")
                    );
                    s7.remove(c7);
                    const l4 = e186.getMediaViewElement(s7, r10, t108);
                    s7.insert(s7.createPositionAt(a4, 0), l4);
                }
                return (e187)=>{
                    e187.on("attribute:url:media", i61);
                };
            }
            function pp(e186, t108, i61, n34) {
                const o14 = e186.createContainerElement("figure", {
                    class: "media"
                });
                return e186.insert(e186.createPositionAt(o14, 0), t108.getMediaViewElement(e186, i61, n34)), o14;
            }
            function bp(e186) {
                const t108 = e186.getSelectedElement();
                return t108 && t108.is("element", "media") ? t108 : null;
            }
            function wp(e186, t108, i61) {
                e186.change((n34)=>{
                    const o14 = n34.createElement("media", {
                        url: t108
                    });
                    e186.insertContent(o14, i61), n34.setSelection(o14, "on");
                });
            }
            class kp extends Ze {
                refresh() {
                    const e186 = this.editor.model, t108 = e186.document.selection, i61 = bp(t108);
                    this.value = i61 ? i61.getAttribute("url") : null, this.isEnabled = (function(e187) {
                        const t109 = e187.getSelectedElement();
                        return !!t109 && "media" === t109.name;
                    })(t108) || (function(e187, t109) {
                        let i62 = Fh(e187, t109).start.parent;
                        i62.isEmpty && !t109.schema.isLimit(i62) && (i62 = i62.parent);
                        return t109.schema.checkChild(i62, "media");
                    })(t108, e186);
                }
                execute(e) {
                    const t108 = this.editor.model, i61 = t108.document.selection, n34 = bp(i61);
                    n34 ? t108.change((t109)=>{
                        t109.setAttribute("url", e, n34);
                    }) : wp(t108, e, Fh(i61, t108));
                }
            }
            class _p {
                constructor(e186, t108){
                    const i61 = t108.providers, n34 = t108.extraProviders || [], o14 = new Set(t108.removeProviders), r10 = i61.concat(n34).filter((e187)=>{
                        const t109 = e187.name;
                        return t109 ? !o14.has(t109) : (Object(c2.b)("media-embed-no-provider-name", {
                            provider: e187
                        }), !1);
                    });
                    this.locale = e186, this.providerDefinitions = r10;
                }
                hasMedia(e) {
                    return !!this._getMedia(e);
                }
                getMediaViewElement(e, t, i) {
                    return this._getMedia(t).getViewElement(e, i);
                }
                _getMedia(e) {
                    if (!e) return new vp(this.locale);
                    e = e.trim();
                    for (const t109 of this.providerDefinitions){
                        const i62 = t109.html, n35 = en(t109.url);
                        for (const t110 of n35){
                            const n36 = this._getUrlMatches(e, t110);
                            if (n36) return new vp(this.locale, e, n36, i62);
                        }
                    }
                    return null;
                }
                _getUrlMatches(e, t) {
                    let i62 = e.match(t);
                    if (i62) return i62;
                    let n35 = e.replace(/^https?:\/\//, "");
                    return i62 = n35.match(t), i62 || (n35 = n35.replace(/^www\./, ""), i62 = n35.match(t), i62 || null);
                }
            }
            class vp {
                constructor(e187, t109, i62, n35){
                    this.url = this._getValidUrl(t109), this._t = e187.t, this._match = i62, this._previewRenderer = n35;
                }
                getViewElement(e, t) {
                    const i63 = {
                    };
                    let n36;
                    if (t.renderForEditingView || t.renderMediaPreview && this.url && this._previewRenderer) {
                        this.url && (i63["data-oembed-url"] = this.url), t.renderForEditingView && (i63.class = "ck-media__wrapper");
                        const o15 = this._getPreviewHtml(t);
                        n36 = e.createRawElement("div", i63, function(e188) {
                            e188.innerHTML = o15;
                        });
                    } else this.url && (i63.url = this.url), n36 = e.createEmptyElement(t.elementName, i63);
                    return e.setCustomProperty("media-content", !0, n36), n36;
                }
                _getPreviewHtml(e) {
                    return this._previewRenderer ? this._previewRenderer(this._match) : this.url && e.renderForEditingView ? this._getPlaceholderHtml() : "";
                }
                _getPlaceholderHtml() {
                    const e188 = new Xl, t110 = new Zl;
                    e188.text = this._t("Open media in new tab"), t110.content = '<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>', t110.viewBox = "0 0 64 42";
                    return new Nl({
                        tag: "div",
                        attributes: {
                            class: "ck ck-reset_all ck-media__placeholder"
                        },
                        children: [
                            {
                                tag: "div",
                                attributes: {
                                    class: "ck-media__placeholder__icon"
                                },
                                children: [
                                    t110
                                ]
                            },
                            {
                                tag: "a",
                                attributes: {
                                    class: "ck-media__placeholder__url",
                                    target: "_blank",
                                    rel: "noopener noreferrer",
                                    href: this.url
                                },
                                children: [
                                    {
                                        tag: "span",
                                        attributes: {
                                            class: "ck-media__placeholder__url__text"
                                        },
                                        children: [
                                            this.url
                                        ]
                                    },
                                    e188
                                ]
                            }
                        ]
                    }).render().outerHTML;
                }
                _getValidUrl(e) {
                    return e ? e.match(/^https?/) ? e : "https://" + e : null;
                }
            }
            i2(94);
            class yp extends Qe {
                static get pluginName() {
                    return "MediaEmbedEditing";
                }
                constructor(e188){
                    super(e188), e188.config.define("mediaEmbed", {
                        elementName: "oembed",
                        providers: [
                            {
                                name: "dailymotion",
                                url: /^dailymotion\.com\/video\/(\w+)/,
                                html: (e189)=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${e189[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`
                            },
                            {
                                name: "spotify",
                                url: [
                                    /^open\.spotify\.com\/(artist\/\w+)/,
                                    /^open\.spotify\.com\/(album\/\w+)/,
                                    /^open\.spotify\.com\/(track\/\w+)/
                                ],
                                html: (e189)=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${e189[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`
                            },
                            {
                                name: "youtube",
                                url: [
                                    /^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/,
                                    /^(?:m\.)?youtube\.com\/v\/([\w-]+)/,
                                    /^youtube\.com\/embed\/([\w-]+)/,
                                    /^youtu\.be\/([\w-]+)/
                                ],
                                html: (e189)=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${e189[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`
                            },
                            {
                                name: "vimeo",
                                url: [
                                    /^vimeo\.com\/(\d+)/,
                                    /^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,
                                    /^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,
                                    /^vimeo\.com\/channels\/[^/]+\/(\d+)/,
                                    /^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,
                                    /^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,
                                    /^player\.vimeo\.com\/video\/(\d+)/
                                ],
                                html: (e189)=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${e189[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`
                            },
                            {
                                name: "instagram",
                                url: /^instagram\.com\/p\/(\w+)/
                            },
                            {
                                name: "twitter",
                                url: /^twitter\.com/
                            },
                            {
                                name: "googleMaps",
                                url: [
                                    /^google\.com\/maps/,
                                    /^goo\.gl\/maps/,
                                    /^maps\.google\.com/,
                                    /^maps\.app\.goo\.gl/
                                ]
                            },
                            {
                                name: "flickr",
                                url: /^flickr\.com/
                            },
                            {
                                name: "facebook",
                                url: /^facebook\.com/
                            }
                        ]
                    }), this.registry = new _p(e188.locale, e188.config.get("mediaEmbed"));
                }
                init() {
                    const e189 = this.editor, t110 = e189.model.schema, i63 = e189.t, n36 = e189.conversion, o15 = e189.config.get("mediaEmbed.previewsInData"), r11 = e189.config.get("mediaEmbed.elementName"), s7 = this.registry;
                    e189.commands.add("mediaEmbed", new kp(e189)), t110.register("media", {
                        isObject: !0,
                        isBlock: !0,
                        allowWhere: "$block",
                        allowAttributes: [
                            "url"
                        ]
                    }), n36.for("dataDowncast").elementToElement({
                        model: "media",
                        view: (e190, { writer: t111  })=>{
                            const i64 = e190.getAttribute("url");
                            return pp(t111, s7, i64, {
                                elementName: r11,
                                renderMediaPreview: i64 && o15
                            });
                        }
                    }), n36.for("dataDowncast").add(fp(s7, {
                        elementName: r11,
                        renderMediaPreview: o15
                    })), n36.for("editingDowncast").elementToElement({
                        model: "media",
                        view: (e190, { writer: t111  })=>{
                            const n37 = e190.getAttribute("url");
                            return (function(e191, t112, i64) {
                                return t112.setCustomProperty("media", !0, e191), zh(e191, t112, {
                                    label: i64
                                });
                            })(pp(t111, s7, n37, {
                                elementName: r11,
                                renderForEditingView: !0
                            }), t111, i63("media widget"));
                        }
                    }), n36.for("editingDowncast").add(fp(s7, {
                        elementName: r11,
                        renderForEditingView: !0
                    })), n36.for("upcast").elementToElement({
                        view: (e190)=>[
                                "oembed",
                                r11
                            ].includes(e190.name) && e190.getAttribute("url") ? {
                                name: !0
                            } : null
                        ,
                        model: (e190, { writer: t111  })=>{
                            const i64 = e190.getAttribute("url");
                            if (s7.hasMedia(i64)) return t111.createElement("media", {
                                url: i64
                            });
                        }
                    }).elementToElement({
                        view: {
                            name: "div",
                            attributes: {
                                "data-oembed-url": !0
                            }
                        },
                        model: (e190, { writer: t111  })=>{
                            const i64 = e190.getAttribute("data-oembed-url");
                            if (s7.hasMedia(i64)) return t111.createElement("media", {
                                url: i64
                            });
                        }
                    });
                }
            }
            const xp = /^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;
            class Ap extends Qe {
                static get requires() {
                    return [
                        lu,
                        ig
                    ];
                }
                static get pluginName() {
                    return "AutoMediaEmbed";
                }
                constructor(e189){
                    super(e189), this._timeoutId = null, this._positionToInsert = null;
                }
                init() {
                    const e190 = this.editor, t110 = e190.model.document;
                    this.listenTo(e190.plugins.get("ClipboardPipeline"), "inputTransformation", ()=>{
                        const e191 = t110.selection.getFirstRange(), i63 = el.fromPosition(e191.start);
                        i63.stickiness = "toPrevious";
                        const n36 = el.fromPosition(e191.end);
                        n36.stickiness = "toNext", t110.once("change:data", ()=>{
                            this._embedMediaBetweenPositions(i63, n36), i63.detach(), n36.detach();
                        }, {
                            priority: "high"
                        });
                    }), e190.commands.get("undo").on("execute", ()=>{
                        this._timeoutId && (vr.window.clearTimeout(this._timeoutId), this._positionToInsert.detach(), this._timeoutId = null, this._positionToInsert = null);
                    }, {
                        priority: "high"
                    });
                }
                _embedMediaBetweenPositions(e, t) {
                    const i63 = this.editor, n36 = i63.plugins.get(yp).registry, o15 = new ba(e, t), r11 = o15.getWalker({
                        ignoreElementEnd: !0
                    });
                    let s7 = "";
                    for (const e190 of r11)e190.item.is("$textProxy") && (s7 += e190.item.data);
                    if (s7 = s7.trim(), !s7.match(xp)) return void o15.detach();
                    if (!n36.hasMedia(s7)) return void o15.detach();
                    i63.commands.get("mediaEmbed").isEnabled ? (this._positionToInsert = el.fromPosition(e), this._timeoutId = vr.window.setTimeout(()=>{
                        i63.model.change((e191)=>{
                            let t110;
                            this._timeoutId = null, e191.remove(o15), o15.detach(), "$graveyard" !== this._positionToInsert.root.rootName && (t110 = this._positionToInsert), wp(i63.model, s7, t110), this._positionToInsert.detach(), this._positionToInsert = null;
                        });
                    }, 100)) : o15.detach();
                }
            }
            i2(96);
            class Cp extends Ml {
                constructor(e190, t110){
                    super(t110);
                    const i63 = t110.t;
                    this.focusTracker = new Rs, this.keystrokes = new Os, this.set("mediaURLInputValue", ""), this.urlInputView = this._createUrlInput(), this.saveButtonView = this._createButton(i63("Save"), Tl.check, "ck-button-save"), this.saveButtonView.type = "submit", this.saveButtonView.bind("isEnabled").to(this, "mediaURLInputValue", (e191)=>!!e191
                    ), this.cancelButtonView = this._createButton(i63("Cancel"), Tl.cancel, "ck-button-cancel", "cancel"), this._focusables = new Pl, this._focusCycler = new id({
                        focusables: this._focusables,
                        focusTracker: this.focusTracker,
                        keystrokeHandler: this.keystrokes,
                        actions: {
                            focusPrevious: "shift + tab",
                            focusNext: "tab"
                        }
                    }), this._validators = e190, this.setTemplate({
                        tag: "form",
                        attributes: {
                            class: [
                                "ck",
                                "ck-media-form",
                                "ck-responsive-form"
                            ],
                            tabindex: "-1"
                        },
                        children: [
                            this.urlInputView,
                            this.saveButtonView,
                            this.cancelButtonView
                        ]
                    }), Il(this);
                }
                render() {
                    super.render(), Sl({
                        view: this
                    });
                    [
                        this.urlInputView,
                        this.saveButtonView,
                        this.cancelButtonView
                    ].forEach((e191)=>{
                        this._focusables.add(e191), this.focusTracker.add(e191.element);
                    }), this.keystrokes.listenTo(this.element);
                    const e191 = (e192)=>e192.stopPropagation()
                    ;
                    this.keystrokes.set("arrowright", e191), this.keystrokes.set("arrowleft", e191), this.keystrokes.set("arrowup", e191), this.keystrokes.set("arrowdown", e191), this.listenTo(this.urlInputView.element, "selectstart", (e192, t111)=>{
                        t111.stopPropagation();
                    }, {
                        priority: "high"
                    });
                }
                focus() {
                    this._focusCycler.focusFirst();
                }
                get url() {
                    return this.urlInputView.fieldView.element.value.trim();
                }
                set url(e) {
                    this.urlInputView.fieldView.element.value = e.trim();
                }
                isValid() {
                    this.resetFormStatus();
                    for (const e191 of this._validators){
                        const t111 = e191(this);
                        if (t111) return this.urlInputView.errorText = t111, !1;
                    }
                    return !0;
                }
                resetFormStatus() {
                    this.urlInputView.errorText = null, this.urlInputView.infoText = this._urlInputViewInfoDefault;
                }
                _createUrlInput() {
                    const e191 = this.locale.t, t111 = new Nd(this.locale, Rd), i64 = t111.fieldView;
                    return this._urlInputViewInfoDefault = e191("Paste the media URL in the input."), this._urlInputViewInfoTip = e191("Tip: Paste the URL into the content to embed faster."), t111.label = e191("Media URL"), t111.infoText = this._urlInputViewInfoDefault, i64.on("input", ()=>{
                        t111.infoText = i64.element.value ? this._urlInputViewInfoTip : this._urlInputViewInfoDefault, this.mediaURLInputValue = i64.element.value.trim();
                    }), t111;
                }
                _createButton(e, t, i, n) {
                    const o15 = new ed(this.locale);
                    return o15.set({
                        label: e,
                        icon: t,
                        tooltip: !0
                    }), o15.extendTemplate({
                        attributes: {
                            class: i
                        }
                    }), n && o15.delegate("execute").to(this, n), o15;
                }
            }
            class Tp extends Qe {
                static get requires() {
                    return [
                        yp
                    ];
                }
                static get pluginName() {
                    return "MediaEmbedUI";
                }
                init() {
                    const e191 = this.editor, t111 = e191.commands.get("mediaEmbed"), i64 = e191.plugins.get(yp).registry;
                    e191.ui.componentFactory.add("mediaEmbed", (n36)=>{
                        const o15 = xd(n36), r11 = new Cp(function(e192, t112) {
                            return [
                                (t113)=>{
                                    if (!t113.url.length) return e192("The URL must not be empty.");
                                },
                                (i65)=>{
                                    if (!t112.hasMedia(i65.url)) return e192("This media URL is not supported.");
                                }
                            ];
                        }(e191.t, i64), e191.locale);
                        return this._setUpDropdown(o15, r11, t111, e191), this._setUpForm(o15, r11, t111), o15;
                    });
                }
                _setUpDropdown(e, t, i) {
                    const n36 = this.editor, o15 = n36.t, r11 = e.buttonView;
                    function s7() {
                        n36.editing.view.focus(), e.isOpen = !1;
                    }
                    e.bind("isEnabled").to(i), e.panelView.children.add(t), r11.set({
                        label: o15("Insert media"),
                        icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',
                        tooltip: !0
                    }), r11.on("open", ()=>{
                        t.disableCssTransitions(), t.url = i.value || "", t.urlInputView.fieldView.select(), t.focus(), t.enableCssTransitions();
                    }, {
                        priority: "low"
                    }), e.on("submit", ()=>{
                        t.isValid() && (n36.execute("mediaEmbed", t.url), s7());
                    }), e.on("change:isOpen", ()=>t.resetFormStatus()
                    ), e.on("cancel", ()=>s7()
                    );
                }
                _setUpForm(e, t, i) {
                    t.delegate("submit", "cancel").to(e), t.urlInputView.bind("value").to(i, "value"), t.urlInputView.bind("isReadOnly").to(i, "isEnabled", (e191)=>!e191
                    );
                }
            }
            i2(98);
            function Ep(e191, t111) {
                if (!e191.childCount) return;
                const i64 = new gh(e191.document), n36 = function(e192, t112) {
                    const i65 = t112.createRangeIn(e192), n37 = new mn({
                        name: /^p|h\d+$/,
                        styles: {
                            "mso-list": /.*/
                        }
                    }), o15 = [];
                    for (const e193 of i65)if ("elementStart" === e193.type && n37.match(e193.item)) {
                        const t113 = Pp(e193.item);
                        o15.push({
                            element: e193.item,
                            id: t113.id,
                            order: t113.order,
                            indent: t113.indent
                        });
                    }
                    return o15;
                }(e191, i64);
                if (!n36.length) return;
                let o15 = null, r11 = 1;
                n36.forEach((e192, s7)=>{
                    const a4 = function(e193, t112) {
                        if (!e193) return !0;
                        if (e193.id !== t112.id) return t112.indent - e193.indent != 1;
                        const i65 = t112.element.previousSibling;
                        if (!i65) return !0;
                        var n37;
                        return n37 = i65, !(n37.is("element", "ol") || n37.is("element", "ul"));
                    }(n36[s7 - 1], e192), c7 = a4 ? null : n36[s7 - 1], l4 = (h3 = e192, (d6 = c7) ? h3.indent - d6.indent : h3.indent - 1);
                    var d6, h3;
                    if (a4 && (o15 = null, r11 = 1), !o15 || 0 !== l4) {
                        const n37 = function(e193, t112) {
                            const i65 = new RegExp(`@list l${e193.id}:level${e193.indent}\\s*({[^}]*)`, "gi"), n38 = /mso-level-number-format:([^;]{0,100});/gi, o16 = i65.exec(t112);
                            let r12 = "decimal", s8 = "ol";
                            if (o16 && o16[1]) {
                                const t113 = n38.exec(o16[1]);
                                if (t113 && t113[1] && (r12 = t113[1].trim(), s8 = "bullet" !== r12 && "image" !== r12 ? "ol" : "ul"), "bullet" === r12) {
                                    const t114 = function(e194) {
                                        const t115 = function(e195) {
                                            if (e195.getChild(0).is("$text")) return null;
                                            for (const t116 of e195.getChildren()){
                                                if (!t116.is("element", "span")) continue;
                                                const e196 = t116.getChild(0);
                                                return e196.is("$text") ? e196 : e196.getChild(0);
                                            }
                                        }(e194);
                                        if (!t115) return null;
                                        const i66 = t115._data;
                                        if ("o" === i66) return "circle";
                                        if ("·" === i66) return "disc";
                                        if ("§" === i66) return "square";
                                        return null;
                                    }(e193.element);
                                    t114 && (r12 = t114);
                                }
                            }
                            return {
                                type: s8,
                                style: Ip(r12)
                            };
                        }(e192, t111);
                        if (o15) {
                            if (e192.indent > r11) {
                                const e193 = o15.getChild(o15.childCount - 1), t112 = e193.getChild(e193.childCount - 1);
                                o15 = Sp(n37, t112, i64), r11 += 1;
                            } else if (e192.indent < r11) {
                                const t112 = r11 - e192.indent;
                                o15 = (function(e193, t113) {
                                    const i65 = e193.getAncestors({
                                        parentFirst: !0
                                    });
                                    let n38 = null, o16 = 0;
                                    for (const e194 of i65)if ("ul" !== e194.name && "ol" !== e194.name || o16++, o16 === t113) {
                                        n38 = e194;
                                        break;
                                    }
                                    return n38;
                                })(o15, t112), r11 = parseInt(e192.indent);
                            }
                        } else o15 = Sp(n37, e192.element, i64);
                        e192.indent <= r11 && (o15.is("element", n37.type) || (o15 = i64.rename(n37.type, o15)));
                    }
                    const u4 = function(e193, t112) {
                        return (function(e194, t113) {
                            const i65 = new mn({
                                name: "span",
                                styles: {
                                    "mso-list": "Ignore"
                                }
                            }), n37 = t113.createRangeIn(e194);
                            for (const e195 of n37)"elementStart" === e195.type && i65.match(e195.item) && t113.remove(e195.item);
                        })(e193, t112), t112.rename("li", e193);
                    }(e192.element, i64);
                    i64.appendChild(u4, o15);
                });
            }
            function Ip(e191) {
                switch(e191){
                    case "arabic-leading-zero":
                        return "decimal-leading-zero";
                    case "alpha-upper":
                        return "upper-alpha";
                    case "alpha-lower":
                        return "lower-alpha";
                    case "roman-upper":
                        return "upper-roman";
                    case "roman-lower":
                        return "lower-roman";
                    case "circle":
                    case "disc":
                    case "square":
                        return e191;
                    default:
                        return null;
                }
            }
            function Sp(e191, t111, i64) {
                const n36 = t111.parent, o15 = i64.createElement(e191.type), r11 = n36.getChildIndex(t111) + 1;
                return i64.insertChild(r11, o15, n36), e191.style && i64.setStyle("list-style-type", e191.style, o15), o15;
            }
            function Pp(e191) {
                const t111 = {
                }, i64 = e191.getStyle("mso-list");
                if (i64) {
                    const e192 = i64.match(/(^|\s{1,100})l(\d+)/i), n36 = i64.match(/\s{0,100}lfo(\d+)/i), o15 = i64.match(/\s{0,100}level(\d+)/i);
                    e192 && n36 && o15 && (t111.id = e192[2], t111.order = n36[1], t111.indent = o15[1]);
                }
                return t111;
            }
            const Mp = /id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;
            class Np {
                constructor(e191){
                    this.document = e191;
                }
                isActive(e) {
                    return Mp.test(e);
                }
                execute(e) {
                    const t111 = new gh(this.document), { body: i64  } = e._parsedData;
                    !function(e192, t112) {
                        for (const i65 of e192.getChildren())if (i65.is("element", "b") && "normal" === i65.getStyle("font-weight")) {
                            const n36 = e192.getChildIndex(i65);
                            t112.remove(i65), t112.insertChild(n36, i65.getChildren(), e192);
                        }
                    }(i64, t111), (function(e192, t112) {
                        for (const i65 of t112.createRangeIn(e192)){
                            const e193 = i65.item;
                            if (e193.is("element", "li")) {
                                const i66 = e193.getChild(0);
                                i66 && i66.is("element", "p") && t112.unwrapElement(i66);
                            }
                        }
                    })(i64, t111), e.content = i64;
                }
            }
            function Rp(e192, t111) {
                if (!e192.childCount) return;
                const i64 = new gh;
                !function(e193, t112, i65) {
                    const n36 = i65.createRangeIn(t112), o15 = new mn({
                        name: "img"
                    }), r11 = [];
                    for (const t113 of n36)if (o15.match(t113.item)) {
                        const i66 = t113.item, n37 = i66.getAttribute("v:shapes") ? i66.getAttribute("v:shapes").split(" ") : [];
                        n37.length && n37.every((t114)=>e193.indexOf(t114) > -1
                        ) ? r11.push(i66) : i66.getAttribute("src") || r11.push(i66);
                    }
                    for (const e194 of r11)i65.remove(e194);
                }(function(e193, t112) {
                    const i65 = t112.createRangeIn(e193), n36 = new mn({
                        name: /v:(.+)/
                    }), o15 = [];
                    for (const e194 of i65){
                        const t113 = e194.item, i66 = t113.previousSibling && t113.previousSibling.name || null;
                        n36.match(t113) && t113.getAttribute("o:gfxdata") && "v:shapetype" !== i66 && o15.push(e194.item.getAttribute("id"));
                    }
                    return o15;
                }(e192, i64), e192, i64), (function(e193, t112) {
                    const i65 = t112.createRangeIn(e193), n36 = new mn({
                        name: /v:(.+)/
                    }), o15 = [];
                    for (const e194 of i65)n36.match(e194.item) && o15.push(e194.item);
                    for (const e195 of o15)t112.remove(e195);
                })(e192, i64);
                const n36 = function(e193, t112) {
                    const i65 = t112.createRangeIn(e193), n37 = new mn({
                        name: "img"
                    }), o15 = [];
                    for (const e194 of i65)n37.match(e194.item) && e194.item.getAttribute("src").startsWith("file://") && o15.push(e194.item);
                    return o15;
                }(e192, i64);
                n36.length && (function(e193, t112, i65) {
                    if (e193.length === t112.length) for(let o15 = 0; o15 < e193.length; o15++){
                        const r11 = `data:${t112[o15].type};base64,${(n37 = t112[o15].hex, btoa(n37.match(/\w{2}/g).map((e194)=>String.fromCharCode(parseInt(e194, 16))
                        ).join("")))}`;
                        i65.setAttribute("src", r11, e193[o15]);
                    }
                    var n37;
                })(n36, function(e193) {
                    if (!e193) return [];
                    const t112 = /{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/, i65 = new RegExp("(?:(" + t112.source + "))([\\da-fA-F\\s]+)\\}", "g"), n37 = e193.match(i65), o15 = [];
                    if (n37) for (const e194 of n37){
                        let i66 = !1;
                        e194.includes("\\pngblip") ? i66 = "image/png" : e194.includes("\\jpegblip") && (i66 = "image/jpeg"), i66 && o15.push({
                            hex: e194.replace(t112, "").replace(/[^\da-fA-F]/g, ""),
                            type: i66
                        });
                    }
                    return o15;
                }(t111), i64);
            }
            const Op = /<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i, zp = /xmlns:o="urn:schemas-microsoft-com/i;
            class Dp {
                constructor(e192){
                    this.document = e192;
                }
                isActive(e) {
                    return Op.test(e) || zp.test(e);
                }
                execute(e) {
                    const { body: t111 , stylesString: i64  } = e._parsedData;
                    Ep(t111, i64), Rp(t111, e.dataTransfer.getData("text/rtf")), e.content = t111;
                }
            }
            function Lp(e193) {
                return e193.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g, (e194, t111)=>1 === t111.length ? " " : Array(t111.length + 1).join("  ").substr(0, t111.length)
                );
            }
            function Vp(e193, t111) {
                const i64 = new DOMParser, n36 = function(e194) {
                    return Lp(Lp(e194)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g, "$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g, "").replace(/ <\//g, " </").replace(/ <o:p><\/o:p>/g, " <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g, "").replace(/>([^\S\r\n]*[\r\n]\s*)</g, "><");
                }(function(e194) {
                    const t112 = e194.indexOf("</body>");
                    if (t112 < 0) return e194;
                    const i65 = e194.indexOf("</html>", t112 + 7);
                    return e194.substring(0, t112 + 7) + (i65 >= 0 ? e194.substring(i65) : "");
                }(e193 = e193.replace(/<!--\[if gte vml 1]>/g, ""))), o15 = i64.parseFromString(n36, "text/html");
                !function(e194) {
                    e194.querySelectorAll("span[style*=spacerun]").forEach((e195)=>{
                        const t112 = e195.innerText.length || 0;
                        e195.innerHTML = Array(t112 + 1).join("  ").substr(0, t112);
                    });
                }(o15);
                const r11 = o15.body.innerHTML, s7 = function(e194, t112) {
                    const i65 = new yo(t112), n37 = new Er(i65, {
                        blockFillerMode: "nbsp"
                    }), o16 = e194.createDocumentFragment(), r12 = e194.body.childNodes;
                    for(; r12.length > 0;)o16.appendChild(r12[0]);
                    return n37.domToView(o16, {
                        skipComments: !0
                    });
                }(o15, t111), a4 = function(e194) {
                    const t112 = [], i65 = [], n37 = Array.from(e194.getElementsByTagName("style"));
                    for (const e195 of n37)e195.sheet && e195.sheet.cssRules && e195.sheet.cssRules.length && (t112.push(e195.sheet), i65.push(e195.innerHTML));
                    return {
                        styles: t112,
                        stylesString: i65.join(" ")
                    };
                }(o15);
                return {
                    body: s7,
                    bodyString: r11,
                    styles: a4.styles,
                    stylesString: a4.stylesString
                };
            }
            function jp(e193, t111, i64, n36, o15 = 1) {
                t111 > o15 ? n36.setAttribute(e193, t111, i64) : n36.removeAttribute(e193, i64);
            }
            function Bp(e193, t111, i64 = {
            }) {
                const n36 = e193.createElement("tableCell", i64);
                return e193.insertElement("paragraph", n36), e193.insert(n36, t111), n36;
            }
            function Fp(e193, t111) {
                const i64 = t111.parent.parent, n36 = parseInt(i64.getAttribute("headingColumns") || 0), { column: o15  } = e193.getCellLocation(t111);
                return !!n36 && o15 < n36;
            }
            function Hp() {
                return (e193)=>{
                    e193.on("element:table", (e194, t111, i64)=>{
                        const n36 = t111.viewItem;
                        if (!i64.consumable.test(n36, {
                            name: !0
                        })) return;
                        const { rows: o15 , headingRows: r11 , headingColumns: s7  } = function(e195) {
                            const t112 = {
                                headingRows: 0,
                                headingColumns: 0
                            }, i65 = [], n37 = [];
                            let o16;
                            for (const r12 of Array.from(e195.getChildren()))if ("tbody" === r12.name || "thead" === r12.name || "tfoot" === r12.name) {
                                "thead" !== r12.name || o16 || (o16 = r12);
                                const e196 = Array.from(r12.getChildren()).filter((e197)=>e197.is("element", "tr")
                                );
                                for (const r13 of e196)if ("thead" === r13.parent.name && r13.parent === o16) t112.headingRows++, i65.push(r13);
                                else {
                                    n37.push(r13);
                                    const e197 = Wp(r13);
                                    e197 > t112.headingColumns && (t112.headingColumns = e197);
                                }
                            }
                            return t112.rows = [
                                ...i65,
                                ...n37
                            ], t112;
                        }(n36), a4 = {
                        };
                        s7 && (a4.headingColumns = s7), r11 && (a4.headingRows = r11);
                        const c7 = i64.writer.createElement("table", a4);
                        if (i64.safeInsert(c7, t111.modelCursor)) {
                            if (i64.consumable.consume(n36, {
                                name: !0
                            }), o15.forEach((e195)=>i64.convertItem(e195, i64.writer.createPositionAt(c7, "end"))
                            ), i64.convertChildren(n36, i64.writer.createPositionAt(c7, "end")), c7.isEmpty) {
                                const e195 = i64.writer.createElement("tableRow");
                                i64.writer.insert(e195, i64.writer.createPositionAt(c7, "end")), Bp(i64.writer, i64.writer.createPositionAt(e195, "end"));
                            }
                            i64.updateConversionResult(c7, t111);
                        }
                    });
                };
            }
            function Up(e193) {
                return (t111)=>{
                    t111.on("element:" + e193, (e194, t112, i64)=>{
                        if (t112.modelRange && t112.viewItem.isEmpty) {
                            const e195 = t112.modelRange.start.nodeAfter, n36 = i64.writer.createPositionAt(e195, 0);
                            i64.writer.insertElement("paragraph", n36);
                        }
                    }, {
                        priority: "low"
                    });
                };
            }
            function Wp(e193) {
                let t111 = 0, i64 = 0;
                const n36 = Array.from(e193.getChildren()).filter((e194)=>"th" === e194.name || "td" === e194.name
                );
                for(; i64 < n36.length && "th" === n36[i64].name;){
                    const e194 = n36[i64];
                    t111 += parseInt(e194.getAttribute("colspan") || 1), i64++;
                }
                return t111;
            }
            class qp {
                constructor(e193, t111 = {
                }){
                    this._table = e193, this._startRow = (void 0) !== t111.row ? t111.row : t111.startRow || 0, this._endRow = (void 0) !== t111.row ? t111.row : t111.endRow, this._startColumn = (void 0) !== t111.column ? t111.column : t111.startColumn || 0, this._endColumn = (void 0) !== t111.column ? t111.column : t111.endColumn, this._includeAllSlots = !!t111.includeAllSlots, this._skipRows = new Set, this._row = 0, this._rowIndex = 0, this._column = 0, this._cellIndex = 0, this._spannedCells = new Map, this._nextCellAtColumn = -1;
                }
                [Symbol.iterator]() {
                    return this;
                }
                next() {
                    const e194 = this._table.getChild(this._rowIndex);
                    if (!e194 || this._isOverEndRow()) return {
                        done: !0
                    };
                    if (!e194.is("element", "tableRow")) return this._rowIndex++, this.next();
                    if (this._isOverEndColumn()) return this._advanceToNextRow();
                    let t112 = null;
                    const i64 = this._getSpanned();
                    if (i64) this._includeAllSlots && !this._shouldSkipSlot() && (t112 = this._formatOutValue(i64.cell, i64.row, i64.column));
                    else {
                        const i65 = e194.getChild(this._cellIndex);
                        if (!i65) return this._advanceToNextRow();
                        const n36 = parseInt(i65.getAttribute("colspan") || 1), o15 = parseInt(i65.getAttribute("rowspan") || 1);
                        (n36 > 1 || o15 > 1) && this._recordSpans(i65, o15, n36), this._shouldSkipSlot() || (t112 = this._formatOutValue(i65)), this._nextCellAtColumn = this._column + n36;
                    }
                    return this._column++, this._column == this._nextCellAtColumn && this._cellIndex++, t112 || this.next();
                }
                skipRow(e) {
                    this._skipRows.add(e);
                }
                _advanceToNextRow() {
                    return this._row++, this._rowIndex++, this._column = 0, this._cellIndex = 0, this._nextCellAtColumn = -1, this.next();
                }
                _isOverEndRow() {
                    return (void 0) !== this._endRow && this._row > this._endRow;
                }
                _isOverEndColumn() {
                    return (void 0) !== this._endColumn && this._column > this._endColumn;
                }
                _formatOutValue(e, t = this._row, i = this._column) {
                    return {
                        done: !1,
                        value: new $p(this, e, t, i)
                    };
                }
                _shouldSkipSlot() {
                    const e194 = this._skipRows.has(this._row), t112 = this._row < this._startRow, i64 = this._column < this._startColumn, n36 = (void 0) !== this._endColumn && this._column > this._endColumn;
                    return e194 || t112 || i64 || n36;
                }
                _getSpanned() {
                    const e194 = this._spannedCells.get(this._row);
                    return e194 && e194.get(this._column) || null;
                }
                _recordSpans(e, t, i) {
                    const n36 = {
                        cell: e,
                        row: this._row,
                        column: this._column
                    };
                    for(let e194 = this._row; e194 < this._row + t; e194++)for(let t112 = this._column; t112 < this._column + i; t112++)e194 == this._row && t112 == this._column || this._markSpannedCell(e194, t112, n36);
                }
                _markSpannedCell(e, t, i) {
                    this._spannedCells.has(e) || this._spannedCells.set(e, new Map);
                    this._spannedCells.get(e).set(t, i);
                }
            }
            class $p {
                constructor(e194, t112, i64, n36){
                    this.cell = t112, this.row = e194._row, this.column = e194._column, this.cellAnchorRow = i64, this.cellAnchorColumn = n36, this._cellIndex = e194._cellIndex, this._rowIndex = e194._rowIndex, this._table = e194._table;
                }
                get isAnchor() {
                    return this.row === this.cellAnchorRow && this.column === this.cellAnchorColumn;
                }
                get cellWidth() {
                    return parseInt(this.cell.getAttribute("colspan") || 1);
                }
                get cellHeight() {
                    return parseInt(this.cell.getAttribute("rowspan") || 1);
                }
                get rowIndex() {
                    return this._rowIndex;
                }
                getPositionBefore() {
                    return this._table.root.document.model.createPositionAt(this._table.getChild(this.row), this._cellIndex);
                }
            }
            function Yp(e195 = {
            }) {
                return (t113)=>t113.on("insert:table", (t114, i65, n37)=>{
                        const o15 = i65.item;
                        if (!n37.consumable.consume(o15, "insert")) return;
                        n37.consumable.consume(o15, "attribute:headingRows:table"), n37.consumable.consume(o15, "attribute:headingColumns:table");
                        const r11 = e195 && e195.asWidget, s7 = n37.writer.createContainerElement("figure", {
                            class: "table"
                        }), a4 = n37.writer.createContainerElement("table");
                        let c7;
                        var l4, d7;
                        n37.writer.insert(n37.writer.createPositionAt(s7, 0), a4), r11 && (l4 = s7, (d7 = n37.writer).setCustomProperty("table", !0, l4), c7 = zh(l4, d7, {
                            hasSelectionHandle: !0
                        }));
                        const h4 = new qp(o15), u4 = {
                            headingRows: o15.getAttribute("headingRows") || 0,
                            headingColumns: o15.getAttribute("headingColumns") || 0
                        }, g4 = new Map;
                        for (const t115 of h4){
                            const { row: i66 , cell: r12  } = t115, s8 = o15.getChild(i66), c8 = g4.get(i66) || Zp(a4, s8, i66, u4, n37);
                            g4.set(i66, c8), n37.consumable.consume(r12, "insert");
                            Jp(t115, u4, n37.writer.createPositionAt(c8, "end"), n37, e195);
                        }
                        for (const e196 of o15.getChildren()){
                            const t116 = e196.index;
                            e196.is("element", "tableRow") && !g4.has(t116) && g4.set(t116, Zp(a4, e196, t116, u4, n37));
                        }
                        const m4 = n37.mapper.toViewPosition(i65.range.start);
                        n37.mapper.bindElements(o15, r11 ? c7 : s7), n37.writer.insert(m4, r11 ? c7 : s7);
                    })
                ;
            }
            function Gp(e195, t113) {
                const { writer: i65  } = t113;
                if (e195.parent.is("element", "tableCell")) return Kp(e195) ? i65.createContainerElement("span", {
                    class: "ck-table-bogus-paragraph"
                }) : i65.createContainerElement("p");
            }
            function Kp(e195) {
                return 1 === e195.parent.childCount && !ib(e195);
            }
            function Qp(e195, t113, i65) {
                const { cell: n37  } = e195, o15 = Xp(e195, t113), r11 = i65.mapper.toViewElement(n37);
                r11 && r11.name !== o15 && (function(e196, t114, i66) {
                    const n38 = i66.writer, o16 = i66.mapper.toViewElement(e196), r12 = Bh(n38.createEditableElement(t114, o16.getAttributes()), n38);
                    Vh(r12, n38, (e197, t115, i67)=>i67.addClass(en(t115.classes), e197)
                    , (e197, t115, i67)=>i67.removeClass(en(t115.classes), e197)
                    ), n38.insert(n38.createPositionAfter(o16), r12), n38.move(n38.createRangeIn(o16), n38.createPositionAt(r12, 0)), n38.remove(n38.createRangeOn(o16)), i66.mapper.unbindViewElement(o16), i66.mapper.bindElements(e196, r12);
                })(n37, o15, i65);
            }
            function Jp(e195, t113, i65, n37, o15) {
                const r11 = o15 && o15.asWidget, s7 = Xp(e195, t113), a4 = r11 ? Bh(n37.writer.createEditableElement(s7), n37.writer) : n37.writer.createContainerElement(s7);
                r11 && Vh(a4, n37.writer, (e196, t114, i66)=>i66.addClass(en(t114.classes), e196)
                , (e196, t114, i66)=>i66.removeClass(en(t114.classes), e196)
                );
                const c7 = e195.cell, l5 = c7.getChild(0), d8 = 1 === c7.childCount && "paragraph" === l5.name;
                if (n37.writer.insert(i65, a4), n37.mapper.bindElements(c7, a4), !r11 && d8 && !ib(l5)) {
                    const e196 = c7.getChild(0);
                    n37.consumable.consume(e196, "insert"), n37.mapper.bindElements(e196, a4);
                }
            }
            function Zp(e195, t113, i65, n37, o15) {
                o15.consumable.consume(t113, "insert");
                const r11 = t113.isEmpty ? o15.writer.createEmptyElement("tr") : o15.writer.createContainerElement("tr");
                o15.mapper.bindElements(t113, r11);
                const s7 = n37.headingRows, a4 = function(e196, t114, i66) {
                    const n38 = eb(e196, t114);
                    return n38 || (function(e197, t115, i67) {
                        const n39 = i67.writer.createContainerElement(e197), o16 = i67.writer.createPositionAt(t115, "tbody" == e197 ? "end" : 0);
                        return i67.writer.insert(o16, n39), n39;
                    })(e196, t114, i66);
                }(function(e196, t114) {
                    return e196 < t114.headingRows ? "thead" : "tbody";
                }(i65, n37), e195, o15), c7 = s7 > 0 && i65 >= s7 ? i65 - s7 : i65, l5 = o15.writer.createPositionAt(a4, c7);
                return o15.writer.insert(l5, r11), r11;
            }
            function Xp(e195, t113) {
                const { row: i65 , column: n37  } = e195, { headingColumns: o15 , headingRows: r11  } = t113;
                if (r11 && r11 > i65) return "th";
                return o15 && o15 > n37 ? "th" : "td";
            }
            function eb(e195, t113) {
                for (const i65 of t113.getChildren())if (i65.name == e195) return i65;
            }
            function tb(e195, t113, i65) {
                const n37 = eb(e195, t113);
                n37 && 0 === n37.childCount && i65.writer.remove(i65.writer.createRangeOn(n37));
            }
            function ib(e195) {
                return !![
                    ...e195.getAttributeKeys()
                ].length;
            }
            class nb extends Ze {
                refresh() {
                    const e195 = this.editor.model, t113 = e195.document.selection, i65 = e195.schema;
                    this.isEnabled = (function(e196, t114) {
                        const i66 = e196.getFirstPosition().parent, n37 = i66 === i66.root ? i66 : i66.parent;
                        return t114.checkChild(n37, "table");
                    })(t113, i65);
                }
                execute(e = {
                }) {
                    const t113 = this.editor.model, i65 = t113.document.selection, n37 = this.editor.plugins.get("TableUtils"), o15 = this.editor.config.get("table"), r11 = Fh(i65, t113), s7 = o15.defaultHeadings.rows, a4 = o15.defaultHeadings.columns;
                    (void 0) === e.headingRows && s7 && (e.headingRows = s7), (void 0) === e.headingColumns && a4 && (e.headingColumns = a4), t113.change((i66)=>{
                        const o16 = n37.createTable(i66, e);
                        t113.insertContent(o16, r11), i66.setSelection(i66.createPositionAt(o16.getNodeByPath([
                            0,
                            0,
                            0
                        ]), 0));
                    });
                }
            }
            function ob(e195) {
                const t113 = [];
                for (const i65 of db(e195.getRanges())){
                    const e196 = i65.getContainedElement();
                    e196 && e196.is("element", "tableCell") && t113.push(e196);
                }
                return t113;
            }
            function rb(e195) {
                const t113 = [];
                for (const i65 of e195.getRanges()){
                    const e196 = i65.start.findAncestor("tableCell");
                    e196 && t113.push(e196);
                }
                return t113;
            }
            function sb(e195) {
                const t113 = ob(e195);
                return t113.length ? t113 : rb(e195);
            }
            function ab(e195) {
                return hb(e195.map((e196)=>e196.parent.index
                ));
            }
            function cb(e195) {
                const t113 = e195[0].findAncestor("table");
                return hb([
                    ...new qp(t113)
                ].filter((t114)=>e195.includes(t114.cell)
                ).map((e196)=>e196.column
                ));
            }
            function lb(e195, t113) {
                if (e195.length < 2 || !function(e196) {
                    const t114 = e196[0].findAncestor("table"), i65 = ab(e196), n37 = parseInt(t114.getAttribute("headingRows") || 0);
                    if (!gb(i65, n37)) return !1;
                    const o15 = parseInt(t114.getAttribute("headingColumns") || 0);
                    return gb(cb(e196), o15);
                }(e195)) return !1;
                const i65 = new Set, n37 = new Set;
                let o15 = 0;
                for (const r11 of e195){
                    const { row: e196 , column: s7  } = t113.getCellLocation(r11), a4 = parseInt(r11.getAttribute("rowspan") || 1), c7 = parseInt(r11.getAttribute("colspan") || 1);
                    i65.add(e196), n37.add(s7), a4 > 1 && i65.add(e196 + a4 - 1), c7 > 1 && n37.add(s7 + c7 - 1), o15 += a4 * c7;
                }
                return (function(e196, t114) {
                    const i66 = Array.from(e196.values()), n38 = Array.from(t114.values()), o16 = Math.max(...i66), r12 = Math.min(...i66), s7 = Math.max(...n38), a4 = Math.min(...n38);
                    return (o16 - r12 + 1) * (s7 - a4 + 1);
                })(i65, n37) == o15;
            }
            function db(e195) {
                return Array.from(e195).sort(ub);
            }
            function hb(e195) {
                const t113 = e195.sort((e196, t114)=>e196 - t114
                );
                return {
                    first: t113[0],
                    last: t113[t113.length - 1]
                };
            }
            function ub(e195, t113) {
                const i65 = e195.start, n37 = t113.start;
                return i65.isBefore(n37) ? -1 : 1;
            }
            function gb({ first: e195 , last: t113  }, i65) {
                return e195 < i65 === t113 < i65;
            }
            class mb extends Ze {
                constructor(e195, t113 = {
                }){
                    super(e195), this.order = t113.order || "below";
                }
                refresh() {
                    const e196 = !!sb(this.editor.model.document.selection).length;
                    this.isEnabled = e196;
                }
                execute() {
                    const e196 = this.editor, t114 = e196.model.document.selection, i65 = e196.plugins.get("TableUtils"), n37 = "above" === this.order, o15 = sb(t114), r11 = ab(o15), s7 = n37 ? r11.first : r11.last, a4 = o15[0].findAncestor("table");
                    i65.insertRows(a4, {
                        at: n37 ? s7 : s7 + 1,
                        copyStructureFromAbove: !n37
                    });
                }
            }
            class fb extends Ze {
                constructor(e196, t114 = {
                }){
                    super(e196), this.order = t114.order || "right";
                }
                refresh() {
                    const e197 = !!sb(this.editor.model.document.selection).length;
                    this.isEnabled = e197;
                }
                execute() {
                    const e197 = this.editor, t115 = e197.model.document.selection, i65 = e197.plugins.get("TableUtils"), n37 = "left" === this.order, o15 = sb(t115), r11 = cb(o15), s7 = n37 ? r11.first : r11.last, a4 = o15[0].findAncestor("table");
                    i65.insertColumns(a4, {
                        columns: 1,
                        at: n37 ? s7 : s7 + 1
                    });
                }
            }
            class pb extends Ze {
                constructor(e197, t115 = {
                }){
                    super(e197), this.direction = t115.direction || "horizontally";
                }
                refresh() {
                    const e198 = sb(this.editor.model.document.selection);
                    this.isEnabled = 1 === e198.length;
                }
                execute() {
                    const e198 = sb(this.editor.model.document.selection)[0], t116 = "horizontally" === this.direction, i65 = this.editor.plugins.get("TableUtils");
                    t116 ? i65.splitCellHorizontally(e198, 2) : i65.splitCellVertically(e198, 2);
                }
            }
            function bb(e198, t116, i65) {
                const { startRow: n37 , startColumn: o15 , endRow: r11 , endColumn: s7  } = t116, a4 = i65.createElement("table"), c7 = r11 - n37 + 1;
                for(let e199 = 0; e199 < c7; e199++)i65.insertElement("tableRow", a4, "end");
                const l5 = [
                    ...new qp(e198, {
                        startRow: n37,
                        endRow: r11,
                        startColumn: o15,
                        endColumn: s7,
                        includeAllSlots: !0
                    })
                ];
                for (const { row: e200 , column: t117 , cell: c8 , isAnchor: d8 , cellAnchorRow: h4 , cellAnchorColumn: u4  } of l5){
                    const l6 = e200 - n37, g4 = a4.getChild(l6);
                    if (d8) {
                        const n38 = i65.cloneElement(c8);
                        i65.append(n38, g4), yb(n38, e200, t117, r11, s7, i65);
                    } else (h4 < n37 || u4 < o15) && Bp(i65, i65.createPositionAt(g4, "end"));
                }
                return (function(e201, t118, i66, n38, o16) {
                    const r12 = parseInt(t118.getAttribute("headingRows") || 0);
                    if (r12 > 0) jp("headingRows", r12 - i66, e201, o16, 0);
                    const s8 = parseInt(t118.getAttribute("headingColumns") || 0);
                    if (s8 > 0) jp("headingColumns", s8 - n38, e201, o16, 0);
                })(a4, e198, n37, o15, i65), a4;
            }
            function wb(e198, t116, i65 = 0) {
                const n37 = [], o15 = new qp(e198, {
                    startRow: i65,
                    endRow: t116 - 1
                });
                for (const e199 of o15){
                    const { row: i66 , cellHeight: o16  } = e199, r11 = i66 + o16 - 1;
                    i66 < t116 && t116 <= r11 && n37.push(e199);
                }
                return n37;
            }
            function kb(e198, t116, i65) {
                const n37 = e198.parent, o15 = n37.parent, r11 = n37.index, s7 = t116 - r11, a4 = {
                }, c7 = parseInt(e198.getAttribute("rowspan")) - s7;
                c7 > 1 && (a4.rowspan = c7);
                const l5 = parseInt(e198.getAttribute("colspan") || 1);
                l5 > 1 && (a4.colspan = l5);
                const d8 = r11 + s7, h4 = [
                    ...new qp(o15, {
                        startRow: r11,
                        endRow: d8,
                        includeAllSlots: !0
                    })
                ];
                let u4, g4 = null;
                for (const t117 of h4){
                    const { row: n38 , column: o16 , cell: r12  } = t117;
                    r12 === e198 && (void 0) === u4 && (u4 = o16), (void 0) !== u4 && u4 === o16 && n38 === d8 && (g4 = Bp(i65, t117.getPositionBefore(), a4));
                }
                return jp("rowspan", s7, e198, i65), g4;
            }
            function _b(e198, t116) {
                const i65 = [], n37 = new qp(e198);
                for (const e199 of n37){
                    const { column: n38 , cellWidth: o15  } = e199, r11 = n38 + o15 - 1;
                    n38 < t116 && t116 <= r11 && i65.push(e199);
                }
                return i65;
            }
            function vb(e198, t116, i65, n37) {
                const o15 = i65 - t116, r11 = {
                }, s7 = parseInt(e198.getAttribute("colspan")) - o15;
                s7 > 1 && (r11.colspan = s7);
                const a4 = parseInt(e198.getAttribute("rowspan") || 1);
                a4 > 1 && (r11.rowspan = a4);
                const c7 = Bp(n37, n37.createPositionAfter(e198), r11);
                return jp("colspan", o15, e198, n37), c7;
            }
            function yb(e198, t116, i65, n37, o15, r11) {
                const s7 = parseInt(e198.getAttribute("colspan") || 1), a4 = parseInt(e198.getAttribute("rowspan") || 1);
                if (i65 + s7 - 1 > o15) jp("colspan", o15 - i65 + 1, e198, r11, 1);
                if (t116 + a4 - 1 > n37) jp("rowspan", n37 - t116 + 1, e198, r11, 1);
            }
            function xb(e198, t116) {
                const i65 = t116.getColumns(e198), n37 = new Array(i65).fill(0);
                for (const { column: t117  } of new qp(e198))n37[t117]++;
                const o15 = n37.reduce((e199, t118, i66)=>t118 ? e199 : [
                        ...e199,
                        i66
                    ]
                , []);
                if (o15.length > 0) {
                    const i66 = o15[o15.length - 1];
                    return t116.removeColumns(e198, {
                        at: i66
                    }), !0;
                }
                return !1;
            }
            function Ab(e198, t116) {
                const i65 = [], n37 = t116.getRows(e198);
                for(let t117 = 0; t117 < n37; t117++)e198.getChild(t117).isEmpty && i65.push(t117);
                if (i65.length > 0) {
                    const n38 = i65[i65.length - 1];
                    return t116.removeRows(e198, {
                        at: n38
                    }), !0;
                }
                return !1;
            }
            function Cb(e198, t116) {
                xb(e198, t116) || Ab(e198, t116);
            }
            function Tb(e198, t116) {
                const i65 = Array.from(new qp(e198, {
                    startColumn: t116.firstColumn,
                    endColumn: t116.lastColumn,
                    row: t116.lastRow
                }));
                if (i65.every(({ cellHeight: e199  })=>1 === e199
                )) return t116.lastRow;
                const n37 = i65[0].cellHeight - 1;
                return t116.lastRow + n37;
            }
            function Eb(e198, t116) {
                const i65 = Array.from(new qp(e198, {
                    startRow: t116.firstRow,
                    endRow: t116.lastRow,
                    column: t116.lastColumn
                }));
                if (i65.every(({ cellWidth: e199  })=>1 === e199
                )) return t116.lastColumn;
                const n37 = i65[0].cellWidth - 1;
                return t116.lastColumn + n37;
            }
            class Ib extends Ze {
                constructor(e198, t116){
                    super(e198), this.direction = t116.direction, this.isHorizontal = "right" == this.direction || "left" == this.direction;
                }
                refresh() {
                    const e199 = this._getMergeableCell();
                    this.value = e199, this.isEnabled = !!e199;
                }
                execute() {
                    const e199 = this.editor.model, t117 = rb(e199.document.selection)[0], i65 = this.value, n37 = this.direction;
                    e199.change((e200)=>{
                        const o15 = "right" == n37 || "down" == n37, r11 = o15 ? t117 : i65, s7 = o15 ? i65 : t117, a4 = s7.parent;
                        !function(e201, t118, i66) {
                            Sb(e201) || (Sb(t118) && i66.remove(i66.createRangeIn(t118)), i66.move(i66.createRangeIn(e201), i66.createPositionAt(t118, "end")));
                            i66.remove(e201);
                        }(s7, r11, e200);
                        const c7 = this.isHorizontal ? "colspan" : "rowspan", l5 = parseInt(t117.getAttribute(c7) || 1), d8 = parseInt(i65.getAttribute(c7) || 1);
                        e200.setAttribute(c7, l5 + d8, r11), e200.setSelection(e200.createRangeIn(r11));
                        const h4 = this.editor.plugins.get("TableUtils");
                        Cb(a4.findAncestor("table"), h4);
                    });
                }
                _getMergeableCell() {
                    const e199 = rb(this.editor.model.document.selection)[0];
                    if (!e199) return;
                    const t117 = this.editor.plugins.get("TableUtils"), i65 = this.isHorizontal ? function(e200, t118, i66) {
                        const n37 = e200.parent.parent, o15 = "right" == t118 ? e200.nextSibling : e200.previousSibling, r11 = (n37.getAttribute("headingColumns") || 0) > 0;
                        if (!o15) return;
                        const s7 = "right" == t118 ? e200 : o15, a4 = "right" == t118 ? o15 : e200, { column: c7  } = i66.getCellLocation(s7), { column: l5  } = i66.getCellLocation(a4), d8 = parseInt(s7.getAttribute("colspan") || 1), h4 = Fp(i66, s7), u4 = Fp(i66, a4);
                        if (r11 && h4 != u4) return;
                        return c7 + d8 === l5 ? o15 : void 0;
                    }(e199, this.direction, t117) : function(e200, t118, i66) {
                        const n37 = e200.parent, o15 = n37.parent, r11 = o15.getChildIndex(n37);
                        if ("down" == t118 && r11 === i66.getRows(o15) - 1 || "up" == t118 && 0 === r11) return;
                        const s7 = parseInt(e200.getAttribute("rowspan") || 1), a4 = o15.getAttribute("headingRows") || 0, c7 = "down" == t118 && r11 + s7 === a4, l5 = "up" == t118 && r11 === a4;
                        if (a4 && (c7 || l5)) return;
                        const d8 = parseInt(e200.getAttribute("rowspan") || 1), h4 = "down" == t118 ? r11 + d8 : r11, u4 = [
                            ...new qp(o15, {
                                endRow: h4
                            })
                        ], g4 = u4.find((t119)=>t119.cell === e200
                        ).column, m4 = u4.find(({ row: e201 , cellHeight: i67 , column: n38  })=>n38 === g4 && ("down" == t118 ? e201 === h4 : h4 === e201 + i67)
                        );
                        return m4 && m4.cell;
                    }(e199, this.direction, t117);
                    if (!i65) return;
                    const n37 = this.isHorizontal ? "rowspan" : "colspan", o15 = parseInt(e199.getAttribute(n37) || 1);
                    return parseInt(i65.getAttribute(n37) || 1) === o15 ? i65 : void 0;
                }
            }
            function Sb(e199) {
                return 1 == e199.childCount && e199.getChild(0).is("element", "paragraph") && e199.getChild(0).isEmpty;
            }
            class Pb extends Ze {
                refresh() {
                    const e199 = sb(this.editor.model.document.selection), t117 = e199[0];
                    if (t117) {
                        const i65 = t117.findAncestor("table"), n37 = this.editor.plugins.get("TableUtils").getRows(i65) - 1, o15 = ab(e199), r11 = 0 === o15.first && o15.last === n37;
                        this.isEnabled = !r11;
                    } else this.isEnabled = !1;
                }
                execute() {
                    const e199 = this.editor.model, t117 = this.editor.plugins.get("TableUtils"), i65 = sb(e199.document.selection), n37 = ab(i65), o15 = i65[0], r11 = o15.findAncestor("table"), s7 = t117.getCellLocation(o15).column;
                    e199.change((e200)=>{
                        const i66 = n37.last - n37.first + 1;
                        t117.removeRows(r11, {
                            at: n37.first,
                            rows: i66
                        });
                        const o16 = function(e201, t118, i67, n38) {
                            const o17 = e201.getChild(Math.min(t118, n38 - 1));
                            let r12 = o17.getChild(0), s8 = 0;
                            for (const e202 of o17.getChildren()){
                                if (s8 > i67) return r12;
                                r12 = e202, s8 += parseInt(e202.getAttribute("colspan") || 1);
                            }
                            return r12;
                        }(r11, n37.first, s7, t117.getRows(r11));
                        e200.setSelection(e200.createPositionAt(o16, 0));
                    });
                }
            }
            class Mb extends Ze {
                refresh() {
                    const e199 = sb(this.editor.model.document.selection), t117 = e199[0];
                    if (t117) {
                        const i65 = t117.findAncestor("table"), n37 = this.editor.plugins.get("TableUtils").getColumns(i65), { first: o15 , last: r11  } = cb(e199);
                        this.isEnabled = r11 - o15 < n37 - 1;
                    } else this.isEnabled = !1;
                }
                execute() {
                    const [e199, t117] = function(e200) {
                        const t118 = sb(e200), i65 = t118[0], n37 = t118.pop(), o15 = [
                            i65,
                            n37
                        ];
                        return i65.isBefore(n37) ? o15 : o15.reverse();
                    }(this.editor.model.document.selection), i65 = e199.parent.parent, n37 = [
                        ...new qp(i65)
                    ], o15 = {
                        first: n37.find((t118)=>t118.cell === e199
                        ).column,
                        last: n37.find((e200)=>e200.cell === t117
                        ).column
                    }, r11 = function(e200, t118, i66, n38) {
                        return parseInt(i66.getAttribute("colspan") || 1) > 1 ? i66 : t118.previousSibling || i66.nextSibling ? i66.nextSibling || t118.previousSibling : n38.first ? e200.reverse().find(({ column: e201  })=>e201 < n38.first
                        ).cell : e200.reverse().find(({ column: e201  })=>e201 > n38.last
                        ).cell;
                    }(n37, e199, t117, o15);
                    this.editor.model.change((e200)=>{
                        const t118 = o15.last - o15.first + 1;
                        this.editor.plugins.get("TableUtils").removeColumns(i65, {
                            at: o15.first,
                            columns: t118
                        }), e200.setSelection(e200.createPositionAt(r11, 0));
                    });
                }
            }
            class Nb extends Ze {
                refresh() {
                    const e199 = sb(this.editor.model.document.selection), t117 = e199.length > 0;
                    this.isEnabled = t117, this.value = t117 && e199.every((e200)=>this._isInHeading(e200, e200.parent.parent)
                    );
                }
                execute(e = {
                }) {
                    if (e.forceValue === this.value) return;
                    const t117 = this.editor.model, i65 = sb(t117.document.selection), n37 = i65[0].findAncestor("table"), { first: o15 , last: r11  } = ab(i65), s7 = this.value ? o15 : r11 + 1, a4 = n37.getAttribute("headingRows") || 0;
                    t117.change((e199)=>{
                        if (s7) {
                            const t118 = wb(n37, s7, s7 > a4 ? a4 : 0);
                            for (const { cell: i66  } of t118)kb(i66, s7, e199);
                        }
                        jp("headingRows", s7, n37, e199, 0);
                    });
                }
                _isInHeading(e, t) {
                    const i65 = parseInt(t.getAttribute("headingRows") || 0);
                    return !!i65 && e.parent.index < i65;
                }
            }
            class Rb extends Ze {
                refresh() {
                    const e199 = sb(this.editor.model.document.selection), t117 = this.editor.plugins.get("TableUtils"), i65 = e199.length > 0;
                    this.isEnabled = i65, this.value = i65 && e199.every((e200)=>Fp(t117, e200)
                    );
                }
                execute(e = {
                }) {
                    if (e.forceValue === this.value) return;
                    const t117 = this.editor.model, i65 = sb(t117.document.selection), n37 = i65[0].findAncestor("table"), { first: o15 , last: r11  } = cb(i65), s7 = this.value ? o15 : r11 + 1;
                    t117.change((e199)=>{
                        if (s7) {
                            const t118 = _b(n37, s7);
                            for (const { cell: i66 , column: n38  } of t118)vb(i66, n38, s7, e199);
                        }
                        jp("headingColumns", s7, n37, e199, 0);
                    });
                }
            }
            class Ob extends Qe {
                static get pluginName() {
                    return "TableUtils";
                }
                init() {
                    this.decorate("insertColumns"), this.decorate("insertRows");
                }
                getCellLocation(e) {
                    const t117 = e.parent, i65 = t117.parent, n37 = i65.getChildIndex(t117), o15 = new qp(i65, {
                        row: n37
                    });
                    for (const { cell: t118 , row: i66 , column: n38  } of o15)if (t118 === e) return {
                        row: i66,
                        column: n38
                    };
                }
                createTable(e, t) {
                    const i65 = e.createElement("table"), n37 = parseInt(t.rows) || 2, o15 = parseInt(t.columns) || 2;
                    return zb(e, i65, 0, n37, o15), t.headingRows && jp("headingRows", Math.min(t.headingRows, n37), i65, e, 0), t.headingColumns && jp("headingColumns", Math.min(t.headingColumns, o15), i65, e, 0), i65;
                }
                insertRows(e, t = {
                }) {
                    const i65 = this.editor.model, n37 = t.at || 0, o15 = t.rows || 1, r11 = (void 0) !== t.copyStructureFromAbove, s7 = t.copyStructureFromAbove ? n37 - 1 : n37, a4 = this.getRows(e), l5 = this.getColumns(e);
                    if (n37 > a4) throw new c2.a("tableutils-insertrows-insert-out-of-range", this, {
                        options: t
                    });
                    i65.change((t117)=>{
                        const i66 = e.getAttribute("headingRows") || 0;
                        if (i66 > n37 && jp("headingRows", i66 + o15, e, t117, 0), !r11 && (0 === n37 || n37 === a4)) return void zb(t117, e, n37, o15, l5);
                        const c7 = r11 ? Math.max(n37, s7) : n37, d8 = new qp(e, {
                            endRow: c7
                        }), h4 = new Array(l5).fill(1);
                        for (const { row: e199 , column: i67 , cellHeight: a5 , cellWidth: c8 , cell: l6  } of d8){
                            const d9 = e199 + a5 - 1, u4 = e199 <= s7 && s7 <= d9;
                            e199 < n37 && n37 <= d9 ? (t117.setAttribute("rowspan", a5 + o15, l6), h4[i67] = -c8) : r11 && u4 && (h4[i67] = c8);
                        }
                        for(let i68 = 0; i68 < o15; i68++){
                            const i68 = t117.createElement("tableRow");
                            t117.insert(i68, e, n37);
                            for(let e200 = 0; e200 < h4.length; e200++){
                                const n38 = h4[e200], o16 = t117.createPositionAt(i68, "end");
                                n38 > 0 && Bp(t117, o16, n38 > 1 ? {
                                    colspan: n38
                                } : null), e200 += Math.abs(n38) - 1;
                            }
                        }
                    });
                }
                insertColumns(e, t = {
                }) {
                    const i65 = this.editor.model, n37 = t.at || 0, o15 = t.columns || 1;
                    i65.change((t117)=>{
                        const i66 = e.getAttribute("headingColumns");
                        n37 < i66 && t117.setAttribute("headingColumns", i66 + o15, e);
                        const r11 = this.getColumns(e);
                        if (0 === n37 || r11 === n37) {
                            for (const i67 of e.getChildren())i67.is("element", "tableRow") && Db(o15, t117, t117.createPositionAt(i67, n37 ? "end" : 0));
                            return;
                        }
                        const s7 = new qp(e, {
                            column: n37,
                            includeAllSlots: !0
                        });
                        for (const e199 of s7){
                            const { row: i67 , cell: r12 , cellAnchorColumn: a4 , cellAnchorRow: c7 , cellWidth: l5 , cellHeight: d8  } = e199;
                            if (a4 < n37) {
                                t117.setAttribute("colspan", l5 + o15, r12);
                                const e200 = c7 + d8 - 1;
                                for(let t118 = i67; t118 <= e200; t118++)s7.skipRow(t118);
                            } else Db(o15, t117, e199.getPositionBefore());
                        }
                    });
                }
                removeRows(e, t) {
                    const i65 = this.editor.model, n37 = t.rows || 1, o15 = this.getRows(e), r11 = t.at, s7 = r11 + n37 - 1;
                    if (s7 > o15 - 1) throw new c2.a("tableutils-removerows-row-index-out-of-range", this, {
                        table: e,
                        options: t
                    });
                    i65.change((t117)=>{
                        const { cellsToMove: i66 , cellsToTrim: n38  } = function(e199, t118, i67) {
                            const n39 = new Map, o16 = [];
                            for (const { row: r12 , column: s8 , cellHeight: a4 , cell: c7  } of new qp(e199, {
                                endRow: i67
                            })){
                                const e200 = r12 + a4 - 1;
                                if (r12 >= t118 && r12 <= i67 && e200 > i67) {
                                    const e201 = a4 - (i67 - r12 + 1);
                                    n39.set(s8, {
                                        cell: c7,
                                        rowspan: e201
                                    });
                                }
                                if (r12 < t118 && e200 >= t118) {
                                    let n40;
                                    n40 = e200 >= i67 ? i67 - t118 + 1 : e200 - t118 + 1, o16.push({
                                        cell: c7,
                                        rowspan: a4 - n40
                                    });
                                }
                            }
                            return {
                                cellsToMove: n39,
                                cellsToTrim: o16
                            };
                        }(e, r11, s7);
                        if (i66.size) !function(e199, t118, i67, n39) {
                            const o16 = [
                                ...new qp(e199, {
                                    includeAllSlots: !0,
                                    row: t118
                                })
                            ], r12 = e199.getChild(t118);
                            let s8;
                            for (const { column: e200 , cell: t119 , isAnchor: a4  } of o16)if (i67.has(e200)) {
                                const { cell: t120 , rowspan: o17  } = i67.get(e200), a5 = s8 ? n39.createPositionAfter(s8) : n39.createPositionAt(r12, 0);
                                n39.move(n39.createRangeOn(t120), a5), jp("rowspan", o17, t120, n39), s8 = t120;
                            } else a4 && (s8 = t119);
                        }(e, s7 + 1, i66, t117);
                        for(let i67 = s7; i67 >= r11; i67--)t117.remove(e.getChild(i67));
                        for (const { rowspan: e199 , cell: i68  } of n38)jp("rowspan", e199, i68, t117);
                        !function(e200, t118, i69, n39) {
                            const o16 = e200.getAttribute("headingRows") || 0;
                            if (t118 < o16) jp("headingRows", i69 < o16 ? o16 - (i69 - t118 + 1) : t118, e200, n39, 0);
                        }(e, r11, s7, t117), xb(e, this) || Ab(e, this);
                    });
                }
                removeColumns(e, t) {
                    const i65 = this.editor.model, n37 = t.at, o15 = t.columns || 1, r11 = t.at + o15 - 1;
                    i65.change((t117)=>{
                        !function(e199, t118, i66) {
                            const n38 = e199.getAttribute("headingColumns") || 0;
                            if (n38 && t118.first < n38) {
                                const o16 = Math.min(n38 - 1, t118.last) - t118.first + 1;
                                i66.setAttribute("headingColumns", n38 - o16, e199);
                            }
                        }(e, {
                            first: n37,
                            last: r11
                        }, t117);
                        for(let i66 = r11; i66 >= n37; i66--)for (const { cell: n38 , column: o16 , cellWidth: r12  } of [
                            ...new qp(e)
                        ])o16 <= i66 && r12 > 1 && o16 + r12 > i66 ? jp("colspan", r12 - 1, n38, t117) : o16 === i66 && t117.remove(n38);
                        Ab(e, this) || xb(e, this);
                    });
                }
                splitCellVertically(e, t = 2) {
                    const i65 = this.editor.model, n37 = e.parent.parent, o15 = parseInt(e.getAttribute("rowspan") || 1), r11 = parseInt(e.getAttribute("colspan") || 1);
                    i65.change((i66)=>{
                        if (r11 > 1) {
                            const { newCellsSpan: n38 , updatedSpan: s7  } = Lb(r11, t);
                            jp("colspan", s7, e, i66);
                            const a4 = {
                            };
                            n38 > 1 && (a4.colspan = n38), o15 > 1 && (a4.rowspan = o15);
                            Db(r11 > t ? t - 1 : r11 - 1, i66, i66.createPositionAfter(e), a4);
                        }
                        if (r11 < t) {
                            const s7 = t - r11, a4 = [
                                ...new qp(n37)
                            ], { column: c7  } = a4.find(({ cell: t117  })=>t117 === e
                            ), l5 = a4.filter(({ cell: t117 , cellWidth: i67 , column: n38  })=>t117 !== e && n38 === c7 || n38 < c7 && n38 + i67 > c7
                            );
                            for (const { cell: e199 , cellWidth: t117  } of l5)i66.setAttribute("colspan", t117 + s7, e199);
                            const d8 = {
                            };
                            o15 > 1 && (d8.rowspan = o15), Db(s7, i66, i66.createPositionAfter(e), d8);
                            const h4 = n37.getAttribute("headingColumns") || 0;
                            h4 > c7 && jp("headingColumns", h4 + s7, n37, i66);
                        }
                    });
                }
                splitCellHorizontally(e, t = 2) {
                    const i65 = this.editor.model, n37 = e.parent, o15 = n37.parent, r11 = o15.getChildIndex(n37), s7 = parseInt(e.getAttribute("rowspan") || 1), a4 = parseInt(e.getAttribute("colspan") || 1);
                    i65.change((i66)=>{
                        if (s7 > 1) {
                            const n38 = [
                                ...new qp(o15, {
                                    startRow: r11,
                                    endRow: r11 + s7 - 1,
                                    includeAllSlots: !0
                                })
                            ], { newCellsSpan: c7 , updatedSpan: l5  } = Lb(s7, t);
                            jp("rowspan", l5, e, i66);
                            const { column: d8  } = n38.find(({ cell: t117  })=>t117 === e
                            ), h4 = {
                            };
                            c7 > 1 && (h4.rowspan = c7), a4 > 1 && (h4.colspan = a4);
                            for (const e199 of n38){
                                const { column: t117 , row: n39  } = e199, o16 = t117 === d8, s8 = (n39 + r11 + l5) % c7 == 0;
                                n39 >= r11 + l5 && o16 && s8 && Db(1, i66, e199.getPositionBefore(), h4);
                            }
                        }
                        if (s7 < t) {
                            const n38 = t - s7, c7 = [
                                ...new qp(o15, {
                                    startRow: 0,
                                    endRow: r11
                                })
                            ];
                            for (const { cell: t117 , cellHeight: o16 , row: s8  } of c7)if (t117 !== e && s8 + o16 > r11) {
                                const e199 = o16 + n38;
                                i66.setAttribute("rowspan", e199, t117);
                            }
                            const l5 = {
                            };
                            a4 > 1 && (l5.colspan = a4), zb(i66, o15, r11 + 1, n38, 1, l5);
                            const d8 = o15.getAttribute("headingRows") || 0;
                            d8 > r11 && jp("headingRows", d8 + n38, o15, i66);
                        }
                    });
                }
                getColumns(e) {
                    return [
                        ...e.getChild(0).getChildren()
                    ].reduce((e199, t117)=>e199 + parseInt(t117.getAttribute("colspan") || 1)
                    , 0);
                }
                getRows(e) {
                    return Array.from(e.getChildren()).reduce((e199, t117)=>t117.is("element", "tableRow") ? e199 + 1 : e199
                    , 0);
                }
            }
            function zb(e199, t117, i65, n37, o15, r11 = {
            }) {
                for(let s7 = 0; s7 < n37; s7++){
                    const n38 = e199.createElement("tableRow");
                    e199.insert(n38, t117, i65), Db(o15, e199, e199.createPositionAt(n38, "end"), r11);
                }
            }
            function Db(e199, t117, i65, n37 = {
            }) {
                for(let o15 = 0; o15 < e199; o15++)Bp(t117, i65, n37);
            }
            function Lb(e199, t117) {
                if (e199 < t117) return {
                    newCellsSpan: 1,
                    updatedSpan: 1
                };
                const i65 = Math.floor(e199 / t117);
                return {
                    newCellsSpan: i65,
                    updatedSpan: e199 - i65 * t117 + i65
                };
            }
            class Vb extends Ze {
                refresh() {
                    const e199 = ob(this.editor.model.document.selection);
                    this.isEnabled = lb(e199, this.editor.plugins.get(Ob));
                }
                execute() {
                    const e199 = this.editor.model, t117 = this.editor.plugins.get(Ob);
                    e199.change((i65)=>{
                        const n37 = ob(e199.document.selection), o15 = n37.shift(), { mergeWidth: r11 , mergeHeight: s7  } = function(e200, t118, i66) {
                            let n38 = 0, o16 = 0;
                            for (const e201 of t118){
                                const { row: t119 , column: r12  } = i66.getCellLocation(e201);
                                n38 = Fb(e201, r12, n38, "colspan"), o16 = Fb(e201, t119, o16, "rowspan");
                            }
                            const { row: r12 , column: s8  } = i66.getCellLocation(e200);
                            return {
                                mergeWidth: n38 - s8,
                                mergeHeight: o16 - r12
                            };
                        }(o15, n37, t117);
                        jp("colspan", r11, o15, i65), jp("rowspan", s7, o15, i65);
                        for (const e200 of n37)jb(e200, o15, i65);
                        Cb(o15.findAncestor("table"), t117), i65.setSelection(o15, "in");
                    });
                }
            }
            function jb(e199, t117, i65) {
                Bb(e199) || (Bb(t117) && i65.remove(i65.createRangeIn(t117)), i65.move(i65.createRangeIn(e199), i65.createPositionAt(t117, "end"))), i65.remove(e199);
            }
            function Bb(e199) {
                return 1 == e199.childCount && e199.getChild(0).is("element", "paragraph") && e199.getChild(0).isEmpty;
            }
            function Fb(e199, t117, i65, n37) {
                const o15 = parseInt(e199.getAttribute(n37) || 1);
                return Math.max(i65, t117 + o15);
            }
            class Hb extends Ze {
                refresh() {
                    const e199 = sb(this.editor.model.document.selection);
                    this.isEnabled = e199.length > 0;
                }
                execute() {
                    const e199 = this.editor.model, t117 = sb(e199.document.selection), i65 = ab(t117), n37 = t117[0].findAncestor("table"), o15 = [];
                    for(let t118 = i65.first; t118 <= i65.last; t118++)for (const i66 of n37.getChild(t118).getChildren())o15.push(e199.createRangeOn(i66));
                    e199.change((e200)=>{
                        e200.setSelection(o15);
                    });
                }
            }
            class Ub extends Ze {
                refresh() {
                    const e199 = sb(this.editor.model.document.selection);
                    this.isEnabled = e199.length > 0;
                }
                execute() {
                    const e199 = this.editor.model, t117 = sb(e199.document.selection), i65 = t117[0], n37 = t117.pop(), o15 = i65.findAncestor("table"), r11 = this.editor.plugins.get("TableUtils"), s7 = r11.getCellLocation(i65), a4 = r11.getCellLocation(n37), c7 = Math.min(s7.column, a4.column), l5 = Math.max(s7.column, a4.column), d8 = [];
                    for (const t118 of new qp(o15, {
                        startColumn: c7,
                        endColumn: l5
                    }))d8.push(e199.createRangeOn(t118.cell));
                    e199.change((e200)=>{
                        e200.setSelection(d8);
                    });
                }
            }
            function Wb(e199) {
                e199.document.registerPostFixer((t117)=>(function(e200, t118) {
                        const i65 = t118.document.differ.getChanges();
                        let n37 = !1;
                        const o15 = new Set;
                        for (const t119 of i65){
                            let i66;
                            "table" == t119.name && "insert" == t119.type && (i66 = t119.position.nodeAfter), "tableRow" != t119.name && "tableCell" != t119.name || (i66 = t119.position.findAncestor("table")), Yb(t119) && (i66 = t119.range.start.findAncestor("table")), i66 && !o15.has(i66) && (n37 = qb(i66, e200) || n37, n37 = $b(i66, e200) || n37, o15.add(i66));
                        }
                        return n37;
                    })(t117, e199)
                );
            }
            function qb(e199, t117) {
                let i65 = !1;
                const n37 = function(e200) {
                    const t118 = parseInt(e200.getAttribute("headingRows") || 0), i66 = Array.from(e200.getChildren()).reduce((e201, t119)=>t119.is("element", "tableRow") ? e201 + 1 : e201
                    , 0), n38 = [];
                    for (const { row: o15 , cell: r11 , cellHeight: s7  } of new qp(e200)){
                        if (s7 < 2) continue;
                        const e201 = o15 < t118 ? t118 : i66;
                        if (o15 + s7 > e201) {
                            const t119 = e201 - o15;
                            n38.push({
                                cell: r11,
                                rowspan: t119
                            });
                        }
                    }
                    return n38;
                }(e199);
                if (n37.length) {
                    i65 = !0;
                    for (const e200 of n37)jp("rowspan", e200.rowspan, e200.cell, t117, 1);
                }
                return i65;
            }
            function $b(e199, t117) {
                let i65 = !1;
                const n37 = function(e200) {
                    const t118 = new Array(e200.childCount).fill(0);
                    for (const { rowIndex: i66  } of new qp(e200, {
                        includeAllSlots: !0
                    }))t118[i66]++;
                    return t118;
                }(e199), o15 = [];
                for (const [t118, i66] of n37.entries())!i66 && e199.getChild(t118).is("element", "tableRow") && o15.push(t118);
                if (o15.length) {
                    i65 = !0;
                    for (const i67 of o15.reverse())t117.remove(e199.getChild(i67)), n37.splice(i67, 1);
                }
                const r11 = n37.filter((t119, i67)=>e199.getChild(i67).is("element", "tableRow")
                ), s7 = r11[0];
                if (!r11.every((e200)=>e200 === s7
                )) {
                    const n38 = r11.reduce((e200, t119)=>t119 > e200 ? t119 : e200
                    , 0);
                    for (const [o16, s8] of r11.entries()){
                        const r12 = n38 - s8;
                        if (r12) {
                            for(let i67 = 0; i67 < r12; i67++)Bp(t117, t117.createPositionAt(e199.getChild(o16), "end"));
                            i65 = !0;
                        }
                    }
                }
                return i65;
            }
            function Yb(e199) {
                const t117 = "attribute" === e199.type, i65 = e199.attributeKey;
                return t117 && ("headingRows" === i65 || "colspan" === i65 || "rowspan" === i65);
            }
            function Gb(e199) {
                e199.document.registerPostFixer((t117)=>(function(e200, t118) {
                        const i65 = t118.document.differ.getChanges();
                        let n37 = !1;
                        for (const t119 of i65)"insert" == t119.type && "table" == t119.name && (n37 = Kb(t119.position.nodeAfter, e200) || n37), "insert" == t119.type && "tableRow" == t119.name && (n37 = Qb(t119.position.nodeAfter, e200) || n37), "insert" == t119.type && "tableCell" == t119.name && (n37 = Jb(t119.position.nodeAfter, e200) || n37), Zb(t119) && (n37 = Jb(t119.position.parent, e200) || n37);
                        return n37;
                    })(t117, e199)
                );
            }
            function Kb(e199, t117) {
                let i65 = !1;
                for (const n37 of e199.getChildren())n37.is("element", "tableRow") && (i65 = Qb(n37, t117) || i65);
                return i65;
            }
            function Qb(e199, t117) {
                let i65 = !1;
                for (const n37 of e199.getChildren())i65 = Jb(n37, t117) || i65;
                return i65;
            }
            function Jb(e199, t117) {
                if (0 == e199.childCount) return t117.insertElement("paragraph", e199), !0;
                const i65 = Array.from(e199.getChildren()).filter((e200)=>e200.is("$text")
                );
                for (const e200 of i65)t117.wrap(t117.createRangeOn(e200), "paragraph");
                return !!i65.length;
            }
            function Zb(e199) {
                return !(!e199.position || !e199.position.parent.is("element", "tableCell")) && ("insert" == e199.type && "$text" == e199.name || "remove" == e199.type);
            }
            function Xb(e199, t117) {
                e199.document.registerPostFixer(()=>(function(e200, t118) {
                        const i65 = new Set;
                        for (const t119 of e200.getChanges()){
                            const e201 = "attribute" == t119.type ? t119.range.start.parent : t119.position.parent;
                            e201.is("element", "tableCell") && i65.add(e201);
                        }
                        for (const n37 of i65.values())for (const i66 of [
                            ...n37.getChildren()
                        ].filter((e201)=>ew(e201, t118)
                        ))e200.refreshItem(i66);
                        return !1;
                    })(e199.document.differ, t117)
                );
            }
            function ew(e199, t117) {
                if (!e199.is("element", "paragraph")) return !1;
                const i65 = t117.toViewElement(e199);
                return !!i65 && Kp(e199) !== i65.is("element", "span");
            }
            function tw(e199) {
                e199.document.registerPostFixer(()=>(function(e200) {
                        const t117 = e200.document.differ, i65 = new Set;
                        for (const e201 of t117.getChanges()){
                            if ("attribute" != e201.type) continue;
                            const t118 = e201.range.start.nodeAfter;
                            t118 && t118.is("element", "table") && "headingRows" == e201.attributeKey && i65.add(t118);
                        }
                        if (i65.size) {
                            for (const e202 of i65.values())t117.refreshItem(e202);
                            return !0;
                        }
                        return !1;
                    })(e199)
                );
            }
            i2(100);
            class iw extends Qe {
                static get pluginName() {
                    return "TableEditing";
                }
                init() {
                    const e199 = this.editor, t117 = e199.model, i65 = t117.schema, n37 = e199.conversion;
                    i65.register("table", {
                        allowWhere: "$block",
                        allowAttributes: [
                            "headingRows",
                            "headingColumns"
                        ],
                        isObject: !0,
                        isBlock: !0
                    }), i65.register("tableRow", {
                        allowIn: "table",
                        isLimit: !0
                    }), i65.register("tableCell", {
                        allowIn: "tableRow",
                        allowChildren: "$block",
                        allowAttributes: [
                            "colspan",
                            "rowspan"
                        ],
                        isLimit: !0,
                        isSelectable: !0
                    }), n37.for("upcast").add((e200)=>{
                        e200.on("element:figure", (e201, t118, i66)=>{
                            if (!i66.consumable.test(t118.viewItem, {
                                name: !0,
                                classes: "table"
                            })) return;
                            const n38 = function(e202) {
                                for (const t119 of e202.getChildren())if (t119.is("element", "table")) return t119;
                            }(t118.viewItem);
                            if (!n38 || !i66.consumable.test(n38, {
                                name: !0
                            })) return;
                            const o15 = Ns(i66.convertItem(n38, t118.modelCursor).modelRange.getItems());
                            o15 && (i66.convertChildren(t118.viewItem, i66.writer.createPositionAt(o15, "end")), i66.updateConversionResult(o15, t118));
                        });
                    }), n37.for("upcast").add(Hp()), n37.for("editingDowncast").add(Yp({
                        asWidget: !0
                    })), n37.for("dataDowncast").add(Yp()), n37.for("upcast").elementToElement({
                        model: "tableRow",
                        view: "tr"
                    }), n37.for("upcast").add((e200)=>{
                        e200.on("element:tr", (e201, t118)=>{
                            t118.viewItem.isEmpty && 0 == t118.modelCursor.index && e201.stop();
                        }, {
                            priority: "high"
                        });
                    }), n37.for("editingDowncast").add((e200)=>e200.on("insert:tableRow", (e201, t118, i66)=>{
                            const n38 = t118.item;
                            if (!i66.consumable.consume(n38, "insert")) return;
                            const o15 = n38.parent, r11 = function(e202) {
                                for (const t119 of e202.getChildren())if ("table" === t119.name) return t119;
                            }(i66.mapper.toViewElement(o15)), s7 = o15.getChildIndex(n38), a4 = new qp(o15, {
                                row: s7
                            }), c7 = {
                                headingRows: o15.getAttribute("headingRows") || 0,
                                headingColumns: o15.getAttribute("headingColumns") || 0
                            }, l5 = new Map;
                            for (const e202 of a4){
                                const t119 = l5.get(s7) || Zp(r11, n38, s7, c7, i66);
                                l5.set(s7, t119), i66.consumable.consume(e202.cell, "insert"), Jp(e202, c7, i66.writer.createPositionAt(t119, "end"), i66, {
                                    asWidget: !0
                                });
                            }
                        })
                    ), n37.for("editingDowncast").add((e200)=>e200.on("remove:tableRow", (e201, t118, i66)=>{
                            e201.stop();
                            const n38 = i66.writer, o15 = i66.mapper, r11 = o15.toViewPosition(t118.position).getLastMatchingPosition((e202)=>!e202.item.is("element", "tr")
                            ).nodeAfter, s7 = r11.parent.parent, a4 = n38.createRangeOn(r11), c7 = n38.remove(a4);
                            for (const e202 of n38.createRangeIn(c7).getItems())o15.unbindViewElement(e202);
                            tb("thead", s7, i66), tb("tbody", s7, i66);
                        }, {
                            priority: "higher"
                        })
                    ), n37.for("upcast").elementToElement({
                        model: "tableCell",
                        view: "td"
                    }), n37.for("upcast").elementToElement({
                        model: "tableCell",
                        view: "th"
                    }), n37.for("upcast").add(Up("td")), n37.for("upcast").add(Up("th")), n37.for("editingDowncast").add((e200)=>e200.on("insert:tableCell", (e201, t118, i66)=>{
                            const n38 = t118.item;
                            if (!i66.consumable.consume(n38, "insert")) return;
                            const o15 = n38.parent, r11 = o15.parent, s7 = r11.getChildIndex(o15), a4 = new qp(r11, {
                                row: s7
                            }), c7 = {
                                headingRows: r11.getAttribute("headingRows") || 0,
                                headingColumns: r11.getAttribute("headingColumns") || 0
                            };
                            for (const e202 of a4)if (e202.cell === n38) {
                                const t119 = i66.mapper.toViewElement(o15);
                                return void Jp(e202, c7, i66.writer.createPositionAt(t119, o15.getChildIndex(n38)), i66, {
                                    asWidget: !0
                                });
                            }
                        })
                    ), n37.for("editingDowncast").elementToElement({
                        model: "paragraph",
                        view: Gp,
                        converterPriority: "high"
                    }), n37.for("downcast").attributeToAttribute({
                        model: "colspan",
                        view: "colspan"
                    }), n37.for("upcast").attributeToAttribute({
                        model: {
                            key: "colspan",
                            value: nw("colspan")
                        },
                        view: "colspan"
                    }), n37.for("downcast").attributeToAttribute({
                        model: "rowspan",
                        view: "rowspan"
                    }), n37.for("upcast").attributeToAttribute({
                        model: {
                            key: "rowspan",
                            value: nw("rowspan")
                        },
                        view: "rowspan"
                    }), n37.for("editingDowncast").add((e200)=>e200.on("attribute:headingColumns:table", (e201, t118, i66)=>{
                            const n38 = t118.item;
                            if (!i66.consumable.consume(t118.item, e201.name)) return;
                            const o15 = {
                                headingRows: n38.getAttribute("headingRows") || 0,
                                headingColumns: n38.getAttribute("headingColumns") || 0
                            }, r11 = t118.attributeOldValue, s7 = t118.attributeNewValue, a4 = (r11 > s7 ? r11 : s7) - 1;
                            for (const e202 of new qp(n38, {
                                endColumn: a4
                            }))Qp(e202, o15, i66);
                        })
                    ), e199.data.mapper.on("modelToViewPosition", (e200, t118)=>{
                        const i66 = t118.modelPosition.parent, n38 = t118.modelPosition.nodeBefore;
                        if (!i66.is("element", "tableCell")) return;
                        if (!n38 || !n38.is("element", "paragraph")) return;
                        const o15 = t118.mapper.toViewElement(n38), r11 = t118.mapper.toViewElement(i66);
                        o15 === r11 && (t118.viewPosition = t118.mapper.findPositionIn(r11, n38.maxOffset));
                    }), e199.config.define("table.defaultHeadings.rows", 0), e199.config.define("table.defaultHeadings.columns", 0), e199.commands.add("insertTable", new nb(e199)), e199.commands.add("insertTableRowAbove", new mb(e199, {
                        order: "above"
                    })), e199.commands.add("insertTableRowBelow", new mb(e199, {
                        order: "below"
                    })), e199.commands.add("insertTableColumnLeft", new fb(e199, {
                        order: "left"
                    })), e199.commands.add("insertTableColumnRight", new fb(e199, {
                        order: "right"
                    })), e199.commands.add("removeTableRow", new Pb(e199)), e199.commands.add("removeTableColumn", new Mb(e199)), e199.commands.add("splitTableCellVertically", new pb(e199, {
                        direction: "vertically"
                    })), e199.commands.add("splitTableCellHorizontally", new pb(e199, {
                        direction: "horizontally"
                    })), e199.commands.add("mergeTableCells", new Vb(e199)), e199.commands.add("mergeTableCellRight", new Ib(e199, {
                        direction: "right"
                    })), e199.commands.add("mergeTableCellLeft", new Ib(e199, {
                        direction: "left"
                    })), e199.commands.add("mergeTableCellDown", new Ib(e199, {
                        direction: "down"
                    })), e199.commands.add("mergeTableCellUp", new Ib(e199, {
                        direction: "up"
                    })), e199.commands.add("setTableColumnHeader", new Rb(e199)), e199.commands.add("setTableRowHeader", new Nb(e199)), e199.commands.add("selectTableRow", new Hb(e199)), e199.commands.add("selectTableColumn", new Ub(e199)), tw(t117), Wb(t117), Xb(t117, e199.editing.mapper), Gb(t117);
                }
                static get requires() {
                    return [
                        Ob
                    ];
                }
            }
            function nw(e199) {
                return (t117)=>{
                    const i65 = parseInt(t117.getAttribute(e199));
                    return Number.isNaN(i65) || i65 <= 0 ? null : i65;
                };
            }
            i2(102);
            class ow extends Ml {
                constructor(e199){
                    super(e199);
                    const t117 = this.bindTemplate;
                    this.items = this._createGridCollection(), this.set("rows", 0), this.set("columns", 0), this.bind("label").to(this, "columns", this, "rows", (e200, t118)=>`${t118} × ${e200}`
                    ), this.setTemplate({
                        tag: "div",
                        attributes: {
                            class: [
                                "ck"
                            ]
                        },
                        children: [
                            {
                                tag: "div",
                                attributes: {
                                    class: [
                                        "ck-insert-table-dropdown__grid"
                                    ]
                                },
                                on: {
                                    "mouseover@.ck-insert-table-dropdown-grid-box": t117.to("boxover")
                                },
                                children: this.items
                            },
                            {
                                tag: "div",
                                attributes: {
                                    class: [
                                        "ck-insert-table-dropdown__label"
                                    ]
                                },
                                children: [
                                    {
                                        text: t117.to("label")
                                    }
                                ]
                            }
                        ],
                        on: {
                            mousedown: t117.to((e200)=>{
                                e200.preventDefault();
                            }),
                            click: t117.to(()=>{
                                this.fire("execute");
                            })
                        }
                    }), this.on("boxover", (e200, t118)=>{
                        const { row: i65 , column: n37  } = t118.target.dataset;
                        this.set({
                            rows: parseInt(i65),
                            columns: parseInt(n37)
                        });
                    }), this.on("change:columns", ()=>{
                        this._highlightGridBoxes();
                    }), this.on("change:rows", ()=>{
                        this._highlightGridBoxes();
                    });
                }
                focus() {
                }
                focusLast() {
                }
                _highlightGridBoxes() {
                    const e200 = this.rows, t118 = this.columns;
                    this.items.map((i65, n37)=>{
                        const o15 = Math.floor(n37 / 10) < e200 && n37 % 10 < t118;
                        i65.set("isOn", o15);
                    });
                }
                _createGridCollection() {
                    const e200 = [];
                    for(let t118 = 0; t118 < 100; t118++){
                        const i65 = Math.floor(t118 / 10), n37 = t118 % 10;
                        e200.push(new rw(this.locale, i65 + 1, n37 + 1));
                    }
                    return this.createCollection(e200);
                }
            }
            class rw extends Ml {
                constructor(e200, t118, i65){
                    super(e200);
                    const n37 = this.bindTemplate;
                    this.set("isOn", !1), this.setTemplate({
                        tag: "div",
                        attributes: {
                            class: [
                                "ck-insert-table-dropdown-grid-box",
                                n37.if("isOn", "ck-on")
                            ],
                            "data-row": t118,
                            "data-column": i65
                        }
                    });
                }
            }
            class sw extends Qe {
                static get pluginName() {
                    return "TableUI";
                }
                init() {
                    const e201 = this.editor, t119 = this.editor.t, i66 = "ltr" === e201.locale.contentLanguageDirection;
                    e201.ui.componentFactory.add("insertTable", (i67)=>{
                        const n38 = e201.commands.get("insertTable"), o15 = xd(i67);
                        let r11;
                        return o15.bind("isEnabled").to(n38), o15.buttonView.set({
                            icon: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',
                            label: t119("Insert table"),
                            tooltip: !0
                        }), o15.on("change:isOpen", ()=>{
                            r11 || (r11 = new ow(i67), o15.panelView.children.add(r11), r11.delegate("execute").to(o15), o15.buttonView.on("open", ()=>{
                                r11.rows = 0, r11.columns = 0;
                            }), o15.on("execute", ()=>{
                                e201.execute("insertTable", {
                                    rows: r11.rows,
                                    columns: r11.columns
                                }), e201.editing.view.focus();
                            }));
                        }), o15;
                    }), e201.ui.componentFactory.add("tableColumn", (e202)=>{
                        const n38 = [
                            {
                                type: "switchbutton",
                                model: {
                                    commandName: "setTableColumnHeader",
                                    label: t119("Header column"),
                                    bindIsOn: !0
                                }
                            },
                            {
                                type: "separator"
                            },
                            {
                                type: "button",
                                model: {
                                    commandName: i66 ? "insertTableColumnLeft" : "insertTableColumnRight",
                                    label: t119("Insert column left")
                                }
                            },
                            {
                                type: "button",
                                model: {
                                    commandName: i66 ? "insertTableColumnRight" : "insertTableColumnLeft",
                                    label: t119("Insert column right")
                                }
                            },
                            {
                                type: "button",
                                model: {
                                    commandName: "removeTableColumn",
                                    label: t119("Delete column")
                                }
                            },
                            {
                                type: "button",
                                model: {
                                    commandName: "selectTableColumn",
                                    label: t119("Select column")
                                }
                            }
                        ];
                        return this._prepareDropdown(t119("Column"), '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>', n38, e202);
                    }), e201.ui.componentFactory.add("tableRow", (e202)=>{
                        const i67 = [
                            {
                                type: "switchbutton",
                                model: {
                                    commandName: "setTableRowHeader",
                                    label: t119("Header row"),
                                    bindIsOn: !0
                                }
                            },
                            {
                                type: "separator"
                            },
                            {
                                type: "button",
                                model: {
                                    commandName: "insertTableRowAbove",
                                    label: t119("Insert row above")
                                }
                            },
                            {
                                type: "button",
                                model: {
                                    commandName: "insertTableRowBelow",
                                    label: t119("Insert row below")
                                }
                            },
                            {
                                type: "button",
                                model: {
                                    commandName: "removeTableRow",
                                    label: t119("Delete row")
                                }
                            },
                            {
                                type: "button",
                                model: {
                                    commandName: "selectTableRow",
                                    label: t119("Select row")
                                }
                            }
                        ];
                        return this._prepareDropdown(t119("Row"), '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>', i67, e202);
                    }), e201.ui.componentFactory.add("mergeTableCells", (e202)=>{
                        const n38 = [
                            {
                                type: "button",
                                model: {
                                    commandName: "mergeTableCellUp",
                                    label: t119("Merge cell up")
                                }
                            },
                            {
                                type: "button",
                                model: {
                                    commandName: i66 ? "mergeTableCellRight" : "mergeTableCellLeft",
                                    label: t119("Merge cell right")
                                }
                            },
                            {
                                type: "button",
                                model: {
                                    commandName: "mergeTableCellDown",
                                    label: t119("Merge cell down")
                                }
                            },
                            {
                                type: "button",
                                model: {
                                    commandName: i66 ? "mergeTableCellLeft" : "mergeTableCellRight",
                                    label: t119("Merge cell left")
                                }
                            },
                            {
                                type: "separator"
                            },
                            {
                                type: "button",
                                model: {
                                    commandName: "splitTableCellVertically",
                                    label: t119("Split cell vertically")
                                }
                            },
                            {
                                type: "button",
                                model: {
                                    commandName: "splitTableCellHorizontally",
                                    label: t119("Split cell horizontally")
                                }
                            }
                        ];
                        return this._prepareMergeSplitButtonDropdown(t119("Merge cells"), '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>', n38, e202);
                    });
                }
                _prepareDropdown(e, t, i, n) {
                    const o15 = this.editor, r11 = xd(n), s7 = this._fillDropdownWithListOptions(r11, i);
                    return r11.buttonView.set({
                        label: e,
                        icon: t,
                        tooltip: !0
                    }), r11.bind("isEnabled").toMany(s7, "isEnabled", (...e201)=>e201.some((e202)=>e202
                        )
                    ), this.listenTo(r11, "execute", (e201)=>{
                        o15.execute(e201.source.commandName), o15.editing.view.focus();
                    }), r11;
                }
                _prepareMergeSplitButtonDropdown(e, t, i, n) {
                    const o15 = this.editor, r11 = xd(n, sd), s7 = o15.commands.get("mergeTableCells"), a4 = this._fillDropdownWithListOptions(r11, i);
                    return r11.buttonView.set({
                        label: e,
                        icon: t,
                        tooltip: !0,
                        isEnabled: !0
                    }), r11.bind("isEnabled").toMany([
                        s7,
                        ...a4
                    ], "isEnabled", (...e201)=>e201.some((e202)=>e202
                        )
                    ), this.listenTo(r11.buttonView, "execute", ()=>{
                        o15.execute("mergeTableCells"), o15.editing.view.focus();
                    }), this.listenTo(r11, "execute", (e201)=>{
                        o15.execute(e201.source.commandName), o15.editing.view.focus();
                    }), r11;
                }
                _fillDropdownWithListOptions(e, t) {
                    const i66 = this.editor, n38 = [], o15 = new Zi;
                    for (const e201 of t)aw(e201, i66, n38, o15);
                    return Cd(e, o15, i66.ui.componentFactory), n38;
                }
            }
            function aw(e201, t119, i66, n38) {
                const o15 = e201.model = new zd(e201.model), { commandName: r11 , bindIsOn: s7  } = e201.model;
                if ("button" === e201.type || "switchbutton" === e201.type) {
                    const e202 = t119.commands.get(r11);
                    i66.push(e202), o15.set({
                        commandName: r11
                    }), o15.bind("isEnabled").to(e202), s7 && o15.bind("isOn").to(e202, "value");
                }
                o15.set({
                    withText: !0
                }), n38.add(e201);
            }
            i2(104);
            class cw extends Qe {
                static get pluginName() {
                    return "TableSelection";
                }
                static get requires() {
                    return [
                        Ob
                    ];
                }
                init() {
                    const e201 = this.editor.model;
                    this.listenTo(e201, "deleteContent", (e202, t119)=>this._handleDeleteContent(e202, t119)
                    , {
                        priority: "high"
                    }), this._defineSelectionConverter(), this._enablePluginDisabling();
                }
                getSelectedTableCells() {
                    const e201 = ob(this.editor.model.document.selection);
                    return 0 == e201.length ? null : e201;
                }
                getSelectionAsFragment() {
                    const e201 = this.getSelectedTableCells();
                    return e201 ? this.editor.model.change((t119)=>{
                        const i66 = t119.createDocumentFragment(), n38 = this.editor.plugins.get("TableUtils"), { first: o15 , last: r11  } = cb(e201), { first: s7 , last: a4  } = ab(e201), c7 = e201[0].findAncestor("table");
                        let l5 = a4, d8 = r11;
                        if (lb(e201, n38)) {
                            const e202 = {
                                firstColumn: o15,
                                lastColumn: r11,
                                firstRow: s7,
                                lastRow: a4
                            };
                            l5 = Tb(c7, e202), d8 = Eb(c7, e202);
                        }
                        const h4 = bb(c7, {
                            startRow: s7,
                            startColumn: o15,
                            endRow: l5,
                            endColumn: d8
                        }, t119);
                        return t119.insert(h4, i66, 0), i66;
                    }) : null;
                }
                setCellSelection(e, t) {
                    const i66 = this._getCellsToSelect(e, t);
                    this.editor.model.change((e201)=>{
                        e201.setSelection(i66.cells.map((t119)=>e201.createRangeOn(t119)
                        ), {
                            backward: i66.backward
                        });
                    });
                }
                getFocusCell() {
                    const e201 = [
                        ...this.editor.model.document.selection.getRanges()
                    ].pop().getContainedElement();
                    return e201 && e201.is("element", "tableCell") ? e201 : null;
                }
                getAnchorCell() {
                    const e201 = Ns(this.editor.model.document.selection.getRanges()).getContainedElement();
                    return e201 && e201.is("element", "tableCell") ? e201 : null;
                }
                _defineSelectionConverter() {
                    const e201 = this.editor, t119 = new Set;
                    e201.conversion.for("editingDowncast").add((e202)=>e202.on("selection", (e203, i66, n38)=>{
                            const o15 = n38.writer;
                            !function(e204) {
                                for (const i67 of t119)e204.removeClass("ck-editor__editable_selected", i67);
                                t119.clear();
                            }(o15);
                            const r11 = this.getSelectedTableCells();
                            if (!r11) return;
                            for (const e204 of r11){
                                const i67 = n38.mapper.toViewElement(e204);
                                o15.addClass("ck-editor__editable_selected", i67), t119.add(i67);
                            }
                            const s7 = n38.mapper.toViewElement(r11[r11.length - 1]);
                            o15.setSelection(s7, 0);
                        }, {
                            priority: "lowest"
                        })
                    );
                }
                _enablePluginDisabling() {
                    const e201 = this.editor;
                    this.on("change:isEnabled", ()=>{
                        if (!this.isEnabled) {
                            const t119 = this.getSelectedTableCells();
                            if (!t119) return;
                            e201.model.change((i66)=>{
                                const n38 = i66.createPositionAt(t119[0], 0), o15 = e201.model.schema.getNearestSelectionRange(n38);
                                i66.setSelection(o15);
                            });
                        }
                    });
                }
                _handleDeleteContent(e, t) {
                    const [i66, n38] = t, o15 = this.editor.model, r11 = !n38 || "backward" == n38.direction, s7 = ob(i66);
                    s7.length && (e.stop(), o15.change((e201)=>{
                        const t119 = s7[r11 ? s7.length - 1 : 0];
                        o15.change((e202)=>{
                            for (const t120 of s7)o15.deleteContent(e202.createSelection(t120, "in"));
                        });
                        const n39 = o15.schema.getNearestSelectionRange(e201.createPositionAt(t119, 0));
                        i66.is("documentSelection") ? e201.setSelection(n39) : i66.setTo(n39);
                    }));
                }
                _getCellsToSelect(e, t) {
                    const i66 = this.editor.plugins.get("TableUtils"), n38 = i66.getCellLocation(e), o15 = i66.getCellLocation(t), r11 = Math.min(n38.row, o15.row), s7 = Math.max(n38.row, o15.row), a4 = Math.min(n38.column, o15.column), c7 = Math.max(n38.column, o15.column), l5 = new Array(s7 - r11 + 1).fill(null).map(()=>[]
                    ), d8 = {
                        startRow: r11,
                        endRow: s7,
                        startColumn: a4,
                        endColumn: c7
                    };
                    for (const { row: t119 , cell: i67  } of new qp(e.findAncestor("table"), d8))l5[t119 - r11].push(i67);
                    const h4 = o15.row < n38.row, u4 = o15.column < n38.column;
                    return h4 && l5.reverse(), u4 && l5.forEach((e201)=>e201.reverse()
                    ), {
                        cells: l5.flat(),
                        backward: h4 || u4
                    };
                }
            }
            class lw extends Qe {
                static get pluginName() {
                    return "TableClipboard";
                }
                static get requires() {
                    return [
                        cw,
                        Ob
                    ];
                }
                init() {
                    const e201 = this.editor, t119 = e201.editing.view.document;
                    this.listenTo(t119, "copy", (e202, t120)=>this._onCopyCut(e202, t120)
                    ), this.listenTo(t119, "cut", (e202, t120)=>this._onCopyCut(e202, t120)
                    ), this.listenTo(e201.model, "insertContent", (e202, t120)=>this._onInsertContent(e202, ...t120)
                    , {
                        priority: "high"
                    }), this.decorate("_replaceTableSlotCell");
                }
                _onCopyCut(e, t) {
                    const i66 = this.editor.plugins.get(cw);
                    if (!i66.getSelectedTableCells()) return;
                    if ("cut" == e.name && this.editor.isReadOnly) return;
                    t.preventDefault(), e.stop();
                    const n38 = this.editor.data, o15 = this.editor.editing.view.document, r11 = n38.toView(i66.getSelectionAsFragment());
                    o15.fire("clipboardOutput", {
                        dataTransfer: t.dataTransfer,
                        content: r11,
                        method: e.name
                    });
                }
                _onInsertContent(e, t, i) {
                    if (i && !i.is("documentSelection")) return;
                    const n38 = this.editor.model, o15 = this.editor.plugins.get(Ob);
                    let r11 = function(e201, t119) {
                        if (!e201.is("documentFragment") && !e201.is("element")) return null;
                        if (e201.is("element", "table")) return e201;
                        if (1 == e201.childCount && e201.getChild(0).is("element", "table")) return e201.getChild(0);
                        const i66 = t119.createRangeIn(e201);
                        for (const e202 of i66.getItems())if (e202.is("element", "table")) {
                            const n39 = t119.createRange(i66.start, t119.createPositionBefore(e202));
                            if (t119.hasContent(n39, {
                                ignoreWhitespaces: !0
                            })) return null;
                            const o16 = t119.createRange(t119.createPositionAfter(e202), i66.end);
                            return t119.hasContent(o16, {
                                ignoreWhitespaces: !0
                            }) ? null : e202;
                        }
                        return null;
                    }(t, n38);
                    if (!r11) return;
                    const s7 = sb(n38.document.selection);
                    s7.length ? (e.stop(), n38.change((e201)=>{
                        const t119 = {
                            width: o15.getColumns(r11),
                            height: o15.getRows(r11)
                        }, i66 = function(e202, t120, i67, n39) {
                            const o16 = e202[0].findAncestor("table"), r12 = cb(e202), s8 = ab(e202), a4 = {
                                firstColumn: r12.first,
                                lastColumn: r12.last,
                                firstRow: s8.first,
                                lastRow: s8.last
                            }, c7 = 1 === e202.length;
                            c7 && (a4.lastRow += t120.height - 1, a4.lastColumn += t120.width - 1, (function(e203, t121, i68, n40) {
                                const o17 = n40.getColumns(e203), r13 = n40.getRows(e203);
                                i68 > o17 && n40.insertColumns(e203, {
                                    at: o17,
                                    columns: i68 - o17
                                });
                                t121 > r13 && n40.insertRows(e203, {
                                    at: r13,
                                    rows: t121 - r13
                                });
                            })(o16, a4.lastRow + 1, a4.lastColumn + 1, n39));
                            c7 || !lb(e202, n39) ? (function(e203, t121, i68) {
                                const { firstRow: n40 , lastRow: o17 , firstColumn: r13 , lastColumn: s9  } = t121, a5 = {
                                    first: n40,
                                    last: o17
                                }, c8 = {
                                    first: r13,
                                    last: s9
                                };
                                hw(e203, r13, a5, i68), hw(e203, s9 + 1, a5, i68), dw(e203, n40, c8, i68), dw(e203, o17 + 1, c8, i68, n40);
                            })(o16, a4, i67) : (a4.lastRow = Tb(o16, a4), a4.lastColumn = Eb(o16, a4));
                            return a4;
                        }(s7, t119, e201, o15), n39 = i66.lastRow - i66.firstRow + 1, a4 = i66.lastColumn - i66.firstColumn + 1, c7 = {
                            startRow: 0,
                            startColumn: 0,
                            endRow: Math.min(n39, t119.height) - 1,
                            endColumn: Math.min(a4, t119.width) - 1
                        };
                        r11 = bb(r11, c7, e201);
                        const l5 = s7[0].findAncestor("table"), d8 = this._replaceSelectedCellsWithPasted(r11, t119, l5, i66, e201);
                        if (this.editor.plugins.get("TableSelection").isEnabled) {
                            const t120 = db(d8.map((t121)=>e201.createRangeOn(t121)
                            ));
                            e201.setSelection(t120);
                        } else e201.setSelection(d8[0], 0);
                    })) : Cb(r11, o15);
                }
                _replaceSelectedCellsWithPasted(e, t, i, n, o) {
                    const { width: r11 , height: s7  } = t, a4 = function(e201, t119, i66) {
                        const n38 = new Array(i66).fill(null).map(()=>new Array(t119).fill(null)
                        );
                        for (const { column: t120 , row: i67 , cell: o15  } of new qp(e201))n38[i67][t120] = o15;
                        return n38;
                    }(e, r11, s7), c7 = [
                        ...new qp(i, {
                            startRow: n.firstRow,
                            endRow: n.lastRow,
                            startColumn: n.firstColumn,
                            endColumn: n.lastColumn,
                            includeAllSlots: !0
                        })
                    ], l5 = [];
                    let d8;
                    for (const e201 of c7){
                        const { row: t119 , column: i66  } = e201;
                        i66 === n.firstColumn && (d8 = e201.getPositionBefore());
                        const c8 = t119 - n.firstRow, h4 = i66 - n.firstColumn, u4 = a4[c8 % s7][h4 % r11], g4 = u4 ? o.cloneElement(u4) : null, m4 = this._replaceTableSlotCell(e201, g4, d8, o);
                        m4 && (yb(m4, t119, i66, n.lastRow, n.lastColumn, o), l5.push(m4), d8 = o.createPositionAfter(m4));
                    }
                    const h4 = parseInt(i.getAttribute("headingRows") || 0), u4 = parseInt(i.getAttribute("headingColumns") || 0), g4 = n.firstRow < h4 && h4 <= n.lastRow, m4 = n.firstColumn < u4 && u4 <= n.lastColumn;
                    if (g4) {
                        const e202 = dw(i, h4, {
                            first: n.firstColumn,
                            last: n.lastColumn
                        }, o, n.firstRow);
                        l5.push(...e202);
                    }
                    if (m4) {
                        const e202 = hw(i, u4, {
                            first: n.firstRow,
                            last: n.lastRow
                        }, o);
                        l5.push(...e202);
                    }
                    return l5;
                }
                _replaceTableSlotCell(e, t, i, n) {
                    const { cell: o15 , isAnchor: r11  } = e;
                    return r11 && n.remove(o15), t ? (n.insert(t, i), t) : null;
                }
            }
            function dw(e201, t119, i66, n38, o15 = 0) {
                if (t119 < 1) return;
                return wb(e201, t119, o15).filter(({ column: e202 , cellWidth: t120  })=>uw(e202, t120, i66)
                ).map(({ cell: e202  })=>kb(e202, t119, n38)
                );
            }
            function hw(e201, t119, i66, n38) {
                if (t119 < 1) return;
                return _b(e201, t119).filter(({ row: e202 , cellHeight: t120  })=>uw(e202, t120, i66)
                ).map(({ cell: e202 , column: i67  })=>vb(e202, i67, t119, n38)
                );
            }
            function uw(e201, t119, i66) {
                const n38 = e201 + t119 - 1, { first: o15 , last: r11  } = i66;
                return e201 >= o15 && e201 <= r11 || e201 < o15 && n38 >= o15;
            }
            class gw extends Qe {
                static get pluginName() {
                    return "TableKeyboard";
                }
                static get requires() {
                    return [
                        cw
                    ];
                }
                init() {
                    const e201 = this.editor.editing.view.document;
                    this.editor.keystrokes.set("Tab", (...e202)=>this._handleTabOnSelectedTable(...e202)
                    , {
                        priority: "low"
                    }), this.editor.keystrokes.set("Tab", this._getTabHandler(!0), {
                        priority: "low"
                    }), this.editor.keystrokes.set("Shift+Tab", this._getTabHandler(!1), {
                        priority: "low"
                    }), this.listenTo(e201, "arrowKey", (...e202)=>this._onArrowKey(...e202)
                    , {
                        context: "table"
                    });
                }
                _handleTabOnSelectedTable(e, t) {
                    const i66 = this.editor, n38 = i66.model.document.selection.getSelectedElement();
                    n38 && n38.is("element", "table") && (t(), i66.model.change((e201)=>{
                        e201.setSelection(e201.createRangeIn(n38.getChild(0).getChild(0)));
                    }));
                }
                _getTabHandler(e) {
                    const t119 = this.editor;
                    return (i66, n38)=>{
                        let o15 = rb(t119.model.document.selection)[0];
                        if (o15 || (o15 = this.editor.plugins.get("TableSelection").getFocusCell()), !o15) return;
                        n38();
                        const r11 = o15.parent, s7 = r11.parent, a4 = s7.getChildIndex(r11), c7 = r11.getChildIndex(o15), l5 = 0 === c7;
                        if (!e && l5 && 0 === a4) return void t119.model.change((e201)=>{
                            e201.setSelection(e201.createRangeOn(s7));
                        });
                        const d8 = this.editor.plugins.get("TableUtils"), h4 = c7 === r11.childCount - 1, u4 = a4 === d8.getRows(s7) - 1;
                        if (e && u4 && h4 && (t119.execute("insertTableRowBelow"), a4 === d8.getRows(s7) - 1)) return void t119.model.change((e201)=>{
                            e201.setSelection(e201.createRangeOn(s7));
                        });
                        let g4;
                        if (e && h4) {
                            const e201 = s7.getChild(a4 + 1);
                            g4 = e201.getChild(0);
                        } else if (!e && l5) {
                            const e201 = s7.getChild(a4 - 1);
                            g4 = e201.getChild(e201.childCount - 1);
                        } else g4 = r11.getChild(c7 + (e ? 1 : -1));
                        t119.model.change((e201)=>{
                            e201.setSelection(e201.createRangeIn(g4));
                        });
                    };
                }
                _onArrowKey(e, t) {
                    const i66 = this.editor, n38 = Lo(t.keyCode, i66.locale.contentLanguageDirection);
                    this._handleArrowKeys(n38, t.shiftKey) && (t.preventDefault(), t.stopPropagation(), e.stop());
                }
                _handleArrowKeys(e, t) {
                    const i66 = this.editor.model.document.selection, n38 = [
                        "right",
                        "down"
                    ].includes(e), o15 = ob(i66);
                    if (o15.length) {
                        let i67;
                        return i67 = t ? this.editor.plugins.get("TableSelection").getFocusCell() : n38 ? o15[o15.length - 1] : o15[0], this._navigateFromCellInDirection(i67, e, t), !0;
                    }
                    const r11 = i66.focus.findAncestor("tableCell");
                    return !!r11 && !(t && !i66.isCollapsed && i66.isBackward == n38) && !!this._isSelectionAtCellEdge(i66, r11, n38) && (this._navigateFromCellInDirection(r11, e, t), !0);
                }
                _isSelectionAtCellEdge(e, t, i) {
                    const n38 = this.editor.model, o15 = this.editor.model.schema, r11 = i ? e.getLastPosition() : e.getFirstPosition();
                    if (!o15.getLimitElement(r11).is("element", "tableCell")) return n38.createPositionAt(t, i ? "end" : 0).isTouching(r11);
                    const s7 = n38.createSelection(r11);
                    return n38.modifySelection(s7, {
                        direction: i ? "forward" : "backward"
                    }), r11.isEqual(s7.focus);
                }
                _navigateFromCellInDirection(e, t, i = !1) {
                    const n38 = this.editor.model, o15 = e.findAncestor("table"), r11 = [
                        ...new qp(o15, {
                            includeAllSlots: !0
                        })
                    ], { row: s7 , column: a4  } = r11[r11.length - 1], c7 = r11.find(({ cell: t119  })=>t119 == e
                    );
                    let { row: l5 , column: d8  } = c7;
                    switch(t){
                        case "left":
                            d8--;
                            break;
                        case "up":
                            l5--;
                            break;
                        case "right":
                            d8 += c7.cellWidth;
                            break;
                        case "down":
                            l5 += c7.cellHeight;
                    }
                    if (l5 < 0 || l5 > s7 || d8 < 0 && l5 <= 0 || d8 > a4 && l5 >= s7) return void n38.change((e201)=>{
                        e201.setSelection(e201.createRangeOn(o15));
                    });
                    d8 < 0 ? (d8 = i ? 0 : a4, l5--) : d8 > a4 && (d8 = i ? a4 : 0, l5++);
                    const h4 = r11.find((e201)=>e201.row == l5 && e201.column == d8
                    ).cell, u4 = [
                        "right",
                        "down"
                    ].includes(t), g4 = this.editor.plugins.get("TableSelection");
                    if (i && g4.isEnabled) {
                        const t119 = g4.getAnchorCell() || e;
                        g4.setCellSelection(t119, h4);
                    } else {
                        const e201 = n38.createPositionAt(h4, u4 ? 0 : "end");
                        n38.change((t119)=>{
                            t119.setSelection(e201);
                        });
                    }
                }
            }
            class mw extends ts {
                constructor(e201){
                    super(e201), this.domEventType = [
                        "mousemove",
                        "mouseleave"
                    ];
                }
                onDomEvent(e) {
                    this.fire(e.type, e);
                }
            }
            class fw extends Qe {
                static get pluginName() {
                    return "TableMouse";
                }
                static get requires() {
                    return [
                        cw
                    ];
                }
                init() {
                    this.editor.editing.view.addObserver(mw), this._enableShiftClickSelection(), this._enableMouseDragSelection();
                }
                _enableShiftClickSelection() {
                    const e202 = this.editor;
                    let t119 = !1;
                    const i66 = e202.plugins.get(cw);
                    this.listenTo(e202.editing.view.document, "mousedown", (n38, o15)=>{
                        if (!this.isEnabled || !i66.isEnabled) return;
                        if (!o15.domEvent.shiftKey) return;
                        const r11 = i66.getAnchorCell() || rb(e202.model.document.selection)[0];
                        if (!r11) return;
                        const s7 = this._getModelTableCellFromDomEvent(o15);
                        s7 && pw(r11, s7) && (t119 = !0, i66.setCellSelection(r11, s7), o15.preventDefault());
                    }), this.listenTo(e202.editing.view.document, "mouseup", ()=>{
                        t119 = !1;
                    }), this.listenTo(e202.editing.view.document, "selectionChange", (e203)=>{
                        t119 && e203.stop();
                    }, {
                        priority: "highest"
                    });
                }
                _enableMouseDragSelection() {
                    const e202 = this.editor;
                    let t119, i66, n38 = !1, o15 = !1;
                    const r11 = e202.plugins.get(cw);
                    this.listenTo(e202.editing.view.document, "mousedown", (e203, i67)=>{
                        this.isEnabled && r11.isEnabled && (i67.domEvent.shiftKey || i67.domEvent.ctrlKey || i67.domEvent.altKey || (t119 = this._getModelTableCellFromDomEvent(i67)));
                    }), this.listenTo(e202.editing.view.document, "mousemove", (e203, s7)=>{
                        if (!s7.domEvent.buttons) return;
                        if (!t119) return;
                        const a4 = this._getModelTableCellFromDomEvent(s7);
                        a4 && pw(t119, a4) && (i66 = a4, n38 || i66 == t119 || (n38 = !0)), n38 && (o15 = !0, r11.setCellSelection(t119, i66), s7.preventDefault());
                    }), this.listenTo(e202.editing.view.document, "mouseup", ()=>{
                        n38 = !1, o15 = !1, t119 = null, i66 = null;
                    }), this.listenTo(e202.editing.view.document, "selectionChange", (e203)=>{
                        o15 && e203.stop();
                    }, {
                        priority: "highest"
                    });
                }
                _getModelTableCellFromDomEvent(e) {
                    const t119 = e.target, i66 = this.editor.editing.view.createPositionAt(t119, 0);
                    return this.editor.editing.mapper.toModelPosition(i66).parent.findAncestor("tableCell", {
                        includeSelf: !0
                    });
                }
            }
            function pw(e202, t119) {
                return e202.parent.parent == t119.parent.parent;
            }
            i2(106);
            function bw(e202) {
                const t119 = e202.getSelectedElement();
                return t119 && kw(t119) ? t119 : null;
            }
            function ww(e202) {
                let t119 = e202.getFirstPosition().parent;
                for(; t119;){
                    if (t119.is("element") && kw(t119)) return t119;
                    t119 = t119.parent;
                }
                return null;
            }
            function kw(e202) {
                return !!e202.getCustomProperty("table") && Oh(e202);
            }
            const _w = {
                autoRefresh: !0
            };
            class vw {
                constructor(e202, t119 = _w){
                    if (!e202) throw new c2.a("token-missing-token-url", this);
                    t119.initValue && this._validateTokenValue(t119.initValue), this.set("value", t119.initValue), this._refresh = "function" == typeof e202 ? e202 : ()=>{
                        var t120;
                        return t120 = e202, new Promise((e203, i66)=>{
                            const n38 = new XMLHttpRequest;
                            n38.open("GET", t120), n38.addEventListener("load", ()=>{
                                const t121 = n38.status, o15 = n38.response;
                                return t121 < 200 || t121 > 299 ? i66(new c2.a("token-cannot-download-new-token", null)) : e203(o15);
                            }), n38.addEventListener("error", ()=>i66(new Error("Network Error"))
                            ), n38.addEventListener("abort", ()=>i66(new Error("Abort"))
                            ), n38.send();
                        });
                    }, this._options = Object.assign({
                    }, _w, t119);
                }
                init() {
                    return new Promise((e203, t121)=>{
                        this.value ? (this._options.autoRefresh && this._registerRefreshTokenTimeout(), e203(this)) : this.refreshToken().then(e203).catch(t121);
                    });
                }
                refreshToken() {
                    return this._refresh().then((e203)=>{
                        this._validateTokenValue(e203), this.set("value", e203), this._options.autoRefresh && this._registerRefreshTokenTimeout();
                    }).then(()=>this
                    );
                }
                destroy() {
                    clearTimeout(this._tokenRefreshTimeout);
                }
                _validateTokenValue(e) {
                    const t121 = "string" == typeof e, i66 = !/^".*"$/.test(e), n38 = t121 && 3 === e.split(".").length;
                    if (!i66 || !n38) throw new c2.a("token-not-in-jwt-format", this);
                }
                _registerRefreshTokenTimeout() {
                    const e203 = this._getTokenRefreshTimeoutTime();
                    clearTimeout(this._tokenRefreshTimeout), this._tokenRefreshTimeout = setTimeout(()=>{
                        this.refreshToken();
                    }, e203);
                }
                _getTokenRefreshTimeoutTime() {
                    try {
                        const [, e203] = this.value.split("."), { exp: t121  } = JSON.parse(atob(e203));
                        if (!t121) return 3600000;
                        return Math.floor((1000 * t121 - Date.now()) / 2);
                    } catch (e204) {
                        return 3600000;
                    }
                }
                static create(e, t = _w) {
                    return new vw(e, t).init();
                }
            }
            Ke(vw, Ue);
            var yw = vw;
            const xw = /^data:(\S*?);base64,/;
            class Aw {
                constructor(e203, t121, i66){
                    if (!e203) throw new c2.a("fileuploader-missing-file", null);
                    if (!t121) throw new c2.a("fileuploader-missing-token", null);
                    if (!i66) throw new c2.a("fileuploader-missing-api-address", null);
                    this.file = (function(e204) {
                        if ("string" != typeof e204) return !1;
                        const t122 = e204.match(xw);
                        return !(!t122 || !t122.length);
                    })(e203) ? (function(e204, t122 = 512) {
                        try {
                            const i67 = e204.match(xw)[1], n38 = atob(e204.replace(xw, "")), o15 = [];
                            for(let e205 = 0; e205 < n38.length; e205 += t122){
                                const i68 = n38.slice(e205, e205 + t122), r11 = new Array(i68.length);
                                for(let e206 = 0; e206 < i68.length; e206++)r11[e206] = i68.charCodeAt(e206);
                                o15.push(new Uint8Array(r11));
                            }
                            return new Blob(o15, {
                                type: i67
                            });
                        } catch (e206) {
                            throw new c2.a("fileuploader-decoding-image-data-error", null);
                        }
                    })(e203) : e203, this._token = t121, this._apiAddress = i66;
                }
                onProgress(e) {
                    return this.on("progress", (t122, i67)=>e(i67)
                    ), this;
                }
                onError(e) {
                    return this.once("error", (t122, i67)=>e(i67)
                    ), this;
                }
                abort() {
                    this.xhr.abort();
                }
                send() {
                    return this._prepareRequest(), this._attachXHRListeners(), this._sendRequest();
                }
                _prepareRequest() {
                    const e204 = new XMLHttpRequest;
                    e204.open("POST", this._apiAddress), e204.setRequestHeader("Authorization", this._token.value), e204.responseType = "json", this.xhr = e204;
                }
                _attachXHRListeners() {
                    const e204 = this, t122 = this.xhr;
                    function i67(t123) {
                        return ()=>e204.fire("error", t123)
                        ;
                    }
                    t122.addEventListener("error", i67("Network Error")), t122.addEventListener("abort", i67("Abort")), t122.upload && t122.upload.addEventListener("progress", (e205)=>{
                        e205.lengthComputable && this.fire("progress", {
                            total: e205.total,
                            uploaded: e205.loaded
                        });
                    }), t122.addEventListener("load", ()=>{
                        const e205 = t122.status, i68 = t122.response;
                        if (e205 < 200 || e205 > 299) return this.fire("error", i68.message || i68.error);
                    });
                }
                _sendRequest() {
                    const e204 = new FormData, t122 = this.xhr;
                    return e204.append("file", this.file), new Promise((i67, n38)=>{
                        t122.addEventListener("load", ()=>{
                            const e205 = t122.status, o15 = t122.response;
                            return e205 < 200 || e205 > 299 ? o15.message ? n38(new c2.a("fileuploader-uploading-data-failed", this, {
                                message: o15.message
                            })) : n38(o15.error) : i67(o15);
                        }), t122.addEventListener("error", ()=>n38(new Error("Network Error"))
                        ), t122.addEventListener("abort", ()=>n38(new Error("Abort"))
                        ), t122.send(e204);
                    });
                }
            }
            Ke(Aw, h1);
            class Cw {
                constructor(e204, t122){
                    if (!e204) throw new c2.a("uploadgateway-missing-token", null);
                    if (!t122) throw new c2.a("uploadgateway-missing-api-address", null);
                    this._token = e204, this._apiAddress = t122;
                }
                upload(e) {
                    return new Aw(e, this._token, this._apiAddress);
                }
            }
            class Tw extends an {
                static get pluginName() {
                    return "CloudServicesCore";
                }
                createToken(e, t) {
                    return new yw(e, t);
                }
                createUploadGateway(e, t) {
                    return new Cw(e, t);
                }
            }
            class Ew extends ph {
            }
            Ew.builtinPlugins = [
                class extends Qe {
                    static get requires() {
                        return [
                            lu,
                            Ch,
                            ku,
                            gu,
                            Eu,
                            ig
                        ];
                    }
                    static get pluginName() {
                        return "Essentials";
                    }
                },
                class extends Qe {
                    static get requires() {
                        return [
                            og
                        ];
                    }
                    static get pluginName() {
                        return "CKFinderUploadAdapter";
                    }
                    init() {
                        const e205 = this.editor.config.get("ckfinder.uploadUrl");
                        e205 && (this.editor.plugins.get(og).createUploadAdapter = (t123)=>new lg(t123, e205, this.editor.t)
                        );
                    }
                },
                class extends Qe {
                    static get pluginName() {
                        return "Autoformat";
                    }
                    afterInit() {
                        this._addListAutoformats(), this._addBasicStylesAutoformats(), this._addHeadingAutoformats(), this._addBlockQuoteAutoformats(), this._addCodeBlockAutoformats(), this._addHorizontalLineAutoformats();
                    }
                    _addListAutoformats() {
                        const e205 = this.editor.commands;
                        e205.get("bulletedList") && dg(this.editor, this, /^[*-]\s$/, "bulletedList"), e205.get("numberedList") && dg(this.editor, this, /^1[.|)]\s$/, "numberedList"), e205.get("todoList") && dg(this.editor, this, /^\[\s?\]\s$/, "todoList"), e205.get("checkTodoList") && dg(this.editor, this, /^\[\s?x\s?\]\s$/, ()=>{
                            this.editor.execute("todoList"), this.editor.execute("checkTodoList");
                        });
                    }
                    _addBasicStylesAutoformats() {
                        const e205 = this.editor.commands;
                        if (e205.get("bold")) {
                            const e206 = gg(this.editor, "bold");
                            hg(this.editor, this, /(?:^|\s)(\*\*)([^*]+)(\*\*)$/g, e206), hg(this.editor, this, /(?:^|\s)(__)([^_]+)(__)$/g, e206);
                        }
                        if (e205.get("italic")) {
                            const e206 = gg(this.editor, "italic");
                            hg(this.editor, this, /(?:^|\s)(\*)([^*_]+)(\*)$/g, e206), hg(this.editor, this, /(?:^|\s)(_)([^_]+)(_)$/g, e206);
                        }
                        if (e205.get("code")) {
                            const e206 = gg(this.editor, "code");
                            hg(this.editor, this, /(`)([^`]+)(`)$/g, e206);
                        }
                        if (e205.get("strikethrough")) {
                            const e206 = gg(this.editor, "strikethrough");
                            hg(this.editor, this, /(~~)([^~]+)(~~)$/g, e206);
                        }
                    }
                    _addHeadingAutoformats() {
                        const e205 = this.editor.commands.get("heading");
                        e205 && e205.modelElements.filter((e206)=>e206.match(/^heading[1-6]$/)
                        ).forEach((t123)=>{
                            const i67 = t123[7], n38 = new RegExp(`^(#{${i67}})\\s$`);
                            dg(this.editor, this, n38, ()=>{
                                if (!e205.isEnabled || e205.value === t123) return !1;
                                this.editor.execute("heading", {
                                    value: t123
                                });
                            });
                        });
                    }
                    _addBlockQuoteAutoformats() {
                        this.editor.commands.get("blockQuote") && dg(this.editor, this, /^>\s$/, "blockQuote");
                    }
                    _addCodeBlockAutoformats() {
                        const e205 = this.editor, t123 = e205.model.document.selection;
                        e205.commands.get("codeBlock") && dg(e205, this, /^```$/, ()=>{
                            if (t123.getFirstPosition().parent.is("element", "listItem")) return !1;
                            this.editor.execute("codeBlock", {
                                usePreviousLanguageChoice: !0
                            });
                        });
                    }
                    _addHorizontalLineAutoformats() {
                        this.editor.commands.get("horizontalLine") && dg(this.editor, this, /^---$/, "horizontalLine");
                    }
                },
                class extends Qe {
                    static get requires() {
                        return [
                            fg,
                            pg
                        ];
                    }
                    static get pluginName() {
                        return "Bold";
                    }
                },
                class extends Qe {
                    static get requires() {
                        return [
                            bg,
                            wg
                        ];
                    }
                    static get pluginName() {
                        return "Italic";
                    }
                },
                class extends Qe {
                    static get requires() {
                        return [
                            xg,
                            Ag
                        ];
                    }
                    static get pluginName() {
                        return "BlockQuote";
                    }
                },
                class extends Qe {
                    static get pluginName() {
                        return "CKFinder";
                    }
                    static get requires() {
                        return [
                            "Link",
                            "CKFinderUploadAdapter",
                            Ig,
                            Cg
                        ];
                    }
                },
                class extends an {
                    static get pluginName() {
                        return "CloudServices";
                    }
                    static get requires() {
                        return [
                            Tw
                        ];
                    }
                    init() {
                        const e205 = this.context.config.get("cloudServices") || {
                        };
                        for(const t123 in e205)this[t123] = e205[t123];
                        if (this._tokens = new Map, this.tokenUrl) return this.token = this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl), this._tokens.set(this.tokenUrl, this.token), this.token.init();
                        this.token = null;
                    }
                    registerTokenUrl(e) {
                        if (this._tokens.has(e)) return Promise.resolve(this.getTokenFor(e));
                        const t123 = this.context.plugins.get("CloudServicesCore").createToken(e);
                        return this._tokens.set(e, t123), t123.init();
                    }
                    getTokenFor(e) {
                        const t123 = this._tokens.get(e);
                        if (!t123) throw new c2.a("cloudservices-token-not-registered", this);
                        return t123;
                    }
                    destroy() {
                        super.destroy();
                        for (const e205 of this._tokens.values())e205.destroy();
                    }
                },
                class extends Qe {
                    static get requires() {
                        return [
                            Sg,
                            "ImageUpload"
                        ];
                    }
                    init() {
                        const e205 = this.editor;
                        e205.plugins.has("ImageBlockEditing") || e205.plugins.has("ImageInlineEditing") || Object(c2.b)("easy-image-image-feature-missing", e205);
                    }
                    static get pluginName() {
                        return "EasyImage";
                    }
                },
                class extends Qe {
                    static get requires() {
                        return [
                            Lg,
                            Vg
                        ];
                    }
                    static get pluginName() {
                        return "Heading";
                    }
                },
                class extends Qe {
                    static get requires() {
                        return [
                            lm,
                            hm
                        ];
                    }
                    static get pluginName() {
                        return "Image";
                    }
                },
                class extends Qe {
                    static get requires() {
                        return [
                            fm,
                            bm
                        ];
                    }
                    static get pluginName() {
                        return "ImageCaption";
                    }
                },
                class extends Qe {
                    static get requires() {
                        return [
                            Nm,
                            Rm
                        ];
                    }
                    static get pluginName() {
                        return "ImageStyle";
                    }
                },
                class extends Qe {
                    static get requires() {
                        return [
                            jg,
                            Kg
                        ];
                    }
                    static get pluginName() {
                        return "ImageToolbar";
                    }
                    afterInit() {
                        const e205 = this.editor, t123 = e205.t, i67 = e205.plugins.get(jg), n38 = e205.plugins.get("ImageUtils");
                        var o15;
                        i67.register("image", {
                            ariaLabel: t123("Image toolbar"),
                            items: (o15 = e205.config.get("image.toolbar") || [], o15.map((e206)=>w(e206) ? e206.name : e206
                            )),
                            getRelatedElement: (e206)=>n38.getClosestSelectedImageWidget(e206)
                        });
                    }
                },
                class extends Qe {
                    static get pluginName() {
                        return "ImageUpload";
                    }
                    static get requires() {
                        return [
                            Gm,
                            Bm,
                            Fm
                        ];
                    }
                },
                class extends Qe {
                    static get pluginName() {
                        return "Indent";
                    }
                    static get requires() {
                        return [
                            Qm,
                            Xm
                        ];
                    }
                },
                class extends Qe {
                    static get requires() {
                        return [
                            Mf,
                            Lf,
                            Bf
                        ];
                    }
                    static get pluginName() {
                        return "Link";
                    }
                },
                class extends Qe {
                    static get requires() {
                        return [
                            up,
                            mp
                        ];
                    }
                    static get pluginName() {
                        return "List";
                    }
                },
                class extends Qe {
                    static get requires() {
                        return [
                            yp,
                            Tp,
                            Ap,
                            eu
                        ];
                    }
                    static get pluginName() {
                        return "MediaEmbed";
                    }
                },
                Og,
                class extends Qe {
                    static get pluginName() {
                        return "PasteFromOffice";
                    }
                    static get requires() {
                        return [
                            _h
                        ];
                    }
                    init() {
                        const e205 = this.editor, t123 = e205.editing.view.document, i67 = [];
                        i67.push(new Dp(t123)), i67.push(new Np(t123)), e205.plugins.get("ClipboardPipeline").on("inputTransformation", (e206, n38)=>{
                            if (n38._isTransformedWithPasteFromOffice) return;
                            const o16 = n38.dataTransfer.getData("text/html"), r11 = i67.find((e207)=>e207.isActive(o16)
                            );
                            r11 && (n38._parsedData = Vp(o16, t123.stylesProcessor), r11.execute(n38), n38._isTransformedWithPasteFromOffice = !0);
                        }, {
                            priority: "high"
                        });
                    }
                },
                class extends Qe {
                    static get requires() {
                        return [
                            iw,
                            sw,
                            cw,
                            fw,
                            gw,
                            lw,
                            eu
                        ];
                    }
                    static get pluginName() {
                        return "Table";
                    }
                },
                class extends Qe {
                    static get requires() {
                        return [
                            jg
                        ];
                    }
                    static get pluginName() {
                        return "TableToolbar";
                    }
                    afterInit() {
                        const e205 = this.editor, t123 = e205.t, i67 = e205.plugins.get(jg), n38 = e205.config.get("table.contentToolbar"), o16 = e205.config.get("table.tableToolbar");
                        n38 && i67.register("tableContent", {
                            ariaLabel: t123("Table toolbar"),
                            items: n38,
                            getRelatedElement: ww
                        }), o16 && i67.register("table", {
                            ariaLabel: t123("Table toolbar"),
                            items: o16,
                            getRelatedElement: bw
                        });
                    }
                },
                class extends Qe {
                    static get pluginName() {
                        return "TextTransformation";
                    }
                    constructor(e205){
                        super(e205), e205.config.define("typing", {
                            transformations: {
                                include: Bu
                            }
                        });
                    }
                    init() {
                        const e206 = this.editor.model.document.selection;
                        e206.on("change:range", ()=>{
                            this.isEnabled = !e206.anchor.parent.is("element", "codeBlock");
                        }), this._enableTransformationWatchers();
                    }
                    _enableTransformationWatchers() {
                        const e206 = this.editor, t123 = e206.model, i67 = e206.plugins.get("Input"), n38 = function(e207) {
                            const t124 = e207.extra || [], i68 = e207.remove || [], n39 = (e208)=>!i68.includes(e208)
                            ;
                            return (function(e208) {
                                const t125 = new Set;
                                for (const i69 of e208)if (ju[i69]) for (const e209 of ju[i69])t125.add(e209);
                                else t125.add(i69);
                                return Array.from(t125);
                            })(e207.include.concat(t124).filter(n39)).filter(n39).map((e208)=>Vu[e208] || e208
                            ).map((e208)=>({
                                    from: Fu(e208.from),
                                    to: Hu(e208.to)
                                })
                            );
                        }(e206.config.get("typing.transformations")), o16 = new Su(e206.model, (e207)=>{
                            for (const t124 of n38){
                                if (t124.from.test(e207)) return {
                                    normalizedTransformation: t124
                                };
                            }
                        });
                        o16.on("matched:data", (e207, n39)=>{
                            if (!i67.isInput(n39.batch)) return;
                            const { from: o17 , to: r11  } = n39.normalizedTransformation, s7 = o17.exec(n39.text), a4 = r11(s7.slice(1)), c7 = n39.range;
                            let l5 = s7.index;
                            t123.enqueueChange((e208)=>{
                                for(let i68 = 1; i68 < s7.length; i68++){
                                    const n40 = s7[i68], o18 = a4[i68 - 1];
                                    if (null == o18) {
                                        l5 += n40.length;
                                        continue;
                                    }
                                    const r12 = c7.start.getShiftedBy(l5), d8 = t123.createRange(r12, r12.getShiftedBy(n40.length)), h4 = Uu(r12);
                                    t123.insertContent(e208.createText(o18, h4), d8), l5 += o18.length;
                                }
                            });
                        }), o16.bind("isEnabled").to(this);
                    }
                }
            ], Ew.defaultConfig = {
                toolbar: {
                    items: [
                        "heading",
                        "|",
                        "bold",
                        "italic",
                        "link",
                        "bulletedList",
                        "numberedList",
                        "|",
                        "outdent",
                        "indent",
                        "|",
                        "uploadImage",
                        "blockQuote",
                        "insertTable",
                        "mediaEmbed",
                        "undo",
                        "redo"
                    ]
                },
                image: {
                    toolbar: [
                        "imageStyle:inline",
                        "imageStyle:block",
                        "imageStyle:side",
                        "|",
                        "toggleImageCaption",
                        "imageTextAlternative"
                    ]
                },
                table: {
                    contentToolbar: [
                        "tableColumn",
                        "tableRow",
                        "mergeTableCells"
                    ]
                },
                language: "en"
            };
        }
    ]).default;
});

},{}],"JacNc":[function(require,module,exports) {
exports.interopDefault = function(a) {
    return a && a.__esModule ? a : {
        default: a
    };
};
exports.defineInteropFlag = function(a) {
    Object.defineProperty(a, '__esModule', {
        value: true
    });
};
exports.exportAll = function(source, dest) {
    Object.keys(source).forEach(function(key) {
        if (key === 'default' || key === '__esModule') return;
        // Skip duplicate re-exports when they have the same value.
        if (key in dest && dest[key] === source[key]) return;
        Object.defineProperty(dest, key, {
            enumerable: true,
            get: function() {
                return source[key];
            }
        });
    });
    return dest;
};
exports.export = function(dest, destName, get) {
    Object.defineProperty(dest, destName, {
        enumerable: true,
        get: get
    });
};

},{}]},["8Ye98","6cF5V"], "6cF5V", "parcelRequire55af")

//# sourceMappingURL=create-post.5cb7de60.js.map
